"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2355],{61407:(e,t,a)=>{a.d(t,{I:()=>o});var i=a(30758),s=a(61621),r=a(56116),n=a(67759),l=a(86070);const o=i.memo((function({uri:e,size:t=s.M.md,className:a,onClick:o,canDownload:c,condensedAll:d}){const[u,m]=(0,n.A)(e),p=(0,r.W)(),y=(0,i.useCallback)((()=>{p({targetUri:e,intent:u?"unsave":"save",type:"click"}),m(!u)}),[p,e,u,m]);return(0,l.jsx)(s.f,{className:a,isFollowing:u,onFollow:y,onClick:o,uri:e,size:t,canDownload:c,condensedAll:d,condensed:!0})}))},98016:(e,t,a)=>{a.d(t,{w:()=>m});var i=a(30758),s=a(97500),r=a.n(s),n=a(8126),l=a(93492),o=a(68692),c=a(73080);const d="pvGZ831aNzHTQMZ8CA_u";var u=a(86070);const m=(0,i.memo)((function({onClick:e=()=>{},size:t,className:a,uri:s,sharingInfo:m,interactionData:p,ariaLabel:y=l.Ru.get("mwp.list.item.share"),condensedAll:h,placement:g,semanticColor:x,disableTooltip:b}){const{onCopyLink:f}=(0,c.L)({sharingInfo:m,uri:s,interactionData:p}),T=(0,i.useCallback)((()=>{f(),e()}),[e,f]);return(0,u.jsx)(o.a,{ariaLabel:y,size:t,onClick:T,className:r()(d,a),icon:n.C,condensedAll:h,placement:g,condensed:!0,semanticColor:x,disableTooltip:b})}))},74918:(e,t,a)=>{a.d(t,{B:()=>A});var i=a(30758),s=a(1648),r=a(13505),n=a(93492),l=a(92907),o=a(30848),c=a(97194),d=a(47300),u=a(4608),m=a(12367),p=a(26630),y=a(34855),h=a(5119),g=a(46970),x=a(59829),b=a(70777),f=a(86070);const T=(e,t)=>(a,i)=>{i&&e.logInteraction(t.cardLinkFactory({position:0}).hitUiNavigate({destination:i}))},A=({name:e,uri:t,images:a,description:A,authorName:j,authorUri:R,isHero:C=!1,onClick:k=()=>{},testId:v,index:S,requestId:I,color:E,isPlayable:P,variant:N,logCardImpressions:L=!1,leaveTitleVisible:w})=>{let U,_=(0,f.jsx)(p.W,{uri:t}),M=P,O=!1;const B=R||"",D=(0,i.useCallback)((()=>{k?.(B)}),[k,B]);(0,x.c0)(t)&&(M=!0,_=(0,f.jsx)(g.gb,{}),O=!0);const F=w||!("spotify:user:spotify"===R);return U=C?(0,f.jsx)(d.A,{index:S,onClick:k,headerText:e,featureIdentifier:"playlist",uri:t,isDownloadable:!0,playInsteadOfNavigating:O,renderCardImage:()=>(0,f.jsx)(o.M,{isHero:!0,images:a,color:E,FallbackComponent:e=>(0,f.jsx)(s.e,{size:"xxlarge",...e})}),renderSubHeaderContent:(e,t)=>(0,f.jsxs)(c.c,{isHero:!0,children:[(0,f.jsx)(u.t,{children:n.Ru.get("card.tag.playlist")}),A?(0,f.jsx)(b.N,{source:A,LinkComponent:h.N,onLinkClick:T(e,t)}):j&&R&&(0,f.jsx)(m.h,{menu:(0,f.jsx)(y.B,{uri:B}),children:(0,f.jsx)(r.E,{variant:"bodySmall",children:(0,f.jsx)(h.N,{to:B,onClick:D,children:j})})})]}),testId:v,requestId:I,isPlayable:M,logCardImpressions:L}):(0,f.jsx)(l.Z,{variant:N,index:S,onClick:k,headerText:e,featureIdentifier:"playlist",uri:t,isDownloadable:!0,playInsteadOfNavigating:O,renderCardImage:()=>(0,f.jsx)(o.M,{images:a,color:E,FallbackComponent:e=>(0,f.jsx)(s.e,{size:"xxlarge",...e})}),renderSubHeaderContent:(e,t)=>(0,f.jsx)(c.c,{children:A?(0,f.jsx)(b.N,{source:A,LinkComponent:h.N,onLinkClick:T(e,t)}):j&&(0,f.jsx)("span",{children:n.Ru.get("search.playlist-by",j)})}),testId:v,requestId:I,isPlayable:M,logCardImpressions:L,showTitle:F}),(0,f.jsx)(m.h,{menu:_,children:U})}},15393:(e,t,a)=>{a.d(t,{k:()=>d});var i=a(30758),s=a(97500),r=a.n(s),n=a(12431),l=a(2989),o=a(41774),c=a(86070);const d=(0,i.memo)((function(e){const{breakpoint:t,className:a,showSeparator:i,isActive:s,...d}=e;return(0,c.jsx)(n.v,{className:r()(a,o.A.entityRow,{[o.A.separator]:i,[o.A.active]:s}),hoverBackgroundColor:"backgroundTintedHighlight",activeBackgroundColor:"backgroundTintedBase",layout:t===l.e.SMALL?"regular":"wide",hoverAnimationDuration:"0ms",horizontalGap:t===l.e.SMALL?"12px":"16px",paddingBlockStart:"12px",paddingBlockEnd:"12px",...d})}))},83506:(e,t,a)=>{a.d(t,{X:()=>l});var i=a(13505);const s="dK79XxAEu3SEKJ2jS_Qy",r="guiUbDD6Ga8Qpatq2jQ8";var n=a(86070);const l=({badges:e,children:t})=>(0,n.jsxs)("div",{className:s,children:[e,(0,n.jsx)(i.E,{variant:"bodySmall",className:r,children:t})]})},5488:(e,t,a)=>{a.d(t,{q:()=>r});var i=a(30047),s=a(86070);const r=e=>(0,s.jsx)(i.R,{size:"small",version:i.H.secondary,...e})},95211:(e,t,a)=>{a.d(t,{k:()=>l});var i=a(94934),s=a(72869),r=a(41774),n=a(86070);const l=({description:e,children:t})=>(0,n.jsxs)("div",{className:r.A.body,children:[e&&(0,n.jsx)(i.v,{lineClamp:2,as:"div",dir:"auto",children:(0,n.jsx)(s.q,{asTextContent:!0,html:e})}),t]})},66298:(e,t,a)=>{a.d(t,{F:()=>r});var i=a(41774),s=a(86070);const r=({actions:e,playButton:t})=>(0,s.jsxs)("div",{className:i.A.footer,children:[(0,s.jsx)("div",{className:i.A.actions,children:e}),t]})},75395:(e,t,a)=>{a.d(t,{e:()=>o});var i=a(2989),s=a(55117),r=a(75189),n=a(94258),l=a(86070);const o=({images:e,breakpoint:t,type:a,name:o})=>{const c=(0,n._)(),d=t===i.e.SMALL?r.Qe.SIZE_64:r.Qe.SIZE_112;return(0,l.jsx)(s.b,{fadeIn:!0,images:c(e,r.BZ[d]),shape:s.u.ROUNDED_CORNERS,size:d,iconSize:t===i.e.SMALL?"medium":"xlarge",type:a,title:o,loadingMode:"eager"})}},96089:(e,t,a)=>{a.d(t,{U:()=>n});var i=a(55158),s=a(41774),r=a(86070);const n=({children:e})=>(0,r.jsx)(i.d,{lineClamp:2,as:"div",dir:"auto",className:s.A.title,children:e})},35393:(e,t,a)=>{a.d(t,{p:()=>d});var i=a(2169),s=a(19549),r=a(15936),n=a(81994),l=a(42262),o=a(39876),c=a(86070);const d=({index:e,logShelfImpressions:t=!1,...a})=>{const{id:d,seeAllUri:u}=a,{onClickShelfTitle:m,onClickShelfSeeAll:p,spec:y}=(0,s.w)({seeAllUri:u,index:e,id:d}),h=(0,o.t)(y),g=(0,r.a)(u),x=(0,n.O)(u);return(0,c.jsx)(l.r,{spec:y,children:(0,c.jsx)(i.$,{...a,elementRef:t?h:void 0,onClickShelfTitle:()=>{m(),g({category:r.w.TitleClicks}),x({category:n.U.TitleClicks})},onClickShelfSeeAll:()=>{p(),g({category:r.w.ShowAll}),x({category:n.U.ShowAll})}})})}},19549:(e,t,a)=>{a.d(t,{w:()=>n});var i=a(30758),s=a(62187),r=a(82362);const n=({seeAllUri:e,index:t,id:a})=>{const{spec:n,logger:l}=(0,r.r)(s.f,{data:{identifier:a,position:t,uri:e??""}}),o=(0,i.useCallback)((()=>{const e=n.swipeUiReveal();l.logInteraction(e)}),[l,n]),c=(0,i.useCallback)((e=>{const t=n.shelfHeaderFactory().shelfCarouselControlsFactory(),a="next"===e?t.shelfCarouselControlsNextFactory():t.shelfCarouselControlsPreviousFactory();l.logInteraction(a.hitUiReveal())}),[l,n]);return{onClickShelfTitle:(0,i.useCallback)((()=>{const t=n.shelfHeaderFactory().shelfHeaderTitleFactory().hitUiNavigate({destination:e??""});l.logInteraction(t)}),[l,e,n]),onClickShelfSeeAll:(0,i.useCallback)((()=>{const t=n.shelfHeaderFactory().shelfHeaderSeeAllFactory().hitUiNavigate({destination:e??""});l.logInteraction(t)}),[l,e,n]),onSwipe:o,onClickCarouselControls:c,spec:n}}},30368:(e,t,a)=>{a.d(t,{l:()=>d});var i=a(30758),s=a(13505),r=a(93492),n=a(92197),l=a(32883),o=a(99802),c=a(86070);const d=({artists:e,spec:t,className:a})=>{const d=(0,o.s)(),u=(0,i.useCallback)(((e,a)=>{t&&d.logInteraction(t.artistLinkFactory({position:a??0,uri:e}).hitUiNavigate({destination:e}))}),[d,t]);if(!e||0===e.length)return null;const m=e.map((({name:e})=>e)).join(r.Ru.getSeparator());return(0,c.jsx)(n.Zp,{label:m,showDelay:n.uF,children:(0,c.jsx)(s.E,{as:"span",variant:"bodySmall",className:a,children:e.map((({uri:e,name:t},a)=>(0,c.jsxs)(i.Fragment,{children:[a>0&&r.Ru.getSeparator(),(0,c.jsx)(l.y,{name:t,uri:e,onClick:u,index:a,children:t},e)]},e)))})})}},19146:(e,t,a)=>{a.d(t,{u:()=>p});var i=a(97500),s=a.n(i),r=a(40638),n=a(78245),l=a(62355),o=a(56116),c=a(22232),d=a(99802),u=a(22810),m=a(86070);const p=({uri:e,src:t,playAriaLabel:a,onClick:i,isPlaying:p,isActive:y,isLocked:h,isEpisode:g,isVideo:x,spec:b})=>{const f=(0,o.W)(),T=(0,d.s)(),A=(0,r.YQ)((t=>{let a;if(f({type:"click",intent:p?"pause":"play"}),b){const t=b.playbackButtonFactory();let i;i=y&&p?t.hitPause({itemToBePaused:e}):y&&!p?t.hitResume({itemToBeResumed:e}):t.hitPlay({itemToBePlayed:e}),a=T.logInteraction(i)}i(t,a)}),c.d,{leading:!0,trailing:!1});return(0,m.jsxs)("div",{className:u.A.rowImageWithPlay,children:[(0,m.jsx)(l.e,{src:t,isEpisode:g,isVideo:x}),(0,m.jsx)(n.x,{className:s()(u.A.rowPlayPauseButton,u.A.rowImagePlayPauseButton),iconClassName:u.A.rowPlayPauseIcon,onClick:A,isPlaying:p,isLocked:h,playAriaLabel:a})]})}},80742:(e,t,a)=>{a.d(t,{Y:()=>o});var i=a(30758),s=a(13505),r=a(93492),n=a(22810),l=a(86070);const o=(0,i.memo)((function({playcount:e}){return e<1?null:(0,l.jsx)(s.E,{as:"div",variant:"bodySmall",className:n.A.rowPlayCount,children:r.Ru.formatNumber(e)})}))},61895:(e,t,a)=>{a.d(t,{c:()=>f,p:()=>g});var i=a(30758),s=a(48237),r=a(87347),n=a(34109),l=a(93492),o=a(45192),c=a(69623),d=a(68508),u=a(36663),m=a(20967),p=a(39876),y=a(82362),h=a(86070);let g=function(e){return e.ALBUM="album",e.ARTIST="artist",e.AUDIOBOOK="audiobook",e.EPISODE="episode",e.PLAYLIST="playlist",e.PODCAST="podcast",e.TRACK="track",e}({});const x=e=>e===g.TRACK?l.Ru.get("web-player.deeplink-intent.add-to-library.liked-songs-title"):e===g.EPISODE?l.Ru.get("web-player.deeplink-intent.add-to-library.episodes-title"):l.Ru.get("web-player.deeplink-intent.add-to-library.title"),b=({entityType:e,artistOrShow:t,title:a})=>e===g.ARTIST||e===g.PODCAST?l.Ru.get("web-player.deeplink-intent.add-to-library.artist-description",{name:t??""}):l.Ru.get("web-player.deeplink-intent.add-to-library.description",{title:a??"",name:t??""}),f=e=>{const{intent:t,clear:a}=(0,c.AT)();return t!==c.pg.ADD_TO_LIBRARY?null:(0,h.jsx)(T,{...e,clearDeeplinkIntent:a})};function T({uri:e,entityType:t,artistOrShow:a,title:c,clearDeeplinkIntent:f}){const T=(0,u.f)(),A=(0,m._)(),{enqueueSnackbar:j}=(0,s.dh)(),[R,C]=(0,i.useState)(null),{spec:k,logger:v}=(0,y.r)(r.K0,{data:{uri:e,identifier:t}}),{spec:S,logger:I}=(0,y.r)(n.y4,{data:{uri:e,identifier:t}}),E=(0,p.t)(k);(0,i.useEffect)((()=>{t===g.PLAYLIST?A?.contains([e]).then((e=>C(e[0]))):T.contains(e).then((e=>C(e[0])))}),[t,T,A,e]),(0,i.useEffect)((()=>{R&&(j(l.Ru.get("web-player.deeplink-intent.add-to-library.already-in-library")),I.logImpression(S.impression()),f())}),[f,j,R,I,S]);const P=(0,i.useCallback)((()=>{v.logInteraction(k.closeButtonFactory().hitUiHide()),f()}),[f,v,k]),N=(0,i.useCallback)((()=>{t===g.PLAYLIST?A?.add([e],{before:"start"}):T.add({uris:[e]}),t===g.EPISODE||t===g.TRACK?v.logInteraction(k.addButtonFactory().hitAddToPlaylist({playlist:t===g.TRACK?d.BP:d.Xn,itemToBeAdded:e})):v.logInteraction(k.addButtonFactory().hitFollow({itemToBeFollowed:e})),f()}),[f,t,T,v,A,k,e]);return null===R?null:(0,h.jsx)(o.T,{ref:E,titleText:x(t),descriptionText:b({entityType:t,artistOrShow:a,title:c}),confirmText:l.Ru.get("playlist.extender.button.add"),cancelText:l.Ru.get("block-user.dialog.cancel"),onConfirm:N,onClose:P,"aria-label":x(t)})}},24573:(e,t,a)=>{a.d(t,{M:()=>c});var i=a(75773),s=a(30758);const r=[],n=(e,t)=>{const a=[];let i=e,s=t;for(;i>0;){const t=Math.ceil(i/s);a.push({first:e-i,nrItems:t}),i-=t,s--}return a};var l=a(86070);const o=e=>{const{itemsInNode:t,renderItem:a,renderPlaceholder:s,estimatedHeight:r,scrollNodeRef:c,nrRowsOverscan:d=10,nrInitialInView:u=0,firstIndex:m,heights:p,fanOut:y=2}=e,{ref:h,inView:g,entry:x}=(0,i.Wx)({root:c.current,rootMargin:d*r+"px 0px",initialInView:m<u}),b=`${m}-${t}`;p[b]??=r*t,x?.boundingClientRect?.height&&(p[b]=x.boundingClientRect.height);const f=p[b];return 0===t?null:g?1===t?(0,l.jsx)("div",{ref:h,role:"presentation",children:a(m,f)}):(0,l.jsx)("div",{ref:h,role:"presentation",children:n(t,y).map((({first:t,nrItems:a},i)=>(0,l.jsx)(o,{...e,itemsInNode:a,firstIndex:m+t},i)))}):(0,l.jsx)("div",{ref:h,role:"presentation",children:s(`${f}px`)})},c=e=>{const t=(e=>{const t=r.find((t=>t.key===e))?.heights||{},a=(0,s.useCallback)((t=>{if(!e)return;const a=r.findIndex((t=>t.key===e));-1===a?r.push({key:e,heights:t}):(r[a].heights=t,r.push(r.splice(a,1)[0])),r.length>10&&r.shift()}),[e]),i=(0,s.useRef)({...t});return(0,s.useEffect)((()=>()=>{a(i.current)}),[a]),i.current})(e.persistanceKey);return(0,l.jsx)(o,{...e,itemsInNode:e.totalCount,firstIndex:0,heights:t,nrInitialInView:e.nrInitialInView})}},84594:(e,t,a)=>{function i(e){return e}a.d(t,{v:()=>i})},81995:(e,t,a)=>{a.d(t,{u:()=>i});let i=function(e){return e.TITLE="title",e.SUBTITLE="subTitle",e}({})},2989:(e,t,a)=>{a.d(t,{$:()=>n,e:()=>r});var i=a(20951),s=a(33059);const r={SMALL:"small",LARGE:"large"},n=()=>(0,s.y)()===i.E.SMALL?"small":"large"},34148:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u,useThisisPlaylistExtensionQuery:()=>h});var i=a(13505),s=a(21974),r=a(93492),n=a(5119),l=a(99802),o=a(39876),c=a(12988),d=a(86070);const u=e=>{const{artistImageUrl:t,artistName:a,artistConcertsUri:u,spec:m}=e,p=(0,l.s)(),y=(0,o.t)(m.concertsCardFactory({identifier:a,uri:u,reason:"This is On Tour phase 1 MVP"}));return t&&a&&u?(0,d.jsxs)("section",{ref:y,className:"contentSpacing",children:[(0,d.jsx)(i.E,{as:"h1",variant:"bodyMediumBold",semanticColor:"textBase",children:r.Ru.get("concerts")}),(0,d.jsx)("div",{className:c.A.cards,children:(0,d.jsxs)("div",{className:c.A.tourCard,"data-testid":"on-tour-card",children:[(0,d.jsx)("img",{className:c.A.cardImage,src:t,alt:""}),(0,d.jsxs)("div",{className:c.A.cardContent,children:[(0,d.jsx)(i.E,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",className:c.A.subtitle,children:r.Ru.get("concerts_on_tour")}),(0,d.jsx)(i.E,{as:"h1",variant:"bodyMediumBold",className:c.A.title,semanticColor:"textBase",children:a}),(0,d.jsx)(n.N,{to:u,className:c.A.cardLink,children:(0,d.jsx)(s.n,{as:"span",size:"small",onClick:()=>{const e=m.concertsCardFactory({identifier:a,uri:u,reason:"This is On Tour phase 1 MVP"}).hitUiNavigate({destination:u});p.logInteraction(e)},className:c.A.cardButton,children:r.Ru.get("concerts_see_all_events")})})]})]})})]}):null};var m=a(44947),p=a(49810);const y=new m.l("thisisPlaylistExtension","query","906c2e14927400c8a71645c647576ce032f837a112d5e6f9375b19c80445c8cf",null),h=(e,t)=>(0,p.I)(y,e,t)},83244:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ar});var i=a(30758),s=a(62411),r=a(85387),n=a(13505),l=a(3118),o=a(40072),c=a(72574),d=a(93492),u=a(36002),m=a(99132),p=a(86070);const y=(e,t,a)=>({event:e,app_startup_id:null,ad_playback_id:null,ad_id:String(t),lineitem_id:String(a),creative_id:String(t),ad_format:"sponsored playlist",slot:null,in_focus:null,username:null,jsondata:JSON.stringify({platform:"WebPlayer",revision:"1.0.0"})}),h=({clickTracking:e,clickThrough:t,thirdPartyImpression:a,impression:r,logoUrl:l,advertiserName:o,creativeId:c,lineItemId:u})=>{const h=(0,s.wA)(),[g,x]=(0,i.useState)(!1);return(0,i.useEffect)((()=>(h((0,m.tb)()),h((0,m.i2)(y("event_viewed",c,u))),()=>{h((0,m.zV)())})),[h,c,u]),(0,p.jsxs)("div",{className:"sponsor-container",children:[(0,p.jsx)(n.E,{variant:"marginal",className:"sponsor-text","data-ta-id":"sponsor-text",children:d.Ru.get("playlist.presented_by",o)}),(0,p.jsxs)("div",{className:"sponsor-logo",children:[(0,p.jsx)("a",{draggable:!1,className:"sponsor-logo__link",target:"_blank",href:t,onClick:()=>{h((0,m.i2)(y("event_clicked",c,u))),x(!0)},children:(0,p.jsx)("img",{draggable:!1,className:"sponsor-logo__image",src:l,alt:o,"data-ta-id":"sponsor-logo"})}),(0,p.jsx)("img",{className:"sponsor-logo__imp-pixel",src:r,alt:""}),a&&(0,p.jsx)("img",{className:"sponsor-logo__3p-imp-pixel",src:a,alt:""}),g&&(0,p.jsx)("img",{className:"sponsor-logo__click-img-pixel",src:e,alt:""})]})]})},g=({playlistUri:e})=>{const t=(0,s.wA)(),a=(0,s.d4)((t=>t.ads.sponsoredPlaylist.previewAd||t.ads.sponsoredPlaylist.sponsoredPlaylist.get(e)));return(0,i.useEffect)((()=>{a||t((0,m.uP)(e))}),[t,e,a]),a?(0,p.jsx)("div",{children:(0,p.jsx)(h,{...a})}):null},x=({playlistUri:e})=>{const t=(0,s.wA)(),a=(0,s.d4)((e=>e.ads.sponsoredPlaylist.sponsoredPlaylist.get("allSponsorships"))),r=(0,s.d4)((e=>e.ads.sponsoredPlaylist.previewAd));(0,i.useEffect)((()=>{a||t((0,m.uU)())}),[t,a]);const n=r||a&&((e,t)=>{const a=Date.now()/1e3,i=e.split(":"),s=i[i.length-1];return t.some((({playlistId:e,endTime:t,startTime:i})=>e===s&&a>=i&&a<(t||a+1)))})(e,a);return n?(0,p.jsx)(g,{playlistUri:e}):null};var b=a(20256),f=a(19988),T=a(85583),A=a(64359),j=a(58708),R=a(8030),C=a(70225),k=a(464),v=a(13417),S=a(78281),I=a(5537),E=a(34148),P=a(61895),N=a(53097),L=a(42372),w=a(82362);var U=a(27508),_=a(14259),M=a(81878),O=a(44947),B=a(49810);const D=new O.l("queryInlineCurationSearchV2","query","ba8322962d1da0bfea18fd0831d1af7936344c8b7401510608a272a23adad800",null),F=new O.l("queryInlineCurationSearchV2Booklists","query","ba8322962d1da0bfea18fd0831d1af7936344c8b7401510608a272a23adad800",null),V=new O.l("queryInlineCurationSearchAlbum","query","74a97c6afa1c6c23e1d9b897756fc362ca7e5ed718ac59ba65ffa85f687f7113",null),$=new O.l("queryInlineCurationSearchArtist","query","657c07a8943ea6e49c61833dde16d8d51cb64e921dd80827255d6e2519621c34",null);var z=a(78172),H=a(78203),K=a(27506);function W(e){return{type:z.c.AUDIOBOOK,uri:e.uri,name:e.name,description:e.htmlDescriptionPlain??"",authorName:e.authors?.map((e=>e?.name)).join(d.Ru.getSeparator())||"",images:e.coverArt?.sources??[],isLocked:(0,H.e$)(e.accessInfo),isExplicit:e.contentRating?.label===K.x7.Explicit,durationMs:e.duration?.totalMilliseconds??0,topics:e.genres?.map((e=>({uri:e.destinationUri,title:e.contextualName})))||[],signifierText:e.accessInfo?.signifier?.text??"",rating:{average:e.rating?.averageRating?.average??0,showAverage:!!e.rating?.averageRating?.showAverage},sharingInfo:e.sharingInfo,publishDate:null,isOutOfMarket:!1,consumptionCapExplanation:null,uid:"",playIndex:null,addedAt:null,addedBy:null,formatListAttributes:null}}var q=a(88176),Y=a(35292),G=a(20062),Q=a(98628),J=a(52596);function X(e){return{type:z.c.ALBUM,uri:e.uri,id:e.id,name:e.name,images:(0,G.r)(e.coverArt)}}function Z(e){if("Album"!==e.data.__typename)return null;return X(e.data)}function ee(e){const t=e?.items.filter((e=>"AlbumResponseWrapper"===e.__typename));return(t??[]).map((e=>Z(e))).filter(Q.P)||[]}function te(e){if("Artist"!==e.data.__typename)return null;const t=e.data;return{type:z.c.ARTIST,uri:t.uri,id:t.id,name:t.profile.name,images:(0,G.r)(t.visuals.avatarImage)}}function ae(e){if("Episode"!==e.data.__typename)return null;const t=e.data,a=t.podcastV2.data;return"Podcast"!==a.__typename?null:{type:z.c.EPISODE,uri:t.uri,id:t.id,name:t.name,images:(0,G.r)(t.coverArt),isExplicit:t.contentRating?.label===q.x7.Explicit,is19PlusOnly:t.contentRating?.label===q.x7.NineteenPlus,podcast:{id:a.id,uri:a.uri,name:a.name},isPlayable:t.playability.playable}}function ie(e){const t=(0,G.r)(e.albumOfTrack?.coverArt||null);return{type:z.c.TRACK,uri:e.uri,id:e.id,name:e.name,album:{name:e.albumOfTrack?.name||"",uri:e.albumOfTrack?.uri||"",imgUrl:t.at(0)?.url||"",id:e.albumOfTrack?.id||""},artists:e.artists.items.map((e=>({id:e.id,name:e.profile.name,uri:e.uri}))),isPlayable:e.playability.playable,isExplicit:e.contentRating?.label===q.x7.Explicit,is19PlusOnly:e.contentRating?.label===q.x7.NineteenPlus}}function se(e){if("Track"!==e.data.__typename)return null;return ie(e.data)}function re(e){return(e?.itemsV2??[]).map((e=>{const t=(0,Y.Jt)(e,"item");switch(t.__typename){case"AlbumResponseWrapper":return Z(t);case"ArtistResponseWrapper":return te(t);case"EpisodeResponseWrapper":return ae(t);case"TrackResponseWrapper":return se(t);default:return(0,J.k)(t),null}})).filter(Q.P)||[]}function ne(e){return(e?.itemsV2??[]).map((e=>{const t=(0,Y.Jt)(e,"item");return"AudiobookResponseWrapper"===t.__typename&&"Audiobook"===t.data.__typename?W(t.data):null})).filter(Q.P)||[]}const le=async(e,t,a,i=0,s=10,r=10)=>{const n={term:t,offset:i,limit:s,numberOfTopResults:r};if(a){const a=await e(F,n),i=a?.data?.searchV2;return i?(l=t,{albums:[],artists:[],episodes:[],tracks:[],topResults:ne(i.topResultsV2)??[],query:l}):null}var l;const o=await e(D,n),c=o?.data?.searchV2;return c?function(e,t){return{albums:ee(e.albumsV2)??[],artists:(s=e.artists,((s?.items??[]).map((e=>te(e))).filter(Q.P)||[])??[]),episodes:(i=e.episodes,((i?.items??[]).map((e=>ae(e))).filter(Q.P)||[])??[]),tracks:(a=e.tracksV2,((a?.items??[]).map((e=>se(e.item))).filter(Q.P)||[])??[]),topResults:re(e.topResultsV2)??[],query:t};var a,i,s}(c,t):null},oe=async(e,t,a=50,i=0)=>{const s={uris:[t],limit:a,offset:i},r=await e(V,s),n=r?.data?.albums;return n?function(e){const t=e.at(0);if(!t)return null;switch(t.__typename){case"Album":return{albums:[],artists:[],episodes:[],tracks:t.tracks.items.map((e=>ie(e.track)))||[],topResults:[]};case"GenericError":case"NotFound":return null;default:return(0,J.k)(t),null}}(n):null},ce=async(e,t,a=50,i=0)=>{const s={uris:[t],limit:a,offset:i},r=await e($,s),n=r?.data?.artists;return n?function(e){const t=e.at(0);if(!t)return null;switch(t.__typename){case"Artist":return{albums:t.discography.popularReleasesAlbums.items.map((e=>X(e)))||[],artists:[],episodes:[],tracks:t.discography.topTracks.items.map((e=>ie(e.track)))||[],topResults:[]};case"GenericError":case"NotFound":return null;default:return(0,J.k)(t),null}}(n):null};let de=function(e){return e[e.SEARCH=0]="SEARCH",e[e.ALBUM=1]="ALBUM",e[e.ARTIST=2]="ARTIST",e[e.PODCAST=3]="PODCAST",e[e.PLAYLIST=4]="PLAYLIST",e[e.ALBUMRESULTS=5]="ALBUMRESULTS",e[e.ARTISTRESULTS=6]="ARTISTRESULTS",e[e.PODCASTRESULTS=7]="PODCASTRESULTS",e[e.EPISODERESULTS=8]="EPISODERESULTS",e[e.TRACKRESULTS=9]="TRACKRESULTS",e}({});const ue=(e,t)=>"GO_BACK"===t.type?1===e.breadcrumbs.length?e:e={...e,breadcrumbs:e.breadcrumbs.slice(0,e.breadcrumbs.length-1)}:"NAV_TO_ENTITY"===t.type?e={...e,breadcrumbs:[...e.breadcrumbs,t.level]}:("NAV_TO_RESULTS"===t.type?e={...e,breadcrumbs:[...e.breadcrumbs,t.level]}:"CHANGE_TERM"===t.type&&(e={term:t.term,breadcrumbs:[{navType:de.SEARCH,term:t.term,title:""}]}),e);var me=a(97500),pe=a.n(me),ye=a(40638),he=a(66758);const ge="playlist-inlineSearchBox-filterInputContainer",xe="playlist-inlineSearchBox-filterInput",be="playlist-inlineSearchBox-overlay",fe="playlist-inlineSearchBox-searchIconContainer",Te="playlist-inlineSearchBox-searchIcon",Ae="playlist-inlineSearchBox-clearButton",je=i.memo((function({placeholder:e,onChange:t=()=>{},onFocus:a=()=>{}}){const[s,r]=(0,i.useState)(""),l=(0,i.useRef)(null),o=(0,ye.YQ)((e=>{t(e)}),200),c=(0,i.useCallback)((e=>{const t=e.currentTarget.value;r(t),o(t)}),[r,o]),u=(0,i.useCallback)((()=>{l.current&&l.current.focus(),r(""),t("")}),[r,t]),m=(0,i.useCallback)((e=>{"Escape"===e.key&&s&&u()}),[s,u]);return(0,p.jsxs)("div",{className:ge,role:"search",children:[(0,p.jsx)(n.E,{as:"input",variant:"bodySmall",ref:l,className:pe()(xe),role:"searchbox",maxLength:80,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,placeholder:e,onChange:c,onKeyDown:m,onFocus:a,value:s}),(0,p.jsxs)("div",{className:be,children:[(0,p.jsx)("span",{className:fe,children:(0,p.jsx)(he.C,{size:"small",className:Te,"aria-hidden":"true"})}),s&&(0,p.jsx)("button",{className:Ae,onClick:u,"aria-label":d.Ru.get("search.a11y.clear-input"),children:(0,p.jsx)(U.M,{size:"small"})})]})]})}));var Re=a(57977),Ce=a(21974),ke=a(94154),ve=a(78218),Se=a(18143),Ie=a(12032),Ee=a(39782),Pe=a(61407),Ne=a(79202),Le=a(98016),we=a(585),Ue=a(12367),_e=a(5928),Me=a(83506),Oe=a(5488),Be=a(15393),De=a(95211),Fe=a(66298),Ve=a(75395),$e=a(96089),ze=a(81995),He=a(2989),Ke=a(5119),We=a(46106),qe=a(3568),Ye=a(67759),Ge=a(46777),Qe=a(21081),Je=a(45176),Xe=a(46307),Ze=a(5797),et=a(99802),tt=a(52403),at=a(41774);const it="i3wVxndfxMEqUujUJOYc",st="XFwXZEToljeXDRWQYSEm",rt="hZ_wTiRO870PNY1cRKCd",nt=(0,i.memo)((function({book:e,contextUri:t,featureIdentifier:a,index:l,sharingInfo:o,uid:u,rating:m,isRecommendation:y=!1,canRemove:h=!1,showSeparator:g=!1,highlightText:x=e=>e,onAddClick:b,...f}){const{name:T,description:A,isLocked:j,isExplicit:R,images:C,type:k,uri:v,authorName:S,consumptionCapExplanation:I,durationMs:E,topics:P=[],signifierText:N}=e,L=(0,et.s)(),{spec:U}=(0,w.r)(Se.m,{data:{position:l,uri:v}}),{isPlaying:_,isActive:M,togglePlay:O}=(0,Xe.P)({uri:v},{featureIdentifier:a}),B=(0,r.Zp)(),D=(0,c.o_h)(v).toURLPath(!0),F=(0,He.$)(),V=(0,Ze.p)(v),[$,z]=(0,Ye.A)(v),H=(0,Qe.T)(v),W=(0,s.wA)(),q=F===He.e.SMALL?"small":"medium",Y=(0,i.useCallback)((()=>{L.logInteraction(U.addButtonFactory().hitAddToPlaylist({playlist:t,itemToBeAdded:v})),b?.(v)}),[L,U,t,v,b]),G=(0,i.useCallback)((()=>{if(I)W((0,Ie._3)(I));else if(j&&!I)B(D);else{const e=(0,We.$I)({isPlaying:_,isActive:M,spec:U.playButtonFactory(),logger:L,uri:v});O({loggingParams:e})}}),[I,W,M,j,_,L,B,U,O,v,D]),Q=(0,i.useCallback)((()=>{L.logInteraction(U.genreLinkFactory({uri:P[0].uri??""}).hitUiNavigate({destination:P[0].uri??""}))}),[L,U,P]),J=(0,p.jsx)($e.U,{children:x(T,ze.u.TITLE)}),X=(0,p.jsx)(De.k,{description:A,children:(0,p.jsxs)(Me.X,{badges:!!R&&(0,p.jsx)(qe.U,{}),children:[!0===m?.showAverage&&void 0!==m.average&&(0,p.jsxs)("span",{children:[(0,p.jsx)(Re.j,{size:"xsmall",className:it}),d.Ru.formatNumber(m.average,{maximumFractionDigits:1})]}),P.at(0)?.title&&(0,p.jsx)(Ke.N,{className:st,to:P[0].uri??"",onClick:Q,children:P[0].title}),void 0!==E&&(0,p.jsx)(tt.j,{isPlaying:!1,fullyPlayed:V?.state===K.H7.Completed,durationMs:E,position:V?.playPositionMilliseconds})]})}),Z=(0,p.jsx)(_e.p,{uri:v,uid:u,contextUri:t,includeGoToAudiobook:!0,canBeRemovedFromPlaylist:h}),ee=!j&&!!!I,te=(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Ee.M,{className:pe()({[at.A.visibleAction]:$}),isAdded:$,onClick:()=>{$?L.logInteraction(U.saveToLibraryButtonFactory().hitRemoveLike({itemNoLongerLiked:v})):L.logInteraction(U.saveToLibraryButtonFactory().hitLike({itemToBeLiked:v})),z(!$)},size:q,condensedAll:!0,condensed:!0}),(0,p.jsx)(Pe.I,{className:pe()({[at.A.visibleAction]:(0,Ge.X)(H)}),uri:v,onClick:(e,t)=>{t===Je.NV.ADD&&L.logInteraction(U.downloadButtonFactory().hitDownload({itemToDownload:v}))},size:q,canDownload:ee,condensedAll:!0}),(0,p.jsx)(Le.w,{uri:v,sharingInfo:o??null,interactionData:{intent:"share",type:"click"},size:q,onClick:()=>{L.logInteraction(U.shareButtonFactory().hitShare({entityToBeShared:v,shareId:o?.shareId??""}))},condensedAll:!0}),(0,p.jsx)(we.b,{menu:Z,children:(0,p.jsx)(Ne.e,{label:d.Ru.get("more.label.context",T),size:q,onClick:()=>{L.logInteraction(U.contextMenuButtonFactory().hitUiReveal())},condensedAll:!0})})]}),ae=y?null:(0,p.jsx)(Fe.F,{actions:te,playButton:(0,p.jsx)(Oe.q,{onClick:G,isPlaying:_,ariaPlayLabel:d.Ru.get("tracklist.a11y.play",T,S),ariaPauseLabel:d.Ru.get("tracklist.a11y.pause",T,S),locked:j})}),ie=(0,p.jsx)(Ve.e,{images:C,name:T,type:k,breakpoint:F}),se=N?(0,p.jsx)(n.E,{as:"div",variant:"bodySmall",semanticColor:"textBrightAccent",children:N}):null,re=b?(0,p.jsx)(Ce.n,{size:"small",onClick:Y,children:d.Ru.get("playlist.extender.button.add")}):null,ne=(0,p.jsxs)(ke.j,{hasTextSeparator:!0,children:[(0,p.jsxs)(p.Fragment,{children:[y&&j&&(0,p.jsx)(ve.u,{semanticColor:"textSubdued",title:d.Ru.get("mwp.header.content.unavailable"),size:"xsmall",className:rt}),d.Ru.get("card.tag.audiobook")]}),x(S,ze.u.SUBTITLE)]});return(0,p.jsx)(Ue.h,{menu:Z,onShow:()=>{L.logInteraction(U.secondaryHitUiReveal())},children:(0,p.jsx)(Be.k,{breakpoint:F,id:`book-${v}`,media:ie,pretitle:se,title:J,body:X,subtitle:ne,footer:ae,trailing:re,isActive:M,onClick:()=>{L.logInteraction(U.hitUiNavigate({destination:v})),B(D)},showSeparator:g,...f})})}));var lt=a(43758),ot=a(40997),ct=a(33279);const dt=({renderRow:e,searchResults:t})=>(0,p.jsx)(ot.S4,{ariaLabel:d.Ru.get("search.title.top-results"),renderRow:e,rowPlaceholder:lt.qq,nrTracks:t.length,tracks:t,resolveItem:e=>({uri:e.uri}),columns:[ct.$.TITLE_AND_ARTIST,ct.$.ALBUM,ct.$.ADD]});var ut=a(58636);const mt=({renderRow:e,searchResults:t})=>{const a=t.filter((e=>e.type===z.c.TRACK)),i=t.filter((e=>e.type===z.c.ALBUM));return(0,p.jsxs)("div",{children:[(0,p.jsx)(n.E,{as:"p",variant:"bodyMediumBold",className:ut.A.artistResultListTitle,children:d.Ru.get("playlist.curation.popular_songs")}),(0,p.jsx)(ot.S4,{ariaLabel:d.Ru.get("playlist.curation.popular_songs"),renderRow:e,rowPlaceholder:lt.qq,nrTracks:a.length,tracks:a,resolveItem:e=>({uri:e.uri}),columns:[ct.$.TITLE_AND_ARTIST,ct.$.ALBUM,ct.$.ADD]}),(0,p.jsx)(n.E,{as:"p",variant:"bodyMediumBold",className:ut.A.artistResultListTitle,children:d.Ru.get("playlist.curation.albums")}),(0,p.jsx)(ot.S4,{ariaLabel:d.Ru.get("playlist.curation.albums"),renderRow:e,rowPlaceholder:lt.qq,nrTracks:i.length,tracks:i,resolveItem:e=>({uri:e.uri}),columns:[ct.$.TITLE_AND_ARTIST,ct.$.ALBUM,ct.$.ADD]})]})},pt=({renderRow:e,searchResults:t,renderSeeAllRow:a,seeAllXList:i})=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ot.S4,{ariaLabel:d.Ru.get("search.title.top-results"),renderRow:e,rowPlaceholder:lt.qq,nrTracks:t.length,tracks:t,resolveItem:e=>({uri:e.uri}),columns:[ct.$.TITLE_AND_ARTIST,ct.$.ALBUM,ct.$.ADD],testID:"playlist-inline-curation-loaded-results"}),(0,p.jsx)(ot.S4,{ariaLabel:d.Ru.get("search.title.all"),renderRow:a,rowPlaceholder:lt.qq,nrTracks:i.length,tracks:i,resolveItem:e=>({uri:e.uri}),columns:[ct.$.TITLE_AND_ARTIST,ct.$.ALBUM,ct.$.ADD],testID:"playlist-inline-curation-see-all-options"})]}),yt=({renderRow:e,searchResults:t})=>(0,p.jsx)(ot.S4,{ariaLabel:d.Ru.get("search.title.top-results"),renderRow:e,rowPlaceholder:lt.qq,nrTracks:t.length,tracks:t,resolveItem:e=>({uri:e.uri}),columns:[ct.$.TITLE_AND_ARTIST,ct.$.ALBUM,ct.$.ADD]}),ht=({renderRow:e,searchResults:t})=>(0,p.jsx)(ot.S4,{ariaLabel:d.Ru.get("search.title.top-results"),renderRow:e,rowPlaceholder:lt.qq,nrTracks:t.length,tracks:t,resolveItem:e=>({uri:e.uri}),columns:[ct.$.TITLE_AND_ARTIST,ct.$.ALBUM,ct.$.ADD]}),gt=({renderRow:e,searchResults:t})=>(0,p.jsx)(ot.S4,{ariaLabel:d.Ru.get("search.title.top-results"),renderRow:e,rowPlaceholder:lt.qq,nrTracks:t.length,tracks:t,resolveItem:e=>({uri:e.uri}),columns:[ct.$.TITLE_AND_ARTIST,ct.$.ALBUM,ct.$.ADD]});var xt=a(66987),bt=a(43866);const ft="G2t3w2AAeb5OXp0_GeWs",Tt="saVjTFMyWYUz975_tkQm",At="thi8fNCkEhutRkDC90c0",jt="pHVlkChuJpEnBQyU3ADv",Rt="ENWs3JxcqtD98_8fbPz2",Ct="L8IUKEJL6JiTyE_qUVCc",kt="XcyjdXgsNX0DBt72tfiD",vt="VhJnuS7UcUPfIlzD8dlU",St="He29vQ5anFj_bJ5iEaI2",It=({searchResult:e,index:t,isRTL:a,onClick:i})=>{const s=e.images.at(0)?.url;return(0,p.jsx)(bt.$,{className:Rt,rowIndex:t,"aria-selected":!1,children:(0,p.jsxs)("div",{"aria-label":`${d.Ru.get("artist-page.tracks.seemore")} ${e.name}`,className:St,onClick:i,children:[(0,p.jsxs)(xt.T,{columnIndex:0,className:Ct,children:[void 0!==s?(0,p.jsx)("img",{className:At,src:s,alt:e.name}):null,(0,p.jsxs)("div",{className:kt,children:[(0,p.jsx)(n.E,{as:"p",className:jt,variant:"bodyMedium",children:e.name}),(0,p.jsx)(n.E,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",children:d.Ru.get("album")})]})]}),(0,p.jsx)(xt.T,{columnIndex:1}),(0,p.jsx)(xt.T,{columnIndex:2,children:(0,p.jsx)("button",{"data-testid":"top-bar-forward-button","aria-label":`See more from ${e.name}`,className:vt,onClick:i,children:a?(0,p.jsx)(M.g,{}):(0,p.jsx)(_.V,{})})})]})})};var Et=a(26411);const Pt=({size:e})=>(0,p.jsx)("div",{className:Tt,children:(0,p.jsx)(Et.r,{size:e})}),Nt=({searchResult:e,index:t,isRTL:a,onClick:i})=>{const s=e.images.at(0)?.url;return(0,p.jsx)(bt.$,{className:Rt,rowIndex:t,"aria-selected":!1,children:(0,p.jsxs)("div",{"aria-label":`${d.Ru.get("artist-page.tracks.seemore")} ${e.name}`,className:St,onClick:i,"data-testid":"playlist-inline-curation-artist",children:[(0,p.jsxs)(xt.T,{columnIndex:0,className:Ct,children:[void 0!==s?(0,p.jsx)("img",{className:ft,src:s,alt:e.name}):(0,p.jsx)(Pt,{size:"small"}),(0,p.jsxs)("div",{className:kt,children:[(0,p.jsx)(n.E,{as:"p",className:jt,variant:"bodyMedium",children:e.name}),(0,p.jsx)(n.E,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",children:d.Ru.get("artist")})]})]}),(0,p.jsx)(xt.T,{columnIndex:1}),(0,p.jsx)(xt.T,{columnIndex:2,children:(0,p.jsx)("button",{"data-testid":"top-bar-forward-button","aria-label":`See more from ${e.name}`,className:vt,onClick:i,children:a?(0,p.jsx)(M.g,{}):(0,p.jsx)(_.V,{})})})]})})};var Lt=a(92734),wt=a(34978),Ut=a(76762),_t=a(19146),Mt=a(22360),Ot=a(97998),Bt=a(1782),Dt=a(8562),Ft=a(61056),Vt=a(13670),$t=a(56116),zt=a(8766),Ht=a(57836),Kt=a(43671),Wt=a(24395),qt=a(28704),Yt=a(89979),Gt=a(22810);const Qt=i.memo((function({uid:e,uri:t,isPlayable:a,isMOGEFRestricted:s,isExplicit:r,contextUri:n,name:l,imgUrl:o,index:c,podcast:u,usePlayContextItem:m}){const y=(0,i.useMemo)((()=>n.replace("internal:recs:","")),[n]),h=(0,$t.W)(),{addItems:g}=(0,qt.x)(y),{isActive:x,isPlaying:b,triggerPlay:f,togglePlay:T}=m({uid:e,uri:t,index:c}),A=(0,i.useCallback)((()=>{g([t],{after:"end"}),h({type:"click",intent:"add-to-playlist",itemIdSuffix:"playlist/add",targetUri:y})}),[g,t,h,y]),j=(0,Qe.T)(t),{isPlayable:R,isAnyArtistBanned:C}=(0,zt.g)(t,{isPlayable:a}),{badges:k,hasBadges:v}=(0,Yt.b)({downloadAvailability:j,isExplicit:r,isMOGEFRestricted:s});return(0,p.jsx)(Wt.pZ,{value:"row",index:c,children:(0,p.jsx)(Ue.h,{menu:(0,p.jsx)(Lt.b,{uri:t,contextUri:n}),children:(0,p.jsxs)(Vt.w,{uri:t,contextUri:t,isPlayable:R,isAnyArtistBanned:C,onTriggerPlay:()=>{f()},isActive:x,ageRestricted:s,index:c,ariaRowIndex:c,dragMetadata:{name:l,createdBy:u.name},isExplicit:r,children:[(0,p.jsxs)(Bt.U,{ariaColIndex:0,children:[(0,p.jsx)(_t.u,{uri:t,src:o,onClick:()=>{T()},isLocked:!1,isPlaying:b,isActive:x,isEpisode:!0,playAriaLabel:d.Ru.get("tracklist.a11y.play",l,u.name)}),(0,p.jsxs)(Mt.l,{children:[(0,p.jsx)(Ft.p,{titleText:l,children:l}),v&&(0,p.jsxs)(Ut.P,{children:[k.download&&(0,p.jsx)(Ht._,{}),k.explicit&&(0,p.jsx)(qe.U,{}),k.nineteen&&(0,p.jsx)(Kt.q,{className:Gt.A.nineteen,size:16})]})]})]}),(0,p.jsx)(Dt.o,{ariaColIndex:1,children:(0,p.jsx)(wt.g,{uri:u.uri,name:u.name,children:u.name})}),(0,p.jsx)(Ot.l,{ariaColIndex:2,children:(0,p.jsx)(Ce.n,{size:"small",onClick:A,children:d.Ru.get("playlist.extender.button.add")})})]})})})}),((e,t)=>e.uid===t.uid&&e.uri===t.uri&&e.index===t.index)),Jt=({episode:e,contextUri:t,index:a,usePlayContextItem:i})=>(0,p.jsx)(Qt,{uid:e.id,uri:e.uri,isPlayable:e.isPlayable,isMOGEFRestricted:e.is19PlusOnly,isExplicit:e.isExplicit,contextUri:t,name:e.name,imgUrl:e.images.at(0)?.url??"",index:a,podcast:e.podcast,usePlayContextItem:i}),Xt=({label:e,index:t,isRTL:a,onClick:i})=>(0,p.jsx)(bt.$,{className:Rt,rowIndex:t,"aria-selected":!1,children:(0,p.jsxs)("div",{"aria-label":e,className:St,onClick:i,children:[(0,p.jsx)(xt.T,{columnIndex:0,className:Ct,children:(0,p.jsx)(n.E,{as:"p",className:jt,variant:"bodyMedium",children:e})}),(0,p.jsx)(xt.T,{columnIndex:1}),(0,p.jsx)(xt.T,{columnIndex:2,children:(0,p.jsx)("button",{"data-testid":"top-bar-forward-button","aria-label":e,className:vt,onClick:i,children:a?(0,p.jsx)(M.g,{}):(0,p.jsx)(_.V,{})})})]})});var Zt=a(46136),ea=a(71070),ta=a(30368),aa=a(54878),ia=a(83298),sa=a(23602),ra=a(53458),na=a(49157),la=a(95059);const oa=i.memo((function({uid:e,uri:t,name:a,imgUrl:s,artists:r,isExplicit:n,index:l,album:o,contextUri:c,isPlayable:u,isMOGEFRestricted:m,usePlayContextItem:y,durationMs:h,shouldRenderDuration:g,internalLink:x}){const{spec:b,logger:f}=(0,w.r)(Zt.i,{data:{position:l,reason:"",uri:t}}),T=(0,i.useMemo)((()=>c.replace("internal:recs:","")),[c]),A=(0,$t.W)(),{addItems:j}=(0,qt.x)(T),{isActive:R,isPlaying:C,triggerPlay:k,togglePlay:v}=y({uid:e,uri:t,index:l}),S=(0,i.useCallback)((()=>{f.logInteraction(b.addButtonFactory().hitAddToPlaylist({playlist:T,itemToBeAdded:t})),j([t],{after:"end"}),A({type:"click",intent:"add-to-playlist",itemIdSuffix:"playlist/add",targetUri:T})}),[f,b,T,t,j,A]),I=(0,Qe.T)(t),{isPlayable:E,isAnyArtistBanned:P}=(0,zt.g)(t,{isPlayable:u,isLocal:!1,isOutOfMarket:!1,artistUris:r?.map((e=>e.uri))}),{unBanArtists:N}=(0,na.M)(r.map((e=>e.uri))),L=r.map((e=>e.name)).join(d.Ru.getSeparator()),{badges:U,hasBadges:_}=(0,Yt.b)({downloadAvailability:I,isExplicit:n,isMOGEFRestricted:m}),M=g&&h,O=r.map((e=>e.name)).join(d.Ru.getSeparator()),B=(0,la.c)();return(0,p.jsx)(Wt.pZ,{value:"row",index:l,children:(0,p.jsx)(Ue.h,{menu:(0,p.jsx)(ea.P,{uri:t,albumUri:o.uri,artists:r,contextUri:c}),children:(0,p.jsxs)(Vt.w,{uri:t,contextUri:c,isPlayable:E,isAnyArtistBanned:P,handleArtistBanUndoClick:N,onTriggerPlay:(e,t)=>{k({loggingParams:t})},isActive:R,ageRestricted:m,index:l,ariaRowIndex:l,dragMetadata:{name:a,createdBy:L},spec:b,className:Gt.A.isRecommendedTrackListRow,isExplicit:n,children:[(0,p.jsxs)(Bt.U,{ariaColIndex:0,children:[(0,p.jsx)(_t.u,{uri:t,src:s,onClick:(e,t)=>{v({loggingParams:t})},isLocked:!1,isPlaying:C,isActive:R,playAriaLabel:d.Ru.get("tracklist.a11y.play",a,L),spec:b}),(0,p.jsxs)(Mt.l,{children:[x&&B?(0,p.jsx)(Ke.N,{to:t,className:Gt.A.rowTitle,"data-testid":"internal-track-link",children:(0,p.jsx)(Ft.p,{titleText:a,children:a})}):(0,p.jsx)(Ft.p,{titleText:a,children:a}),_&&(0,p.jsxs)(Ut.P,{children:[U.explicit&&(0,p.jsx)(qe.U,{}),U.download&&(0,p.jsx)(Ht._,{}),U.nineteen&&(0,p.jsx)(Kt.q,{className:Gt.A.nineteen,size:16})]}),(0,p.jsx)(sa.p,{children:(0,p.jsx)(ta.l,{artists:r,spec:b})})]})]}),(0,p.jsx)(Dt.o,{ariaColIndex:1,children:(0,p.jsx)(wt.g,{uri:o.uri,name:o.name,creatorUri:r?.[0]?.uri,spec:b,children:o.name})}),(0,p.jsx)(Dt.o,{ariaColIndex:2,children:(0,p.jsx)("span",{})}),(0,p.jsxs)(Ot.l,{ariaColIndex:3,children:[M?(0,p.jsx)(ra.d,{uri:t}):null,M?(0,p.jsx)(aa.P,{duration:h,dataTestId:"render-duration"}):(0,p.jsx)(Ce.n,{size:"small",onClick:S,"aria-label":d.Ru.get("addToPlaylist-icon.label"),"data-testid":"add-to-playlist-button",children:d.Ru.get("playlist.extender.button.add")}),M?(0,p.jsx)(ia.Y,{menu:(0,p.jsx)(ea.P,{uri:t,albumUri:o.uri,contextUri:c,artists:r}),label:d.Ru.get("more.label.track",a,O)}):null]})]})})})}),((e,t)=>e.uid===t.uid&&e.uri===t.uri&&e.index===t.index)),ca=({track:e,contextUri:t,index:a,usePlayContextItem:i})=>(0,p.jsx)(oa,{uid:e.id,uri:e.uri,isPlayable:e.isPlayable,isMOGEFRestricted:e.is19PlusOnly,isExplicit:e.isExplicit,contextUri:t,name:e.name,imgUrl:e.album.imgUrl,index:a,album:e.album,artists:e.artists,usePlayContextItem:i});var da=a(64212);const ua=({resultList:e,level:t,isRTL:a,playlistUri:s,navToResults:r,navToEntity:l,term:o,isBooklist:u})=>{let m=e;const y=(e=>e.map((e=>{if(e.type===z.c.TRACK||e.type===z.c.EPISODE){const{uri:t,id:a}=e;return{type:(0,c.U_m)(t)?z.c.TRACK:z.c.EPISODE,uri:t,uid:a,provider:null}}return null})).filter(Q.P))(e),{draggable:h,onDragStart:g}=(0,da.P)(),{addItems:x}=(0,qt.x)(s),f=(0,i.useCallback)((e=>{x([e],{after:"end"})}),[x]),{usePlayContextItem:T}=(0,Xe.P)({uri:`${s.replace("spotify:","spotify:internal:recs:")}:${encodeURIComponent(o)}:${t?.navType??0}`,pages:[{items:y}]},{featureIdentifier:"search"}),A=(0,i.useCallback)(((e,t)=>(0,p.jsx)(Xt,{isRTL:a,index:t,label:e.label,onClick:()=>{r({navType:e.type,term:o,title:e.label})}},e.uri)),[a,r,o]),j=(0,i.useCallback)(((e,t)=>e.type===z.c.ARTIST?(0,p.jsx)(Nt,{isRTL:a,index:t,searchResult:e,onClick:()=>{l({navType:de.ARTIST,uri:e.uri,title:e.name})}},e.uri):e.type===z.c.EPISODE?(0,p.jsx)(Jt,{index:t,episode:e,contextUri:s.replace("spotify:","spotify:internal:recs:"),usePlayContextItem:T},e.uri):e.type===z.c.TRACK?(0,p.jsx)(ca,{index:t,track:e,contextUri:s.replace("spotify:","spotify:internal:recs:"),usePlayContextItem:T},e.uri):e.type===z.c.ALBUM?(0,p.jsx)(It,{index:t,isRTL:a,searchResult:e,onClick:()=>{l({navType:de.ALBUM,uri:e.uri,title:e.name})}},e.uri):(0,p.jsx)(nt,{book:e,index:t,featureIdentifier:"playlist_recommendations",contextUri:s,isRecommendation:!0,onAddClick:f,showSeparator:0!==t},e.uri)),[a,l,f,s,T]);if(""===o)return(0,p.jsx)("div",{className:ut.A.emptySearchTermContainer});if(!e||0===e?.length)return(0,p.jsxs)("div",{className:ut.A.emptyStateContainer,children:[(0,p.jsx)(n.E,{as:"h1",variant:"titleSmall",children:d.Ru.get("search.empty-results-title",o)}),(0,p.jsx)(n.E,{as:"p",variant:"bodySmall",children:d.Ru.get("search.empty-results-text")})]});if(t?.navType===de.SEARCH){const t=[{type:de.ARTISTRESULTS,label:d.Ru.get("playlist.curation.see_all_artists"),uri:"spotify:internal:recs:see-all-artists"},{type:de.ALBUMRESULTS,label:d.Ru.get("playlist.curation.see_all_album"),uri:"spotify:internal:recs:see-all-albums"},{type:de.TRACKRESULTS,label:d.Ru.get("playlist.curation.see_all_songs"),uri:"spotify:internal:recs:see-all-songs"}];return m=e,u?(0,p.jsx)(p.Fragment,{children:m.map(((e,t)=>e&&e.type===z.c.AUDIOBOOK?(0,p.jsx)(nt,{contextUri:s,index:t,featureIdentifier:"playlist_recommendations",book:e,isRecommendation:!0,onAddClick:f,draggable:h,onDragStart:t=>{g(t,{itemUris:[e.uri],itemMimeTypes:[b.fl.AUDIOBOOKS],dragLabelText:e.name})},showSeparator:0!==t},t):null))}):(0,p.jsx)(pt,{renderRow:j,searchResults:m,renderSeeAllRow:A,seeAllXList:t})}return t?.navType===de.ALBUM?(0,p.jsx)(dt,{renderRow:j,searchResults:m}):t?.navType===de.ARTIST?(0,p.jsx)(mt,{renderRow:j,searchResults:m}):t?.navType===de.ALBUMRESULTS?(0,p.jsx)(yt,{renderRow:j,searchResults:m}):t?.navType===de.TRACKRESULTS?(0,p.jsx)(gt,{renderRow:j,searchResults:m}):t?.navType===de.ARTISTRESULTS?(0,p.jsx)(ht,{renderRow:j,searchResults:m}):null};var ma=a(13867),pa=a(11663);const ya=({playlistUri:e,hideInlineCuration:t,isBooklist:a})=>{const[s,r]=(0,i.useState)([]),[l,o]=(0,i.useState)(),c=(0,ma.W)(),{level:u,changeTerm:m,goBack:y,navToEntity:h,navToResults:g,term:x}=(()=>{const[e,t]=(0,i.useReducer)(ue,{term:"",breadcrumbs:[]}),{breadcrumbs:a,term:s}=e;return{changeTerm:e=>{t({type:"CHANGE_TERM",term:e})},level:a[a.length-1]||null,goBack:()=>{t({type:"GO_BACK"})},navToEntity:e=>{t({type:"NAV_TO_ENTITY",level:e})},navToResults:e=>{t({type:"NAV_TO_RESULTS",level:e})},term:s}})(),{request:b}=(0,i.useContext)(pa.j),{spec:f,logger:T,UBIFragment:A}=(0,w.r)(N.e,{}),j=(0,i.useCallback)((e=>{m(e),e?T.logInteraction(f.searchBarFactory().keyStrokeFilter()):T.logInteraction(f.searchBarFactory().hitClearFilter())}),[m,T,f]);return(0,i.useEffect)((()=>{let e=!0;return(async()=>{if(u)switch(u.navType){case de.SEARCH:try{if(!l||l.query!==x&&""!==x){const t=await le(b,x,a);e&&o(t)}else""===x&&r([])}catch{r([])}l&&r(l.topResults);break;case de.ARTISTRESULTS:l&&r(l?.artists);break;case de.ALBUMRESULTS:l&&r(l?.albums);break;case de.TRACKRESULTS:l&&r(l?.tracks);break;case de.EPISODERESULTS:l&&r(l?.episodes);break;case de.ALBUM:try{const t=await oe(b,u.uri,100,0);e&&t&&r(t.tracks)}catch{r([])}break;case de.ARTIST:try{const t=await ce(b,u.uri,100,0);e&&t&&r([...t.albums,...t.tracks])}catch{r([])}}})(),()=>{e=!1}}),[u,x,l,b,a]),(0,p.jsxs)(A,{spec:f,children:[(0,p.jsxs)("section",{className:ut.A.playlistInlineCurationSection,children:[(0,p.jsxs)("div",{className:ut.A.playlistInlineCurationWrapper,children:[(0,p.jsx)(n.E,{as:"h1",className:ut.A.playlistInlineCurationTitle,variant:"titleSmall",children:d.Ru.get("playlist.curation.title")}),(0,p.jsx)(i.Suspense,{fallback:null,children:(0,p.jsx)(je,{placeholder:a?d.Ru.get("playlist.curation.search_placeholder-booklists"):d.Ru.get("playlist.curation.search_placeholder"),onChange:j})})]}),(0,p.jsx)("button",{className:ut.A.playlistInlineCurationCloseButton,onClick:t,children:(0,p.jsx)(U.M,{"aria-label":d.Ru.get("close")})})]}),null!==u&&u.navType!==de.SEARCH?(0,p.jsxs)("button",{className:ut.A.playlistInlineCurationBackButton,onClick:()=>y(),children:[c?(0,p.jsx)(_.V,{"aria-label":d.Ru.get("navbar.go-back"),className:ut.A.icon}):(0,p.jsx)(M.g,{"aria-label":d.Ru.get("navbar.go-back"),className:ut.A.icon}),(0,p.jsx)(n.E,{as:"p",variant:"bodyMediumBold",children:u.title})]}):null,(0,p.jsx)("div",{className:ut.A.searchResultListContainer,"data-testid":"playlist-inline-curation-results",children:(0,p.jsx)(ua,{playlistUri:e,term:x,level:u,resultList:s,navToEntity:h,navToResults:g,isRTL:c,isBooklist:a})})]})};var ha=a(3408),ga=a(18157),xa=a(64493);const ba=(0,i.createContext)({getReference:()=>null,setReference:()=>{}}),fa=({children:e})=>{const t=(0,i.useRef)(null),a=(0,i.useCallback)((()=>t.current),[]),s=(0,i.useCallback)((e=>{t.current=e}),[]),r=(0,i.useMemo)((()=>({getReference:a,setReference:s})),[a,s]);return(0,p.jsx)(ba.Provider,{value:r,children:e})};var Ta=a(27653);const Aa=(e,t,a)=>{const{name:r,uri:n,uid:l}=e,{sortState:o}=(0,i.useContext)(v.cL),c=o.order!==ct.H.NONE,{draggable:d,onDragStart:m}=(0,da.P)({itemIds:[l],itemUris:[n],itemMimeTypes:[b.fl.AUDIOBOOKS],dragLabelText:r,contextUri:t}),{setReference:p,getReference:y}=(0,i.useContext)(ba),h=(0,i.useCallback)((e=>{p({uri:n,uid:l}),m(e)}),[m,p,l,n]),g=(0,s.wA)(),x=(0,Ta.m)(),A=(0,i.useCallback)(((e,a)=>{const i=e[b.fl.AUDIOBOOKS];if(!i)return;const s=y();s?a===f.Nz.BEFORE?x.move(t,[s],{before:{uri:n,uid:l}}):x.move(t,[s],{after:{uri:n,uid:l}}):a===f.Nz.BEFORE?g((0,u.io)(t,i,{before:{uri:n,uid:l}})):g((0,u.io)(t,i,{after:{uri:n,uid:l}})),p(null)}),[t,g,y,x,p,l,n]),j=a&&!c?[b.fl.AUDIOBOOKS]:[];return{...(0,T.A)({uri:n,id:l,allowedMimeTypesByDropPosition:{[f.Nz.BEFORE]:j,[f.Nz.AFTER]:j},onDrop:A}),onDragStart:h,draggable:d}},ja="bg5inM_sdkHpYWiFf7Id",Ra="DyW2LAm9YDcCkcdM0eeP",Ca=()=>(0,p.jsx)("div",{className:Ra}),ka=(0,i.memo)((function({item:e,contextUri:t,canEdit:a=!1,canRemove:i=!1,index:s,highlightText:r}){const{className:n,dropPosition:l,draggable:o,...c}=Aa(e,t,a);return(0,p.jsxs)(xa.W,{className:n,"aria-posinset":s,reRunOnDOMUpdate:!0,children:[l===f.Nz.BEFORE&&(0,p.jsx)(Ca,{}),(0,p.jsx)(nt,{book:e,contextUri:t,index:s,featureIdentifier:"playlist",sharingInfo:e.sharingInfo,uid:e.uid,rating:e.rating,canRemove:i,className:n,draggable:o,showSeparator:0!==s,highlightText:r,...c}),l===f.Nz.AFTER&&(0,p.jsx)(Ca,{})]})}));var va=a(1172),Sa=a(24573),Ia=a(16026),Ea=a(65494),Pa=a(82974);const Na=({contextUri:e,initialItems:t,nrItems:a,canEdit:s,canRemove:n,ariaLabel:l})=>{const o=(0,Ta.m)(),c=(0,L.v7)(),{filter:d}=(0,i.useContext)(k.g),{sortState:u}=(0,i.useContext)(v.cL),{contentsOptions:m}=(0,va.$)(u,d),[,y]=(0,S.z)(),h=(0,i.useCallback)((async(t,a)=>{const i=await o.getContents(e,{...m,offset:t,limit:a}),s=i.items.map((e=>null===e?null:(0,Ea.pW)(e)?e:null));return{...i,items:s}}),[o,m,e]),{getItem:g,nrValidItems:x,invalidateCache:b}=(0,Ia.E)({nrItems:a,fetch:h,limit:50,initialItems:t});(0,i.useLayoutEffect)((()=>{y(x)}),[x,y]),(0,Pa.H)(e,b);const f=(0,i.useCallback)((e=>(0,p.jsx)("div",{style:{height:e}})),[]),T=(0,i.useCallback)(((e,t)=>t===ze.u.TITLE||t===ze.u.SUBTITLE?(0,p.jsx)(ga.M,{searchWords:[d],textToHighlight:e}):e),[d]),A=(0,i.useCallback)(((t,a)=>{const i=g(t);return i?(0,p.jsx)(ka,{contextUri:e,item:i,canEdit:s,canRemove:n,index:t,highlightText:T},i.uri):f(`${a}px`)}),[s,n,e,g,T,f]),j="POP"===(0,r.wQ)()?0:10;return(0,p.jsx)("div",{className:ja,children:(0,p.jsx)(ha.R,{firstInteractiveIsWrapper:!0,"aria-label":l,"aria-rowcount":x,"aria-colcount":6,children:(0,p.jsx)(fa,{children:(0,p.jsx)(Sa.M,{totalCount:x,estimatedHeight:200,renderItem:A,renderPlaceholder:f,scrollNodeRef:c,nrRowsOverscan:10,persistanceKey:e,nrInitialInView:j})})})})};var La=a(84676),wa=a(82953),Ua=a(18376),_a=a(88783),Ma=a(33125);let Oa=function(e){return e.DOWN="DOWN",e.UP="UP",e.EQUAL="EQUAL",e.NEW="NEW",e}({});const Ba={[Oa.DOWN]:()=>(0,p.jsx)(Ua.y,{size:"small",className:Gt.A.statusChangeDown}),[Oa.UP]:()=>(0,p.jsx)(_a.J,{size:"small",className:Gt.A.statusChangeUp}),[Oa.NEW]:()=>(0,p.jsx)(Ma.Z,{className:Gt.A.notificationDot}),[Oa.EQUAL]:()=>null},Da=({status:e,number:t})=>{const a=Ba[e];return(0,p.jsxs)("div",{className:pe()(Gt.A.rowChartStatus),children:[(0,p.jsx)(n.E,{variant:"bodyMedium",children:t}),(0,p.jsx)(a,{})]})};var Fa=a(62355),Va=a(3050),$a=a(76422),za=a(37502),Ha=a(80742),Ka=a(44474),Wa=a(83777),qa=a(75091);const Ya=i.memo((function({uri:e,name:t,duration_ms:a,artists:i,album:s,isMOGEFRestricted:r,isExplicit:n,isPlayable:l,uid:o,index:c,contextUri:u,imgUrl:m,statusChange:y,playCount:h,usePlayContextItem:g,isCompactMode:x}){const{spec:b}=(0,w.r)(Zt.i,{data:{position:c,reason:"",uri:e}}),f=(0,La.w)(),T=(0,la.c)(),{isActive:A,isPlaying:j,triggerPlay:R,togglePlay:C}=g({uid:o,uri:e,index:c}),k=(0,Qe.T)(e),{isPlayable:v,isAnyArtistBanned:S}=(0,zt.g)(e,{isPlayable:l,isLocal:!1,isOutOfMarket:!1,artistUris:i?.map((e=>e.uri))}),{unBanArtists:I}=(0,na.M)(i?.map((e=>e.uri))??[]),{badges:E,hasBadges:P}=(0,Yt.b)({downloadAvailability:k,isExplicit:n,isMOGEFRestricted:r}),N=i?.map((e=>e.name)).join(d.Ru.getSeparator())||"";return(0,p.jsx)(Wt.pZ,{value:"row",index:c,children:(0,p.jsx)(Ue.h,{menu:(0,p.jsx)(ea.P,{uri:e,albumUri:s?.uri,artists:i}),children:(0,p.jsx)(Vt.w,{uri:e,contextUri:u,index:c,onTriggerPlay:(e,t)=>{R({loggingParams:t})},isActive:A,ariaRowIndex:c+1,isPlayable:v,isAnyArtistBanned:S,handleArtistBanUndoClick:I,ageRestricted:r,dragMetadata:{name:t,createdBy:N},allowedDropTypes:[],spec:b,isCompactMode:x,isExplicit:n,children:f.map((({columnType:r,options:n},l)=>{const o=(0,Wa.y)(l,r,f);return(0,p.jsx)(o,{ariaColIndex:l,children:(()=>{switch(r){case ct.$.INDEX:return(0,p.jsx)($a.$,{uri:e,className:Gt.A.rowMarkerChartStatus,playAriaLabel:d.Ru.get("tracklist.a11y.play",t,N),onClick:(e,t)=>{v&&C({loggingParams:t})},isPlaying:j,isActive:A,spec:b,children:y?(0,p.jsx)(Da,{number:c+1,status:y}):(0,p.jsx)(za.a,{children:c+1})});case ct.$.TITLE_AND_ARTIST:case ct.$.TITLE_AND_AUTHOR:return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Fa.e,{src:m}),(0,p.jsxs)(Mt.l,{children:[(0,p.jsx)(Ft.p,{titleText:t,children:t}),P&&(0,p.jsxs)(Ut.P,{children:[E.download&&(0,p.jsx)(Ht._,{}),E.explicit&&(0,p.jsx)(qe.U,{}),E.nineteen&&(0,p.jsx)(Kt.q,{className:Gt.A.nineteen,size:16})]}),(0,p.jsx)(sa.p,{children:(0,p.jsx)(ta.l,{artists:i,spec:b})})]})]});case ct.$.TITLE:return(0,p.jsxs)(Va.q,{children:[T?(0,p.jsx)(Ke.N,{to:e,className:Gt.A.rowTitle,"data-testid":"internal-track-link",children:(0,p.jsx)(Ft.p,{titleText:t,children:t})}):(0,p.jsx)(Ft.p,{titleText:t,children:t}),P&&(0,p.jsxs)(Ut.P,{children:[E.download&&(0,p.jsx)(Ht._,{}),E.explicit&&(0,p.jsx)(qe.U,{}),E.nineteen&&(0,p.jsx)(Kt.q,{className:Gt.A.nineteen,size:16}),E.hasAssociatedVideo&&(0,p.jsx)(qa.l,{})]})]});case ct.$.ARTIST:case ct.$.AUTHOR:return(0,p.jsx)(Ka.Y,{children:i&&(0,p.jsx)(wa.E,{artists:i,spec:b})});case ct.$.PLAYS:return(0,p.jsx)(Ha.Y,{playcount:h});case ct.$.ALBUM_OR_PODCAST:case ct.$.ALBUM:return(0,p.jsx)(wt.g,{uri:s.uri,name:s.name,creatorUri:i?.[0]?.uri,spec:b,children:s.name});case ct.$.DURATION:return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ra.d,{uri:e,spec:b}),!n?.hideDuration&&(0,p.jsx)(aa.P,{duration:a}),(0,p.jsx)(ia.Y,{menu:(0,p.jsx)(ea.P,{uri:e,albumUri:s?.uri,artists:i}),label:d.Ru.get("more.label.track",t,N),spec:b})]});case ct.$.ADDED_BY:case ct.$.ADDED_AT:case ct.$.RELEASE_DATE:case ct.$.ACTIONS:case ct.$.ALBUM_OR_SHOW:case ct.$.EVENT_DATE:case ct.$.EVENT_INFO:case ct.$.CONCERT:case ct.$.CONCERT_VENUE:case ct.$.ADD:case ct.$.BPM:case ct.$.KEY:case ct.$.VIBE:return null;default:(0,J.d)(r)}return null})()},`column-${l}`)}))})})})}),((e,t)=>e.uri===t.uri&&e.isCompactMode===t.isCompactMode));var Ga=a(95717);const Qa={column:null,order:ct.H.NONE},Ja=i.memo((function({ariaLabel:e,nrTracks:t,playlistUri:a,scrollToUid:s,usePlayContextItem:r,tracklistDomRef:n,sortableColumns:l,isCompactMode:o=!1}){const c=(0,Ta.m)(),{filter:d,setFilter:u}=(0,i.useContext)(k.g),m=(0,i.useRef)(null),y=(0,i.useCallback)((()=>{m.current&&m.current.update()}),[]);(0,Pa.H)(a,y);const{sortState:h,setSortState:g}=(0,i.useContext)(v.cL),x=(0,i.useCallback)((e=>{g((0,C.So)(e,h))}),[h,g]);(0,i.useEffect)((()=>{g(Qa),u("")}),[a,u,g]),(0,i.useEffect)((()=>{m.current&&s&&m.current.scrollToItem({uid:s})}),[s]);const b=(0,i.useCallback)((async(e,t)=>{const i=await c.getContents(a,{offset:e,limit:t,sort:(0,C.Xt)(h),filter:d,decorateFormatListData:!0});return{items:i.items,totalLength:i.totalLength}}),[a,c,h,d]),f=(0,i.useCallback)(((e,t)=>{const i=(0,Ga.g)(e.album?.images,{desiredSize:40,desiredLabel:"small"});return(0,p.jsx)(Ya,{index:t,contextUri:a,uri:e.uri,uid:e.uid||void 0,isPlayable:e.isPlayable,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,album:e.album,isExplicit:e.isExplicit,isMOGEFRestricted:e.is19PlusOnly,type:e.type,imgUrl:i?.url||"",statusChange:e.formatListAttributes?.status,playCount:parseInt(e.formatListAttributes?.rank||"0",10),usePlayContextItem:r,isCompactMode:o},t+e.uri)}),[a,r,o]),T=(0,La.w)(),A=(0,i.useCallback)((e=>({uri:e.uri,uid:e.uid})),[]);return(0,p.jsx)(Wt.pZ,{value:"chart-tracklist",children:(0,p.jsx)(ot.S4,{ariaLabel:e,hasHeaderRow:!0,columns:T,sortableColumns:l,sortState:h,onSort:x,renderRow:f,resolveItem:A,nrTracks:t,fetchTracks:b,limit:100,canFetchAllTracks:c.getCapabilities().canFetchAllTracks,outerRef:m,outerDomRef:n,columnPersistenceKey:"chart-tracklist",isCompactMode:o,className:Gt.A.chartTrackList},a)})}));var Xa=a(75773),Za=a(74918),ei=a(35393),ti=a(44816),ai=a(43080);function ii(e,t){return e.build().withHost(ti.QU).withPath("/views/recommendations-in-free-tier-playlist-source").withQueryParameters({signal:`playlistURI:${t}`,limit:"10"}).withEndpointIdentifier("/views/{viewId}").send()}var si=a(29844),ri=a(72288);const ni="BagEpNps_J8R2QuHRZMa",li="mbuOeSEBZed4fc2naMS6",oi="bjB8WZd0Ev30ZFbiScDm",ci=(0,i.memo)((({uri:e})=>{const{scrollNodeRef:t}=(0,i.useContext)(L.bi),{ref:a,inView:s}=(0,Xa.Wx)({initialInView:!1,rootMargin:"128px 100%",root:t.current}),r=function(e,t){const{data:a}=(0,ai.Z)(ii,[e],{enabled:t,staleTime:36e5,gcTime:72e5});return a?.body.content?.items}(e,s),n=(0,i.useRef)(null),l=function(e){const[t,a]=(0,ri.x)("mlt-height",300),s=(0,i.useCallback)((()=>{const t=e.current?.getBoundingClientRect()?.height;t&&a(t)}),[e,a]);return(0,si.w)({refOrElement:e,observeOnly:"height",onResize:s,observeOnMount:!0}),t}(n);return 0===r?.length?null:(0,p.jsx)("div",{className:ni,style:{"--last-height":`${l}px`},ref:a,children:(0,p.jsx)("div",{className:li,children:r&&(0,p.jsx)(ei.p,{id:"0JQ5DAob0LgAOAm50K90Od",index:0,title:d.Ru.get("web-player.playlist.more-like-this.section-header-title"),total:r.length,elementRef:n,className:oi,children:r.map(((e,t)=>(0,p.jsx)(Za.B,{index:t,uri:e.uri,name:e.name,authorName:e.owner?.display_name??null,description:null,images:e.images},e.uri)))})})})}));var di=a(35251),ui=a(42297),mi=a(85277),pi=a(61621),yi=a(26630),hi=a(9830),gi=a(92533),xi=a(53185),bi=a(28525),fi=a(69623),Ti=a(61e3),Ai=a(96869),ji=a(92197),Ri=a(48383),Ci=a(54981),ki=a(36923);const vi={bottomEnd:ki.dw.topStart,top:ki.dw.bottom},Si=({visible:e,onHide:t,placement:a,children:i,label:s})=>(0,p.jsx)(Ri.W,{placement:a,withPortal:!0,overlay:e&&(0,p.jsx)("div",{children:(0,p.jsx)(Ci.A,{arrow:vi[a],colorSet:"announcement",onClose:t,children:s})}),children:i});var Ii=a(59282),Ei=a(42892),Pi=function(e){return e.xs="small",e.sm="medium",e.md="large",e}(Pi||{});const Ni=({uri:e,label:t,onClick:a,size:i=Pi.md})=>{const{onCopyLink:s}=(0,Ei.J)({uri:e,permissionLevel:"CONTRIBUTOR"}),{toggleActivationVisible:r,setToggleActivationVisible:n}=(0,Ii.R)();return(0,p.jsx)(Si,{visible:r,onHide:()=>n(!1),label:d.Ru.get("web-player.playlist.invite-collaborators.message"),placement:"bottomEnd",children:(0,p.jsx)(ji.Zp,{label:t,children:(0,p.jsx)(Ti.H,{onClick:e=>{a?.(e),s?.()},iconOnly:Ai.h,size:i,"aria-hidden":"true","aria-label":t,condensed:!0})})})};var Li=a(32485),wi=a(26918),Ui=a(79059);const _i=i.memo((({metadata:e,tracklistDomRef:t,sortableColumns:a})=>{const{hasSpotifyAudiobooks:s}=e,r=s||!1,{spec:n,logger:l}=(0,w.r)(Li.E,{}),o=(0,i.useCallback)((()=>{l.logInteraction(n.filterFieldFactory().keyStrokeFilter())}),[l,n]),c=(0,i.useCallback)((()=>{l.logInteraction(n.filterFieldFactory().hitClearFilter())}),[l,n]);return(0,p.jsxs)("div",{className:ut.A.searchBoxContainer,children:[(0,p.jsx)(i.Suspense,{fallback:null,children:(0,p.jsx)(wi.S,{placeholder:d.Ru.get("playlist.search_in_playlist"),onFilter:o,onClear:c,clearOnEscapeInElementRef:t})}),(0,p.jsx)(Ui.d,{columns:[...a],isBooklist:r})]})}));var Mi=a(15508),Oi=a(43995),Bi=a(12200);const Di=()=>null;var Fi=a(4319),Vi=a(55361),$i=a(96437),zi=a(48975),Hi=a(90630),Ki=a(42262);const Wi=i.memo((function({playlist:e,capabilities:t,spec:a,isPlaying:s,isActive:r,togglePlay:n,isBooklist:l,isConcert:o=!1,backgroundColor:c,tracklistDomRef:u,sortableColumns:m,className:y,watchFeedEntityEntryPoint:h}){const{metadata:{uri:g,name:x,unfilteredTotalLength:b,isOwnedBySelf:f,isRootlistable:T,canPlay:A,isPublished:j,totalLength:R}}=e,C=(0,zi.n)(),k=(0,et.s)(),v=(0,i.useMemo)((()=>a.shuffleButtonContainerFactory()),[a]),S=t.canFilter&&b>0,I=t.canSort&&b>0,E=b>0,P=(0,Bi.X)(),N=(0,Fi.x)(),[L,U]=(0,Ye.A)(g),_=(0,i.useCallback)((async()=>{try{await U(!L)}catch{}}),[L,U]),M=(0,i.useCallback)((()=>{const e=a.shareButtonFactory().hitShare({entityToBeShared:g,shareId:""});k.logInteraction(e)}),[a,k,g]),O=(0,fi.d$)(),{spec:B,logger:D}=(0,w.r)(di.e,{data:{uri:g}});(0,i.useEffect)((()=>{O&&D.logImpression(B.impression())}),[O,D,B]);const F=(0,i.useCallback)((()=>{let e;const t=a.heartButtonFactory();L?e=t.hitUnfollow({itemToBeUnfollowed:g}):(e=t.hitFollow({itemToBeFollowed:g}),O&&D.logInteraction(B.hitFollow({itemToBeFollowed:g}))),k.logInteraction(e),_()}),[a,_,L,k,g,O,D,B]),V=(0,$i.j)(),$=S&&I;return(0,p.jsx)(ui.E,{backgroundColor:c,className:y,children:(0,p.jsxs)(mi.S,{children:[A&&!l?(0,p.jsx)(xi.D,{onClick:n,isPlaying:s,size:V,uri:g,ariaPlayLabel:d.Ru.get("playlist.a11y.play",x),ariaPauseLabel:d.Ru.get("playlist.a11y.pause",x)}):null,h&&(0,p.jsx)(Vi.H,{entryPoint:h,watchFeedTitle:x,type:z.c.PLAYLIST}),P&&R>0&&!l&&(0,p.jsx)(Ki.r,{spec:v,children:(0,p.jsx)(Mi.Y,{shuffleContext:Oi.b.playlistActionBar,entityName:x,contextUri:g,isActive:r,activationPlacement:"bottomEnd",size:V})}),!f&&T?(0,p.jsx)(hi.e,{children:(0,p.jsx)(Ee.M,{isAdded:L,onClick:F,size:V,condensed:!0})}):null,!l&&E&&(0,p.jsx)(pi.f,{uri:g,isFollowing:L,canDownload:E,onClick:(e,t)=>(0,We.Qv)(t,a.downloadButtonFactory(),k,g),onFollow:_,size:V,condensed:!0}),e.metadata.permissions?.canAdministratePermissions&&C&&(0,p.jsx)(Ni,{onClick:M,label:d.Ru.get("permissions.invite-collaborators",x),uri:g,size:V}),(o||l)&&(0,p.jsx)(Le.w,{uri:g,sharingInfo:null,interactionData:{intent:"share",type:"click",itemIdSuffix:o?"concerts-near-you/share":"booklist/share"},onClick:M,size:V}),N&&(0,p.jsx)(i.Suspense,{fallback:null,children:(0,p.jsx)(Di,{uri:g,playlistMetadata:e.metadata})}),(0,p.jsx)(we.b,{onShow:()=>(0,We.R2)(a,k),menu:(0,p.jsx)(yi.W,{uri:g,isPublished:j}),children:(0,p.jsx)(Ne.e,{label:d.Ru.get("more.label.context",x),size:V})}),$?(0,p.jsx)(Ki.r,{spec:a,children:(0,p.jsx)(_i,{metadata:e.metadata,tracklistDomRef:u,sortableColumns:m})}):(0,p.jsx)("div",{className:ut.A.leadingSlot,children:(0,p.jsx)(gi.u,{property:Hi.mA2,renderNewExperience:()=>(0,p.jsx)(bi.g,{options:[],onSelect:()=>{},selected:null,enableViewModeMenu:!0})})})]})})}));var qi=a(45143),Yi=a(39876);const Gi=e=>{const t=(0,et.s)(),a=(0,i.useMemo)((()=>e.spec.promoCardFactory()),[e.spec]),s=(0,Yi.t)(a);return(0,p.jsxs)("div",{className:ut.A.concertsFooter,children:[(0,p.jsx)(Ke.N,{to:"/concerts",className:ut.A.ctaLink,onClick:()=>{const e=a.hitUiNavigate({destination:"spotify:app:concerts"});t.logInteraction(e)},children:(0,p.jsxs)("div",{className:ut.A.promoRow,ref:s,children:[(0,p.jsx)(n.E,{as:"h2",variant:"bodyMediumBold",className:ut.A.promoTitle,children:d.Ru.get("concerts.find_more")}),(0,p.jsx)(qi.v,{as:"span",selected:!0,children:d.Ru.get("concerts.find_nearby")}),(0,p.jsx)("img",{className:ut.A.promoImage,alt:"",src:"https://i.scdn.co/image/ab676d63000076a0dbdb7dc2499cbb9ef096518d"})]})}),(0,p.jsx)("div",{className:ut.A.disclaimerContainer,children:(0,p.jsx)(n.E,{as:"div",variant:"marginal",semanticColor:"textSubdued",children:d.Ru.get("concerts_near_you.playlist_disclaimer")})})]})};var Qi=a(98197),Ji=a(26687),Xi=a(39657);const Zi="multiUserAttributionDisplayNamesV2";function es(e){return(0,Ea.Jy)(e)||(0,Ea.xp)(e)}function ts(e){return(0,Ea.Jy)(e)||(0,Ea.xp)(e)||(0,Ea.pW)(e)}const as=i.memo((function({ariaLabel:e,nrTracks:t,playlistUri:a,playlistName:r,isMixedMedia:n,isLive:o,isBlend:m,isConcert:y,isBooklist:h,canEdit:g,scrollToUid:x,feedbackPath:f,deleteFeedbackPath:T,usePlayContextItem:A,tracklistRef:j,tracklistDomRef:R,canRemove:I,spec:E,initialItems:P,isCompactMode:N=!1,sortableColumns:L,hasSpotifyAudiobooks:w}){const U=(0,et.s)(),_=(0,l.NC)(Hi.LX5),M=(0,Ta.m)(),{filter:O}=(0,i.useContext)(k.g),{sortState:B,setSortState:D}=(0,i.useContext)(v.cL),F=(0,i.useRef)((()=>{})),[V,$]=(0,i.useState)([]),z=(0,s.wA)(),H=(0,La.w)(),K=(0,i.useCallback)((()=>{j?.current&&j.current.update()}),[j]);(0,Pa.H)(a,K);const W=(0,i.useCallback)(((e,t)=>{D((0,C.So)(e,B)),U.logInteraction(E.columnHeaderFactory({identifier:e,position:t||0}).hitSort())}),[D,B,U,E]),q=(0,i.useCallback)((e=>{F.current(),M.remove(a,e)}),[M,a]),Y=(0,i.useCallback)(((e,t,a=!1)=>{I&&(F.current=t,e.length>1&&!a?$(e):q(e))}),[I,q]);(0,i.useEffect)((()=>{j?.current&&x&&j.current.scrollToItem({uid:x})}),[x,j]);const G=(0,i.useCallback)((async(e,t)=>{const i=await M.getContents(a,{offset:e,limit:t,sort:(0,C.Xt)(B),filter:O,decorateFormatListData:!!f||o||m});return{items:i.items,totalLength:i.totalLength}}),[a,M,B,O,f,o,m]),Q=(0,i.useCallback)(((e,t,i)=>{if(!j?.current)return;const s=j.current.getRows()[t];s&&(U.logInteraction(E.dragSort()),i===Vt.Y.Before?M.move(a,e,{before:s}):M.move(a,e,{after:s}))}),[j,U,E,M,a]),J=(0,i.useCallback)(((e,t,i)=>{if(!j?.current)return;const s=j.current.getRows()[t];s&&(U.logInteraction(E.dragAddToPlaylist({playlist:a,itemToBeAdded:e[0]})),i===Vt.Y.Before?z((0,u.io)(a,e,{before:{uri:s.uri,uid:s.uid}})):z((0,u.io)(a,e,{after:{uri:s.uri,uid:s.uid}})))}),[j,U,E,a,z]),X=(0,i.useCallback)(((e,t)=>{let i,s=null;(0,Ea.xp)(e)?(s=e.show,i=e.images.concat(e.show?.images||[])):(0,Ea.Jy)(e)?(s=e.album,i=e.album?.images):(0,Ea.pW)(e)&&(i=e.images);const l=(0,Ga.g)(i,{desiredSize:40,desiredLabel:"small"});let o=[];g&&B.order===ct.H.NONE&&(o=h?[b.fl.AUDIOBOOKS]:[b.fl.TRACKS,b.fl.LOCAL_TRACKS,b.fl.EPISODES,...w?[b.fl.AUDIOBOOKS]:[]]);const d="1"===e?.formatListAttributes?.["dislike-feedback-selected"],u=!!(0,Ea.xp)(e)&&e.podcastSubscription.isUserSubscribed;let x=!1;(0,Ea.xp)(e)&&e.podcastSubscription.isPaywalled&&!u?x=!0:es(e)?x=e.isPlayable&&!d:(0,Ea.pW)(e)&&(x=!0);let j=!1;(0,Ea.xp)(e)&&e.podcastSubscription.isPaywalled?j=!0:(0,Ea.pW)(e)&&(j=e.isLocked&&!e.isOutOfMarket);const R=m&&((e,t)=>{const a=[];if(!t)return a;const i=t[Zi]?Zi:"multiUserAttributionDisplayNames",s=t?.[i]?.split(","),r=t?.multiUserAttributionImages?.split(",");if(!s||!r)return a;const n=t?.multiUserAttributionUsernamesV2?.split(",")||[],l=t?.multiUserAttributionType?.split(",")||[],o=s.length;for(let e=0;e<o;e++){const t=n[e],i=t&&(0,c.Qjr)(t).toURI();a.push({username:t,uri:i,displayName:s[e],images:(d=r[e],d.length>1?[{url:d}]:[]),recsplanation:l[e]})}var d;return a.sort(((t,a)=>t.username?t.username===e?.username?-1:a.username===e?.username?1:0:0))})(e.addedBy,e?.formatListAttributes)||e.addedBy&&[e.addedBy]||[];let C=0;es(e)?C=e.duration.milliseconds:(0,Ea.pW)(e)&&(C=e.durationMs||0);let k="";ts(e)&&(k=e.name);let v=null;return(0,Ea.xp)(e)&&(v=e.gatedEntityRelations),(0,p.jsx)(Xi.W,{isCompactMode:N,index:t,playIndex:e.playIndex??void 0,contextUri:a,uri:e.uri,uid:e.uid,isPlayable:x,duration_ms:C,isPaywalled:j,isUserSubscribed:u,name:k,artists:(0,Ea.Jy)(e)?e.artists:void 0,albumOrShow:s,isExplicit:(ts(e)&&e.isExplicit)??!1,hasAssociatedVideo:((0,Ea.Jy)(e)&&e.hasAssociatedVideo&&_)??!1,isMixedMedia:n,isLocal:(0,Ea.Jy)(e)&&e.isLocal,addedBy:R,hasDecoratedAddedBy:M.getCapabilities().canDecorateAddedBy,dateAdded:e.addedAt,release_date:(0,Ea.xp)(e)&&e.release.isoString||"",isMOGEFRestricted:((0,Ea.Jy)(e)||(0,Ea.xp)(e))&&e.is19PlusOnly,type:e.type,imgUrl:l?.url||"",onMove:Q,onInsert:J,usePlayContextItem:A,allowedDropTypes:o,feedbackPath:f,feedbackUri:e?.formatListAttributes?.feedback_uri,deleteFeedbackPath:T,isDisliked:d,isBlend:m,ticketingSiteURL:e?.formatListAttributes?.ticketingSite,eventDate:e?.formatListAttributes?.eventDate,canRemove:I,playlistName:r,isConcert:y,concertsCount:String(e.formatListAttributes?.concert_uris?.split(",").length??0),concertURI:e.formatListAttributes?.concert_uri,concertDate:e.formatListAttributes?.concert_date,concertVenue:e.formatListAttributes?.concert_subtitle,authorName:(0,Ea.pW)(e)?e.authorName:"",isOutOfMarket:!!(0,Ea.pW)(e)&&e.isOutOfMarket,consumptionCapExplanation:(0,Ea.pW)(e)?e.consumptionCapExplanation:void 0,isOwnedBySelf:g,bpm:(0,Ea.Jy)(e)?e.bpm:void 0,musicKey:(0,Ea.Jy)(e)?e.key:void 0,gatedEntityRelations:v,isBanned:!!(0,Ea.Jy)(e)&&e.isBanned},t+e.uri)}),[g,h,B.order,m,N,a,_,n,M,Q,J,A,f,T,I,r,y,w]),Z=(0,i.useCallback)((e=>({uri:e.uri,uid:e.uid,type:e.type})),[]),[,ee]=(0,S.z)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Wt.pZ,{value:"playlist-tracklist",children:(0,p.jsx)(ot.S4,{isCompactMode:N,testID:"playlist-tracklist",ariaLabel:e,hasHeaderRow:!0,columns:H,sortableColumns:L,sortState:B,onSort:W,onRemove:Y,renderRow:X,resolveItem:Z,nrTracks:t,fetchTracks:G,limit:100,canFetchAllTracks:M.getCapabilities().canFetchAllTracks,outerRef:j,outerDomRef:R,tracks:P,isConcertPlaylist:y,onNrValidItemsChange:ee,columnPersistenceKey:"playlist-tracklist"},a)}),(0,p.jsx)(Ji.F,{title:d.Ru.get("playlist.remove_from_playlist",r),isOpen:V.length>0,tracks:V,onClose:e=>{e.stopPropagation(),$([])},onRemove:q})]})}));var is=a(63127);var ss=a(90803),rs=a(8903);const ns={ARTIST:"artist",ALBUM:"album",PLAYLIST:"playlist",TRACK:"track",USER:"user"},ls=e=>{const t=e.replace(/\+/g,"%20");return decodeURIComponent(t)},os=e=>{const t=/^spotify:(.*)$/.exec(e);if(!t)return{type:null,id:null};const a=t[1],i=/([^:]+):([^:]+)/g;let s;const r=[],n=[];for(;s=i.exec(a);){const e=s[1];let t=s[2];e===ns.USER&&(t=ls(t)),r.push(e),n.push(t)}if(0===r.length)return{type:null,id:null};const l=r.reduce(((e,t,a)=>(e[r[a]]=n[a],e)),{});return{type:r[r.length-1],id:n[n.length-1],...l}};var cs=a(90829),ds=a(99013),us=a(98929);const ms=new O.l("getAudiobooksMetadata","query","e04c61a831b3e1861a5de961c520ddf7834127ef8e4b94724173a4c4a90e38fe",null),ps=3e5;function ys(e,t){return["list-extender",e,t]}const hs=(e,t,a=10,s)=>{const r=2*a,n=3*a,l=(0,us.jE)(),c=(0,i.useRef)(0),[d,u]=(0,i.useState)(e),[m,p]=(0,i.useState)((()=>l.getQueriesData({queryKey:ys(e,t),stale:!1}).at(0)?.[1]??[])),y=(0,i.useRef)(m.map((e=>e.uri??""))),{spec:h,logger:g}=(0,w.r)(o.K,{data:{uri:e}}),x=(0,i.useMemo)((()=>h.recommendedFactory()),[h]);(0,ds.e)(cs.Lj.OPERATION_COMPLETE,(({data:a})=>{a.uri===e&&(a.operation===cs.sP.ADD?p((e=>e.filter((e=>a.uris.every((t=>t!==e.uri)))))):a.operation===cs.sP.REMOVE&&p((e=>e.filter((e=>a.items.every((t=>t.uri!==e.uri)))))),a.operation!==cs.sP.ADD&&a.operation!==cs.sP.REMOVE||l.invalidateQueries({queryKey:ys(e,t)}))}));const b=(0,i.useRef)(!0);(0,i.useEffect)((()=>(b.current||(p([]),u(e),y.current=[],c.current=c.current+1),b.current=!0,()=>{c.current=c.current+1})),[e]),(0,i.useEffect)((()=>{if(m.length<r){const e=Math.min(r,n-m.length),a=c.current,i=ys(d,t),o=b.current&&0===y.current.length;(o?l.fetchQuery({queryKey:i,queryFn:()=>s(d,[],e),staleTime:ps,gcTime:ps}):s(d,y.current,e)).then((t=>{if(a!==c.current||!t)return;const s=t.map((e=>e?.uri&&e.uri)).filter((e=>null!==e));t.length<e&&y.current.length?y.current=[]:y.current=[...y.current,...s],p((e=>[...e,...t])),o&&l.setQueryData(i,t)}))}b.current=!1}),[r,n,d,m.length,l,s,t]);const f=(0,i.useCallback)((()=>{if(h){const e=x.refreshButtonFactory().hitRefreshContent();g.logInteraction(e)}p((e=>e.slice(a)))}),[g,x,h,a]);return{recommendations:m.slice(0,a),_bufferedRecommendations:m.slice(a),refresh:f}},gs=i.memo((function({uri:e,canEdit:t}){const{recommendations:a,refresh:s}=((e,t=10)=>{const a=(0,Ta.m)(),{request:s}=(0,i.useContext)(pa.j),r=(0,i.useCallback)((async(e,t,i)=>{const r=await a.getRecommendedBookUris(e,t,i),n=await s(ms,{uris:r});return n?.data?.podcasts?.map((e=>"Audiobook"===e.__typename?W(e):null)).filter(Q.P)??[]}),[a,s]);return hs(e,"book",t,r)})(e),{draggable:r,onDragStart:l}=(0,da.P)(),{addItems:o}=(0,qt.x)(e),c=(0,rs.p)(),u=(0,i.useCallback)((e=>{o([e],{after:"end"})}),[o]);return c?a?.length&&a.length>0?(0,p.jsxs)("div",{className:ut.A.recommendedTrackList,"data-testid":"recommended-books",children:[(0,p.jsx)("div",{className:ut.A.top,children:(0,p.jsxs)("div",{className:ut.A.header,children:[(0,p.jsx)(n.E,{variant:"titleSmall",children:d.Ru.get("playlist.extender.recommended.title")}),(0,p.jsx)(n.E,{variant:"bodySmall",className:ut.A.subtitle,children:d.Ru.get("playlist.extender.songs.in.playlist")})]})}),c&&(0,p.jsxs)(p.Fragment,{children:[a.map(((a,i)=>a?(0,p.jsx)(nt,{contextUri:e,index:i,featureIdentifier:"playlist_recommendations",book:a,sharingInfo:a.sharingInfo,isRecommendation:!0,draggable:r,onAddClick:t?u:void 0,onDragStart:e=>{l(e,{itemUris:[a.uri],itemMimeTypes:[b.fl.AUDIOBOOKS],dragLabelText:a.name})},showSeparator:0!==i},i):null)),(0,p.jsx)(Ti.H,{className:ut.A.refreshButton,onClick:s,children:d.Ru.get("playlist.extender.refresh")})]})]}):null:(0,p.jsx)("div",{className:ut.A.recommendedTrackList,children:(0,p.jsx)("div",{className:ut.A.top,children:(0,p.jsxs)("div",{className:ut.A.header,children:[(0,p.jsx)(n.E,{variant:"titleSmall",children:d.Ru.get("playlist.extender.recommended.title")}),(0,p.jsx)(n.E,{variant:"bodySmall",className:ut.A.subtitle,children:d.Ru.get("web-player.playlist.booklist-recommender-dsa-message")})]})})})}));var xs=a(20841);const bs=i.memo((function({playlistUri:e,canEdit:t,tracks:a}){const s="1"===(0,xs.$)("filter-age-restricted-content"),{usePlayContextItem:r}=(0,Xe.P)({uri:e.replace("spotify:","spotify:internal:recs:"),pages:[{items:a.map((e=>({...e,provider:null,type:z.c.TRACK,uid:null})))}]},{featureIdentifier:"playlist_recommendations"}),n=(0,i.useCallback)(((a,i)=>{const n=a.duration;return(0,p.jsx)(oa,{index:i,imgUrl:a.album.imageUrl,contextUri:e.replace("spotify","spotify:internal:recs"),uri:a.uri,isPlayable:!(s&&a.isMOGEFRestricted),name:a.name,artists:a.artists,album:{...a.album,imgUrl:a.album.imageUrl},isExplicit:a.explicit,isMOGEFRestricted:a.isMOGEFRestricted,usePlayContextItem:r,durationMs:n,shouldRenderDuration:!t,internalLink:!0},`${i}-${a.uri}`)}),[e,s,r,t]),l=(0,i.useMemo)((()=>[ct.$.TITLE_AND_ARTIST,ct.$.ALBUM,ct.$.ADDED_AT,ct.$.ADD]),[]),o=(0,i.useCallback)((e=>({uri:e.uri,uid:e.id})),[]),c=(0,i.useMemo)((()=>a.slice(0,Math.min(a.length,10))),[a]);return(0,p.jsx)(ot.S4,{ariaLabel:d.Ru.get("playlist.extender.recommended.header"),nrTracks:Math.min(a.length,10),rowPlaceholder:lt.qq,tracks:c,renderRow:n,resolveItem:o,columns:l},`${e}-recommended`)})),fs=i.memo((function({playlistUri:e,playlistLength:t,canEdit:a}){const{recommendations:s,refresh:r}=((e,t=10)=>{const a=(0,Ta.m)(),s=(0,i.useCallback)((async(e,t,i)=>{const s=t.map((e=>os(e).id??""));return a.getRecommendedTracks(e,s,i)}),[a]);return hs(e,"track",t,s)})(e),l=!t||0===t,o=(0,rs.p)(),c=l?d.Ru.get("playlist.extender.empty.playlist"):d.Ru.get("playlist.extender.songs.in.playlist");return o?s.length>0?(0,p.jsxs)("div",{className:ut.A.recommendedTrackList,children:[(0,p.jsx)("div",{className:ut.A.top,children:(0,p.jsxs)("div",{className:ut.A.header,children:[(0,p.jsx)(n.E,{variant:"titleSmall",children:d.Ru.get("playlist.extender.recommended.title")}),(0,p.jsx)(n.E,{variant:"bodySmall",className:ut.A.subtitle,children:c})]})}),o&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(bs,{playlistUri:e,canEdit:a,tracks:s}),(0,p.jsx)(Ti.H,{className:ut.A.refreshButton,onClick:r,children:d.Ru.get("playlist.extender.refresh")})]})]}):null:(0,p.jsx)("div",{className:ut.A.recommendedTrackList,children:(0,p.jsx)("div",{className:ut.A.top,children:(0,p.jsxs)("div",{className:ut.A.header,children:[(0,p.jsx)(n.E,{variant:"titleSmall",children:d.Ru.get("playlist.extender.recommended.title")}),(0,p.jsx)(n.E,{variant:"bodySmall",className:ut.A.subtitle,children:d.Ru.get("web-player.playlist.recommender-dsa-message")})]})})})}));var Ts=a(12524),As=a(14867),js=a(98176),Rs=a(41801),Cs=a(17108);const ks=(e,t,a)=>{const i=(0,Rs.sH)(e.seo.playlist||e.seo.playlistV2||{},e.playlistId,t);return(0,As.o)(a,(0,r.zy)())||i},vs=()=>{const{playlistId:e=""}=(0,r.g)(),t=(0,la.c)(),a={seo:{playlist:(0,s.d4)(Ts.LO),playlistV2:(0,s.d4)(Ts.nc)},playlistId:e},i=(e=>ks(e,Cs.T.VARIANT_1,js.P.SpotifyPlaylistTitleTag1))(a),n=(e=>ks(e,Cs.T.VARIANT_2,js.P.SpotifyPlaylistTitleTag2))(a),l=(e=>ks(e,Cs.T.VARIANT_3,js.P.SpotifyPlaylistTitleTag3))(a);return t?{spotifyPlaylistTitleTagVariant1Enabled:i,spotifyPlaylistTitleTagVariant2Enabled:n,spotifyPlaylistTitleTagVariant3Enabled:l}:{spotifyPlaylistTitleTagVariant1Enabled:!1,spotifyPlaylistTitleTagVariant2Enabled:!1,spotifyPlaylistTitleTagVariant3Enabled:!1}},Ss=(e,t,a)=>{const i=(0,Rs.lM)(e.seo.playlist||e.seo.playlistV2||{},e.playlistId,t);return(0,As.o)(a,(0,r.zy)())||i},Is=()=>{const{playlistId:e=""}=(0,r.g)(),t=(0,la.c)(),a={seo:{playlist:(0,s.d4)(Ts.LO),playlistV2:(0,s.d4)(Ts.nc)},playlistId:e},i=(e=>Ss(e,Cs.T.VARIANT_1,js.P.UserPlaylistTitleTag1))(a),n=(e=>Ss(e,Cs.T.VARIANT_2,js.P.UserPlaylistTitleTag2))(a),l=(e=>Ss(e,Cs.T.VARIANT_3,js.P.UserPlaylistTitleTag3))(a);return t?{userPlaylistTitleTagVariant1Enabled:i,userPlaylistTitleTagVariant2Enabled:n,userPlaylistTitleTagVariant3Enabled:l}:{userPlaylistTitleTagVariant1Enabled:!1,userPlaylistTitleTagVariant2Enabled:!1,userPlaylistTitleTagVariant3Enabled:!1}};var Es=a(340);class Ps{async deleteChanges(e){throw new Error("Method not implemented.")}async getChanges(e){throw new Error("Method not implemented.")}async applyChanges(e,t){throw new Error("Method not implemented.")}async applyChangesNewPlaylist(e,t){throw new Error("Method not implemented.")}async previewChanges(e,t){throw new Error("Method not implemented.")}async getTrackPairTransitionMetadata(e){throw new Error("Method not implemented.")}maybeApplyAutoTuna(e){throw new Error("Method not implemented.")}turnOnMix(e){throw new Error("Method not implemented.")}turnOffMix(e){throw new Error("Method not implemented.")}}const Ns=(0,i.createContext)(null);const Ls=function({children:e}){const t=(0,i.useMemo)((()=>new Ps),[]);return(0,p.jsx)(Ns.Provider,{value:t,children:e})},ws=()=>{};var Us=a(86422),_s=a(39695),Ms=a(46726),Os=a(27463),Bs=a(19512),Ds=a(39355),Fs=a(17013);const Vs=["meta+v"];var $s=a(98962),zs=a(77612),Hs=a(13946),Ks=a(27931),Ws=a(10312),qs=a(17807),Ys=a(64640);const Gs=i.lazy((()=>a.e(4789).then(a.bind(a,18884)))),Qs=i.lazy((()=>Promise.resolve().then(a.bind(a,34148)))),Js=i.lazy((()=>Promise.all([a.e(4151),a.e(3632)]).then(a.bind(a,20950)))),Xs=i.lazy((()=>Promise.all([a.e(4151),a.e(9718)]).then(a.bind(a,97557)))),Zs=new Set([]),er=i.memo((function({playlist:e,capabilities:t}){const{metadata:{uri:a,name:m,images:y,totalLength:h,unfilteredTotalLength:g,isOwnedBySelf:j,hasEpisodes:R,canAdd:U,canRemove:_,formatListData:M,hasDateAdded:O,collaborators:D,isPublished:F,hasSpotifyAudiobooks:V,hasSpotifyTracks:$},contents:{items:z}}=e,{spec:H,logger:K,UBIFragment:W}=(0,w.r)(o.K,{data:{uri:a}});ws(a,e.metadata);const q=(0,zi.n)(),Y=(0,l.NC)(Ys.Cf,{loadingValue:!1}),G=(0,Es.m)(),{isCompactMode:Q}=(0,Us.a)(),J=i.useMemo((()=>H.headerFactory()),[H]),X=i.useMemo((()=>H.tracklistFactory()),[H]),Z=i.useMemo((()=>H.actionBarFactory()),[H]),ee="chart"===M?.type,te="concerts-near-you"===M?.type&&Y,ae="live-streams"===M?.type,ie=["blend","celebrity-blend","friends-mix"].indexOf(M?.type||"")>-1,se=[$,R,V].filter(Boolean).length>1,re=!se&&!!V&&(0,ss.R)(z),ne="artistsets"===M?.type||"this-is"===M?.attributes["editorial.series"],le=M?.attributes||{},oe=le.header_image_url_desktop||le.image_url||null,ce=U&&_,{isInlineCurationVisible:de,showInlineCuration:ue,hideInlineCuration:me}=((e,t)=>{const[a,s]=(0,i.useState)(e&&0===t),r=(0,i.useRef)(a),{scrollNodeChildRef:n}=(0,i.useContext)(L.bi),{spec:l,logger:o}=(0,w.r)(N.e,{}),c=(0,i.useCallback)((()=>{s(!0),o.logInteraction(l.findMoreButtonFactory().hitUiReveal())}),[o,l]),d=(0,i.useCallback)((()=>{s(!1),o.logInteraction(l.closeButtonFactory().hitUiHide())}),[o,l]);return(0,i.useEffect)((()=>{n&&!r.current&&a&&n.current?.scrollIntoView({block:"end",behavior:"smooth"}),r.current=a}),[n,a]),{isInlineCurationVisible:a,showInlineCuration:c,hideInlineCuration:d}})(ce,g),{productState:pe}=(0,s.d4)($s.Ht),he=!!pe?.ads&&parseInt(pe.ads,10)>0,ge="spotify"===e.metadata.owner.username,xe=(0,s.wA)(),be=(0,r.wQ)(),fe=(0,r.zy)(),Te=(0,l.NC)(Hi.vQ3,{loadingValue:!1}),Ae=(0,l.NC)(Hi.UPi,{loadingValue:!1}),je=(0,E.useThisisPlaylistExtensionQuery)({uri:a},{gcTime:5*B.i,enabled:ne}).data?.playlistV2,Re="Playlist"===je?.__typename?je.artistsOnTour?.[0]:null,Ce=Ae&&"Playlist"===je?.__typename?je.concerts?.items.map((e=>e.data)):null,ke=Ce?.flatMap((e=>"ConcertV2"===e.__typename?[e]:[])).map((e=>{const t=[e.location.name,e.location.city].join(d.Ru.getSeparator()),a=e.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[]));return{venue:t,title:e.title,uri:e.uri,startDate:e.startDateIsoString,imageUrl:a[0]?.visuals.avatarImage?.sources[0]?.url,saved:e.saved}})),ve="POP"!==be?new URLSearchParams(fe.search).get("uid"):null,{filter:Se}=(0,i.useContext)(k.g),{sortState:Ie}=(0,i.useContext)(v.cL),Ee=(0,Ta.m)(),Pe=(0,i.useRef)(null),Ne=(0,i.useRef)(null),[Le]=y,we=(0,Ms.H)(null!==oe?oe:Le?.url||null),{contentsOptions:Ue}=(0,va.$)(Ie,Se),{isPlaying:_e,isActive:Me,togglePlay:Oe,usePlayContextItem:Be}=(0,Xe.P)((0,Ks.A)(a,Ue),{featureIdentifier:"playlist"}),De=(0,i.useCallback)((()=>{const e=(0,We.$I)({isPlaying:_e,isActive:Me,spec:Z.playButtonFactory(),logger:K,uri:a});Oe({loggingParams:e})}),[_e,Me,Oe,Z,K,a]);!function(e){const t=(0,Os._)(),a=(0,ye.YQ)((()=>{t.paste().then((t=>e(t)))}),500,{leading:!0,trailing:!1});(0,Fs.f)(Vs,a),(0,Ds.x)(Bs.W.PASTE,a)}((0,i.useCallback)((e=>{const t=e.split(/[\r\n]+/g).map((e=>(0,c.o_h)(e))).filter((e=>null!==e&&((0,c.U_m)(e)||(0,c.gHQ)(e)||(0,c.PkR)(e))));if(t.length>0&&U){const e=t.map((e=>e.toURI())),i=Pe.current?.getSelected()?.slice(-1)?.[0],s={after:i??"end"};xe((0,u.io)(a,e,s))}}),[U,xe,a]));const Fe=(0,i.useCallback)((e=>{const t=[...e[b.fl.TRACKS]||[],...e[b.fl.LOCAL_TRACKS]||[],...e[b.fl.EPISODES]||[],...e[b.fl.ALBUMS]||[],...e[b.fl.AUDIOBOOKS]||[]];t.length>0&&U&&(K.logInteraction(H.dragAddToPlaylist({playlist:a,itemToBeAdded:t[0]})),xe((0,u.io)(a,t)))}),[U,K,H,a,xe]),Ve=!ge&&0!==g,$e=!re&&q&&(ce&&!de||Ve),ze=re&&q&&(ce&&!de||Ve),He=j&&q,Ke=!ce&&!re&&!Ve&&q,qe=D?.count??1,[Ye]=(0,S.z)(),Ge="plays"===le.rank_type,Qe=(0,i.useMemo)((()=>(0,C.Ey)({isMixedMedia:se,hasEpisodes:R,hasSpotifyAudiobooks:V,hasDateAdded:O,isLive:ae,isConcert:te,isBlend:ie,nrCollaborators:qe,isBooklist:re,isCompactMode:Q,isChart:ee,showPlayCount:Ge,isExtraColumnsEnabled:G})),[se,R,V,O,ae,te,ie,qe,re,Q,ee,Ge,G]),Je=(0,i.useMemo)((()=>{let e;return e=Ee.getCapabilities().canSort?re?new Set(v.dh):new Set((0,C.zq)(Qe)):Zs,e}),[Qe,re,Ee]),Ze=re&&!Q,et=(0,i.useMemo)((()=>{const e=re?[b.fl.AUDIOBOOKS]:[b.fl.TRACKS,b.fl.LOCAL_TRACKS,b.fl.EPISODES,b.fl.ALBUMS];return{[f.Nz.ON]:U?e:[]}}),[U,re]),{className:tt,dropPosition:at,...it}=(0,T.A)({allowedMimeTypesByDropPosition:et,onDrop:Fe}),st=vs(),rt=Is();return(0,_s.K)(a),(0,p.jsxs)(i.Suspense,{fallback:null,children:[(0,p.jsx)(P.c,{artistOrShow:e.metadata.owner.displayName,title:m,uri:a,entityType:P.p.PLAYLIST}),(0,p.jsx)(A.Q,{children:(0,qs.Q2)({playlistName:m,userName:e.metadata.owner.displayName||"",isSpotifyOwned:ge,spotifyPlaylistTitleTagVariants:st,userPlaylistTitleTagVariants:rt,count:h})}),(0,p.jsxs)("section",{role:"presentation",className:ut.A.playlist,"data-testid":"playlist-page","data-test-uri":a,...it,children:[(0,p.jsx)(Qi.x,{metadata:e.metadata,isPlaying:_e,isPublished:F,totalItems:Ye,togglePlay:De,backgroundColor:we,spec:J,className:tt}),(0,p.jsxs)("div",{className:ut.A.playlistContent,children:[(0,p.jsx)(Wi,{playlist:e,capabilities:t,spec:Z,isPlaying:_e,isActive:Me,togglePlay:De,isBooklist:re,backgroundColor:we,tracklistDomRef:Ne,isConcert:te,sortableColumns:Je,className:tt,watchFeedEntityEntryPoint:e.metadata.watchFeedEntityEntryPoint}),(0,p.jsxs)("div",{className:tt,children:[(0,p.jsx)(i.Suspense,{fallback:null,children:(0,p.jsx)(Gs,{formatListData:e.metadata.formatListData})}),!Ae&&Re?.upcomingEventsCount?(0,p.jsx)(Qs,{artistConcertsUri:Re.uri||"",artistImageUrl:Re.imageUrl||"",artistName:Re.title||"",spec:H}):null,Ae&&!!Re&&ke&&ke.length>0&&(0,p.jsx)(i.Suspense,{fallback:null,children:(0,p.jsx)(Js,{liveEvents:ke,artistConcertsUri:Re.uri||"",artistName:Re.title||"",spec:H})}),(0,p.jsxs)("div",{className:"contentSpacing",children:[he?(0,p.jsx)(x,{playlistUri:a}):null,he&&ge?(0,p.jsx)(Xs,{uri:a,playlistName:m}):null,e.metadata.hasSpotifyAudiobooks&&Te&&(0,p.jsxs)("div",{className:ut.A.noBooklistSupportContainer,children:[(0,p.jsx)(n.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:d.Ru.get("web-player.playlist.booklist-not-supported-title")}),(0,p.jsx)(n.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:d.Ru.get("web-player.playlist.booklist-not-supported.message")})]}),h>0&&(0,p.jsx)(i.Suspense,{fallback:null,children:Ze?(0,p.jsx)(Na,{initialItems:z,contextUri:a,nrItems:h,canEdit:ce,canRemove:_,ariaLabel:m}):(0,p.jsx)(W,{spec:X,children:(0,p.jsx)(I.a,{columns:Qe,children:ee?(0,p.jsx)(Ja,{ariaLabel:m,nrTracks:h,playlistUri:a,scrollToUid:ve,usePlayContextItem:Be,tracklistDomRef:Ne,sortableColumns:Je,isCompactMode:Q},a):(0,p.jsx)(as,{ariaLabel:m,nrTracks:h,playlistUri:a,playlistName:m,isMixedMedia:se,isLive:ae,isConcert:te,isBlend:ie,isBooklist:re,canEdit:ce,scrollToUid:ve,feedbackPath:le["dislike-endpoint"],deleteFeedbackPath:le["delete-endpoint"],usePlayContextItem:Be,tracklistRef:Pe,tracklistDomRef:Ne,canRemove:_,spec:X,initialItems:z,isCompactMode:Q,sortableColumns:Je,hasSpotifyAudiobooks:V??!1},a)})})}),He&&(0,p.jsx)(i.Suspense,{fallback:null,children:de?(0,p.jsx)(ya,{playlistUri:a,hideInlineCuration:me,isBooklist:re}):(0,p.jsx)("button",{className:ut.A.seeMore,onClick:ue,children:(0,p.jsx)(n.E,{as:"div",variant:"bodySmallBold",children:d.Ru.get("playlist.curation.find_more")})})}),$e?(0,p.jsx)("div",{"data-testid":"recommended-track",children:(0,p.jsx)(fs,{playlistUri:a,playlistLength:e.metadata.unfilteredTotalLength,canEdit:ce})}):null,ze?(0,p.jsx)(gs,{uri:a,canEdit:ce}):null,Ke&&(0,p.jsx)(ci,{uri:a})]})]})]}),te&&(0,p.jsx)(Gi,{spec:H.footerSectionFactory()})]})]})})),tr=i.memo((function({uri:e}){const t=(0,Ta.m)().getCapabilities(),{filter:a}=(0,i.useContext)(k.g),{sortState:s}=(0,i.useContext)(v.cL),{metadataOptions:r,contentsOptions:n}=(0,va.$)(s,a),{data:l,isLoading:o,isError:c}=(0,Ws.W)(e,r,n);return(e=>{const t=(0,is.j)(),a=(0,Ta.m)(),s=(0,i.useRef)(!1);(0,i.useEffect)((()=>{t&&s.current&&a.resync(e,{maybe:!0}),t||(s.current=!0)}),[t,a,e])})(e),!l||o?(0,p.jsx)(R.LoadingPage,{hasError:c,errorMessage:d.Ru.get("error.not_found.title.playlist"),loadOffline:t.canModifyOffline}):l.metadata.permissions&&!l.metadata.permissions.canView?(0,p.jsx)(j.Z,{uri:e}):(0,p.jsx)(er,{playlist:l,capabilities:t})})),ar=()=>{const{playlistId:e}=(0,r.g)(),t=(0,c.Pse)((e||"").split("&")[0]).toURI();return(0,p.jsx)(Hs.P,{surface:zs.u.PLAYLIST,uris:[t],children:(0,p.jsx)(v.sn,{uri:t,children:(0,p.jsx)(k.s,{uri:t,children:(0,p.jsx)(S.S,{children:(0,p.jsx)(Ls,{children:(0,p.jsx)(tr,{uri:t})})})})})})}},55361:(e,t,a)=>{a.d(t,{H:()=>b});var i=a(30758),s=a(44397),r=a(3118),n=a(56266),l=a(84594),o=a(92197),c=a(78172),d=a(52596);var u=a(21956),m=a(90630),p=a(84971),y=a(80761);const h="K06ol8ltPT_atXE_JjUP",g="GDMQCw6b3Yz93pmFo5lr";var x=a(86070);const b=({entryPoint:e,watchFeedTitle:t,type:a})=>{const b=(0,r.NC)(m.ggJ,{loadingValue:!1}),{open:f}=(0,u.P)(),T=(0,i.useCallback)((()=>{f(e.feedUri,"entity",void 0,t)}),[e.feedUri,f,t]);if(!b)return null;const A=e.thumbnail?.url,j=(e=>{switch(e){case c.c.ALBUM:return(0,l.v)("Scroll through previews of tracks from this album.");case c.c.PLAYLIST:case c.c.PLAYLISTV2:return(0,l.v)("Scroll through previews of tracks from this playlist.");case c.c.ARTIST:return(0,l.v)("Scroll through previews of tracks from this artist.");case c.c.SHOW:return(0,l.v)("Scroll through previews of episodes from this podcast.");case c.c.EPISODE:return(0,l.v)("Scroll through previews of episodes from this podcast  .");default:return(0,d.k)(e),""}})(a),R=(0,l.v)(`Explore ${t}`);return(0,x.jsx)(o.Zp,{label:j,children:(0,x.jsxs)("button",{className:h,onClick:T,"aria-label":R,children:[(0,x.jsx)(i.Suspense,{fallback:null,children:(0,x.jsx)(y.o,{loop:!1,autoplay:!0,path:(0,n.b)("animations/watch-feed-entry-point-border.json")})}),(0,x.jsx)("div",{className:g,children:(0,x.jsx)(p._,{loading:"eager",src:A,width:30,height:40,children:(0,x.jsx)(s.B,{size:"xsmall"})})})]})})}},39695:(e,t,a)=>{a.d(t,{K:()=>o});var i=a(30758),s=a(62411),r=a(11260),n=a(95059),l=a(12524);const o=e=>{const t=(0,s.wA)(),a=(0,n.c)(),o=(0,s.d4)(l.uY);(0,i.useEffect)((()=>{a&&e!==o&&t((0,r.SC)(e))}),[e,o,t,a])}},46726:(e,t,a)=>{a.d(t,{H:()=>l});var i=a(30758),s=a(668),r=a(7180),n=a(63317);function l(e=null,t=s.l0o){const{backgroundColor:a}=(0,r.oI)(),l=(0,r.as)(),o=(0,n.z)(e);return(0,i.useEffect)((()=>(l((0,r.Mo)(o)),()=>{l((0,r.Hf)())})),[o,l]),a||t}},12524:(e,t,a)=>{a.d(t,{LO:()=>o,QT:()=>l,nc:()=>c,uY:()=>n});var i=a(42551),s=a(78172);const r=e=>e.seoExperiment,n=(0,i.Mz)(r,(e=>e?.uri)),l=(0,i.Mz)(r,(e=>e?.[s.c.ARTIST])),o=(0,i.Mz)(r,(e=>e?.[s.c.PLAYLIST])),c=(0,i.Mz)(r,(e=>e?.[s.c.PLAYLISTV2]))},80761:(e,t,a)=>{a.d(t,{o:()=>i.o});var i=a(4692)},13946:(e,t,a)=>{a.d(t,{P:()=>i.P});var i=a(6704)},46777:(e,t,a)=>{a.d(t,{X:()=>s});var i=a(45176);function s(e){return[i.kw.YES,i.kw.DOWNLOADING,i.kw.WAITING].includes(e)}},17807:(e,t,a)=>{a.d(t,{L$:()=>o,Q2:()=>c,hV:()=>l,j2:()=>n,pr:()=>u,qc:()=>r,rO:()=>d});var i=a(88176),s=a(2036);const r=({albumArtists:e,albumName:t,albumType:a,shouldLocalize:r,i18n:n})=>{if(!a||!t||!e)return"";const l=a!==i._m.Ep?(e=>e.charAt(0).toUpperCase()+e.toLowerCase().slice(1))(a):a,o=(0,s.C)(a),c=`${t} - ${l} by ${e} | Spotify`,d=n.get("i18n.meta.album.title",t,o,e);return r?d:c},n=({i18n:e,shouldLocalize:t,artistTitleTagExperimentVariants:a={artistTitleTagSongsVariantEnabled:!1,artistTitleTagSongsAndMoreVariantEnabled:!1,artistTitleTagSongsAndMusicVariantEnabled:!1},artistName:i})=>{if(!i)return"";const{artistTitleTagSongsVariantEnabled:s,artistTitleTagSongsAndMoreVariantEnabled:r,artistTitleTagSongsAndMusicVariantEnabled:n}=a;if(t){if(s)return e.get("i18n.meta.artist.title.artist-songs",i);if(n)return e.get("i18n.meta.artist.title.artist-songs-and-music",i);if(r)return e.get("i18n.meta.artist.title.artist-songs-and-more",i)}return`${i} | Spotify`},l=({showOrAudiobookName:e,type:t})=>e?`${e} | ${t} on Spotify`:"",o=({episodeOrChapterName:e,showOrAudiobookName:t,type:a})=>e&&t?`${e} - ${t} | ${a} on Spotify`:"",c=({playlistName:e,userName:t,isSpotifyOwned:a=!1,spotifyPlaylistTitleTagVariants:i={spotifyPlaylistTitleTagVariant1Enabled:!1,spotifyPlaylistTitleTagVariant2Enabled:!1,spotifyPlaylistTitleTagVariant3Enabled:!1},userPlaylistTitleTagVariants:s={userPlaylistTitleTagVariant1Enabled:!1,userPlaylistTitleTagVariant2Enabled:!1,userPlaylistTitleTagVariant3Enabled:!1},count:r})=>{if(!e||!t)return"";const{spotifyPlaylistTitleTagVariant1Enabled:n,spotifyPlaylistTitleTagVariant2Enabled:l,spotifyPlaylistTitleTagVariant3Enabled:o}=i,{userPlaylistTitleTagVariant1Enabled:c,userPlaylistTitleTagVariant2Enabled:d,userPlaylistTitleTagVariant3Enabled:u}=s;if(r){const i=r>1?"Songs":"Song",s=r>1?"songs":"song";if(a){if(n)return`${e} - ${r} ${i} | Spotify Playlist`;if(l)return`${e} - Top ${r} ${i} | Spotify Playlist`;if(o)return`${e} - ${r} ${i} - playlist by Spotify`}if(c)return`${e} - playlist by ${t} - ${r} ${s} | Spotify`;if(d)return`${e} - ${r} ${s} - playlist by ${t} | Spotify`;if(u)return`${e} - ${r} ${s} | Spotify`}return`${e}${a?"":` - playlist by ${t}`} | ${a?"Spotify Playlist":"Spotify"}`},d=({i18n:e,trackArtistsList:t,trackName:a,shouldLocalize:i,disabled:s=!1})=>{if(!t||!a)return"";let r=`${a} - song and lyrics by ${t} | Spotify`,n=e.get("i18n.meta.track-lyrics.title",a,t);return s&&(r=`${a} - song by ${t} | Spotify`,n=e.get("i18n.meta.track.title",a,t)),i?n:r},u=({i18n:e,shouldLocalize:t})=>{const a=e.get("i18n.meta.home.title");return t?a:"Spotify - Web Player: Music for everyone"}},41801:(e,t,a)=>{a.d(t,{F$:()=>r,lM:()=>l,sH:()=>n});var i=a(17108);const s=({treatment:e,entityId:t,experimentId:a,treatmentVariation:i})=>{if(e&&e[t]){const s=e[t].find((e=>e.experimentId===a));return s?.treatment===i}return!1},r=(e,t,a)=>s({treatment:e,entityId:t,experimentId:i.R7.ARTIST_TITLE_TAG_TEST,treatmentVariation:a}),n=(e,t,a)=>s({treatment:e,entityId:t,experimentId:i.R7.SPOTIFY_PLAYLIST_TITLE_TAG_TEST,treatmentVariation:a}),l=(e,t,a)=>s({treatment:e,entityId:t,experimentId:i.R7.USER_PLAYLIST_TITLE_TAG_TEST,treatmentVariation:a})},17108:(e,t,a)=>{a.d(t,{R7:()=>i,T:()=>s,mm:()=>r});let i=function(e){return e.TEST="test",e.ARTIST_TITLE_TAG_TEST="artist_title_tag",e.SPOTIFY_PLAYLIST_TITLE_TAG_TEST="playlist_title_tag_spotify",e.USER_PLAYLIST_TITLE_TAG_TEST="playlist_title_tag_user",e}({}),s=function(e){return e.CONTROL="0",e.VARIANT_1="1",e.VARIANT_2="2",e.VARIANT_3="3",e}({}),r=function(e){return e.CONTROL="0",e.SONGS="1",e.SONGS_AND_MUSIC="2",e.SONGS_AND_MORE="3",e}({})},41774:(e,t,a)=>{a.d(t,{A:()=>i});const i={entityRow:"ci11tAmTK1LnxThQkXPy",actions:"_2sJPwAAp1wY1Ftke6iFe",visibleAction:"yuNzasMLs7hvemHI4d8Q",active:"dNymWGRudMrTI6ot9FBg",title:"luWcW9hkbLdFxRQB0yGb",body:"abYR6tZoE7BdzThmWTb0",footer:"GOcKQxqNMhGzbGiAXBig",separator:"yFQjuDAhri_egM1pwn70",badges:"tykXaR_9v2wPQNrdPkK6"}},12988:(e,t,a)=>{a.d(t,{A:()=>i});const i={cards:"TGW6mpr34dHAhhFh0pfw",tourCard:"pQmF4tvRpUeLWgPKUcW7",cardImage:"mGY3ER0iIvb1NbJ1d7X4",cardContent:"JHz_5gqDYpq9Lw3pIac_",subtitle:"oTFzEDWGQSLME1nHjJrt",title:"HPCUzqQRn7oae4vJa3y9",venue:"YxZlxyNx0MHxSVO51TVQ",cardLink:"_B5m05rOGq0BKdTa7al5",cardButton:"StPcf0AvSM0c18nwF4hJ",eventCard:"KhaSITGJnz5MH4qDsYkK",interestedIcon:"ERx0RCdRdFFmYdmZR1P5",concertsCarousel:"nX5e9EyU1GmU42OFVHwH",carouselContent:"MIgjuGue6dRaJWwfUX0K",allEventsCard:"C5dyMaEg91RyIp9YajnW",concertsCarouselControls:"himyaJTaj2PpeC7nuAH5",carouselControlPrev:"KfXbOs2l5lLjtz9R4DiW",carouselControlNext:"yy5akXrxTifXTssHWubJ"}}}]);
//# sourceMappingURL=xpui-routes-playlist.js.map