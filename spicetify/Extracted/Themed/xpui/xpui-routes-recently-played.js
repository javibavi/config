"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[5663],{47200:(e,t,i)=>{i.d(t,{R:()=>k});var a=i(30758),n=i(97500),l=i.n(n),r=i(51676),s=i(79711),o=i(39439),c=i(19549),d=i(13867),u=i(42262),h=i(39876);const p="C3jVNGQUUZcUp5kTEOC0",m="pdLDCowVOiUIfeu9hihi",g="Sm3POgzbjs7wFj7tyYNh",x="vZSm_8xsDxBqMzp1tqmn",w="NXBXbVfJboNI6xdrNIDB",C="bF2GZTmgrRQLsrDcIZXd",S="qI009QzTkvisAXqhbw74",f="qIb0IOmZs9KwEeOkpvg1";var I=i(86070);const b=(0,a.memo)((({title:e,titleUri:t,titleMediaCircle:i,subtitle:n,pretitle:c,titleMedia:u,trailing:h,collapsable:b,children:k,className:y="",testId:E="component",id:v,seeAllUri:A,seeAllLabel:T,alwaysShowSeeAll:N=!1,showSeeAll:R=!0,onClickShelfTitle:j,onClickShelfSeeAll:O,elementRef:P,renderSubHeader:D,withEncoreCards:_=!0})=>{const B=(0,a.useRef)(null),U=!!R&&(N||R),L=b?{"data-shelf-collapsable":!0}:{},[M,z]=(0,a.useState)(!0),H=(0,d.W)();(0,a.useLayoutEffect)((()=>{if(B.current){const e=(0,s.X)(B.current,H);e?B.current.removeAttribute("data-shelf-notatedge"):B.current.setAttribute("data-shelf-notatedge","true"),z(e)}}),[P,H]);const V=M?"0px var(--margin, 0px)":"0px";return(0,I.jsxs)("section",{ref:e=>{B.current=e,"function"==typeof P&&P(e)},className:l()(y,p,{[g]:_}),"data-shelf":"carousel","data-testid":`${E}-shelf`,"aria-label":e??"",...L,children:[e&&(0,I.jsx)("div",{className:x,children:(0,I.jsx)(o.k,{seeAllUri:A,seeAllLabel:T,pageId:v,showSeeAll:U,onClickTitle:j,onClickSeeAll:O,title:e,titleUri:t,subtitle:n,pretitle:c,titleMedia:u,trailing:h,titleMediaCircle:i})}),D&&(0,I.jsx)("div",{className:w,children:D()}),(0,I.jsx)(r.FN,{className:m,chevronsClassName:f,scrollContentClassName:S,scrollerClassName:C,scrollingMethod:r.Hv.SNAP,scrollPadding:V,scrollSnapAlign:"start",wheelScrollEnabled:!1,showButtons:r.C_.ON_HOVER,dragToScroll:!1,edgeGradients:r.TB.LINEAR_GRADIENT,scrollSnapByItems:3,children:k})]})})),k=({index:e,logShelfImpressions:t=!1,...i})=>{const{seeAllUri:a,id:n}=i,{onClickShelfTitle:l,onClickShelfSeeAll:r,spec:s}=(0,c.w)({seeAllUri:a,index:e,id:n}),o=(0,h.t)(s,t);return(0,I.jsx)(u.r,{spec:s,children:(0,I.jsx)(b,{...i,elementRef:o,onClickShelfTitle:l,onClickShelfSeeAll:r})})}},35393:(e,t,i)=>{i.d(t,{p:()=>d});var a=i(2169),n=i(19549),l=i(15936),r=i(81994),s=i(42262),o=i(39876),c=i(86070);const d=({index:e,logShelfImpressions:t=!1,...i})=>{const{id:d,seeAllUri:u}=i,{onClickShelfTitle:h,onClickShelfSeeAll:p,spec:m}=(0,n.w)({seeAllUri:u,index:e,id:d}),g=(0,o.t)(m),x=(0,l.a)(u),w=(0,r.O)(u);return(0,c.jsx)(s.r,{spec:m,children:(0,c.jsx)(a.$,{...i,elementRef:t?g:void 0,onClickShelfTitle:()=>{h(),x({category:l.w.TitleClicks}),w({category:r.U.TitleClicks})},onClickShelfSeeAll:()=>{p(),x({category:l.w.ShowAll}),w({category:r.U.ShowAll})}})})}},19549:(e,t,i)=>{i.d(t,{w:()=>r});var a=i(30758),n=i(62187),l=i(82362);const r=({seeAllUri:e,index:t,id:i})=>{const{spec:r,logger:s}=(0,l.r)(n.f,{data:{identifier:i,position:t,uri:e??""}}),o=(0,a.useCallback)((()=>{const e=r.swipeUiReveal();s.logInteraction(e)}),[s,r]),c=(0,a.useCallback)((e=>{const t=r.shelfHeaderFactory().shelfCarouselControlsFactory(),i="next"===e?t.shelfCarouselControlsNextFactory():t.shelfCarouselControlsPreviousFactory();s.logInteraction(i.hitUiReveal())}),[s,r]);return{onClickShelfTitle:(0,a.useCallback)((()=>{const t=r.shelfHeaderFactory().shelfHeaderTitleFactory().hitUiNavigate({destination:e??""});s.logInteraction(t)}),[s,e,r]),onClickShelfSeeAll:(0,a.useCallback)((()=>{const t=r.shelfHeaderFactory().shelfHeaderSeeAllFactory().hitUiNavigate({destination:e??""});s.logInteraction(t)}),[s,e,r]),onSwipe:o,onClickCarouselControls:c,spec:r}}},32883:(e,t,i)=>{i.d(t,{y:()=>d});var a=i(30758),n=i(12367),l=i(96691),r=i(5119),s=i(64212),o=i(89232),c=i(86070);const d=({children:e,uri:t,name:i,onClick:d,index:u})=>{const{draggable:h,onDragStart:p}=(0,s.P)({itemUris:[t],dragLabelText:i}),m=(0,a.useCallback)((()=>{d?.(t,u)}),[d,t,u]);return(0,o.s)({uri:t})?(0,c.jsx)(n.h,{menu:(0,c.jsx)(l.t,{uri:t}),children:(0,c.jsx)(r.N,{draggable:h,to:t,onDragStart:p,dir:"auto",onClick:m,children:e})}):(0,c.jsx)(c.Fragment,{children:e})}},79711:(e,t,i)=>{i.d(t,{X:()=>a});const a=(e,t)=>{const i=e.parentElement.getBoundingClientRect(),a=e.getBoundingClientRect(),n=t?i.right:i.left,l=t?a.right:a.left;return!(e instanceof HTMLElement&&Math.abs(l-n)>48)}},48503:(e,t,i)=>{i.r(t),i.d(t,{RecentlyPlayedHomeCarouselShelf:()=>D,RecentlyPlayedHomeGridShelf:()=>P,default:()=>_});var a=i(30758),n=i(97500),l=i.n(n),r=i(75635),s=i(3118),o=i(93492),c=i(54916),d=i(60308),u=i(26525),h=i(92907),p=i(74918),m=i(84736),g=i(2196),x=i(47200),w=i(35393),C=i(67047),S=i(33350),f=i(1526),I=i(90630),b=i(1112),k=i(58452),y=i(19665),E=i(27775),v=i(20196);function A(e=!0){const t=(0,v.j)(),[i,n]=(0,a.useState)((()=>t.getContexts()));return(0,a.useEffect)((()=>{if(!e)return;return t.getEvents().addListener(E.m5.UPDATE,(({data:e})=>{n(e)}))}),[t,e]),i}var T=i(52596);const N="wu4hGzXkWRNdY0UX1MJa";var R=i(86070);function j(e){const t=new Set;return e.filter((e=>{if(e.type===E.d2.LIKED_SONGS){if(t.has(e.type))return!1;t.add(e.type)}return!0}))}const O=(e,t,i,a=!1)=>{const n=e.uri;switch(e.type){case E.d2.LIKED_SONGS:return(0,R.jsx)(C.o,{index:t,variant:i},n);case E.d2.YOUR_EPISODES:return(0,R.jsx)(f.e,{index:t,variant:i},n);case E.d2.ALBUM:return(0,R.jsx)(c.a,{index:t,name:e.name,uri:e.uri,images:e.images,artists:e.artists,sharingInfo:null,variant:i,logCardImpressions:a},n);case E.d2.ARTIST:return(0,R.jsx)(d.a,{index:t,name:e.name,uri:e.uri,images:e.images,variant:i,logCardImpressions:a},n);case E.d2.PLAYLIST:return(0,R.jsx)(p.B,{index:t,name:e.name,uri:e.uri,images:e.images,description:e.description,authorName:e.owner.displayName,authorUri:e.owner.uri,isPlayable:!(0,y.p)(e.attributes),variant:i,logCardImpressions:a,leaveTitleVisible:!0},n);case E.d2.SHOW:return(0,R.jsx)(m.o,{index:t,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,sharingInfo:null,variant:i,logCardImpressions:a},n);case E.d2.AUDIOBOOK:return(0,R.jsx)(u.M,{index:t,name:e.name,uri:e.uri,images:e.images,authorName:e.authors?.[0]??"",signifierText:e.signifierText,variant:i,logCardImpressions:a,consumptionCapExplanation:e.consumptionCapExplanation,isPlayable:e.isPlayable},n);case E.d2.TRACK:return(0,R.jsx)(g.w,{index:t,name:e.name,uri:e.uri,images:e.images,is19PlusOnly:e.isMOGEFRestricted,artists:e.artists,album:null,isExplicit:e.isExplicit,sharingInfo:null,variant:i,logCardImpressions:a},n);default:return(0,T.k)(e),null}},P=({title:e,index:t,id:i})=>{const n=A(!0),l=(0,s.NC)(I.BCG),r=(0,s.NC)(I.WAq),o=(0,a.useMemo)((()=>{if(!n)return[];return j(n).map(((e,t)=>O(e,t,r?h._.Compact:h._.Default,l)))}),[n,r,l]);return 0===o.length?null:(0,R.jsx)(b.x,{config:(0,k.s1)(r?k.yV.HOME_HIGH_DENSITY:k.yV.HOME_REGULAR_DENSITY),children:(0,R.jsx)(w.p,{id:i,index:t,total:o.length,seeAllUri:`/genre/${S.r}`,title:e,children:o})})},D=({title:e,className:t,index:i,id:n})=>{const l=A(!0),r=(0,s.NC)(I.BCG),o=(0,a.useMemo)((()=>{if(!l)return[];return j(l).map(((e,t)=>O(e,t,h._.Compact,r)))}),[l,r]);return 0===o.length?null:(0,R.jsx)(x.R,{index:i,id:n,title:e,seeAllUri:`/genre/${S.r}`,className:t,children:o})},_=()=>{const e=A(!0);if(!e)return[];const t=j(e);return null===e?null:(0,R.jsx)("section",{className:l()("contentSpacing",N),children:(0,R.jsx)(w.p,{id:"recently-played",title:o.Ru.get("view.recently-played"),showAll:!0,index:0,rowGap:r.lT,fullPage:!0,children:t.map(((e,t)=>O(e,t,h._.Default)))})})}},89232:(e,t,i)=>{i.d(t,{s:()=>a});const a=e=>"spotify:artist:0LyfQWJT6nXafLPZqxe9Of"!==e.uri},20196:(e,t,i)=>{i.d(t,{j:()=>l});var a=i(27775),n=i(18308);function l(){return(0,n.N)(a.X6)}},89979:(e,t,i)=>{i.d(t,{b:()=>l});var a=i(88176),n=i(45176);const l=({downloadAvailability:e,isExplicit:t,isMOGEFRestricted:i,contentRating:l,isPaywalled:r,isEnhanced:s,hasAssociatedVideo:o})=>{let c=0;const d={download:!1,explicit:!1,nineteen:!1,paid:!1,enhanced:!1,hasAssociatedVideo:!1};return e===n.kw.YES&&(d.download=!0,c++),(t&&!i||l===a.x7.Explicit)&&(d.explicit=!0,c++),(i||l===a.x7.NineteenPlus)&&(d.nineteen=!0,c++),r&&(d.paid=!0,c++),s&&(d.enhanced=!0,c++),o&&(d.hasAssociatedVideo=!0,c++),{badges:d,hasBadges:c>0}}},22810:(e,t,i)=>{i.d(t,{A:()=>a});const a={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",TRACKLIST_HEADER_HEIGHT:"36px",MINMIMUM_COLUMN_WIDTH:"120px",trackList:"main-trackList-trackList",trackListCompactMode:"main-trackList-trackListCompactMode",indexable:"main-trackList-indexable",trackListRowGrid:"main-trackList-trackListRowGrid",rowSectionVariable:"main-trackList-rowSectionVariable",rowSectionStart:"main-trackList-rowSectionStart",rowSectionEnd:"main-trackList-rowSectionEnd",rowFeedback:"ShIWVpkzx2OXiZd_ZLBG",queuePanelTracklist:"nMl3YzolLHtRl3ke__NI",isRecommendedTrackListRow:"main-trackList-isRecommendedTrackListRow",chartTrackList:"UqzBuREVmvcEOZYWEGCM",rowChartStatus:"main-trackList-icon",concertTrackList:"inI9bKU9cOLscnVsSVEV",trackListHeader:"main-trackList-trackListHeader",trackListHeaderRow:"main-trackList-trackListHeaderRow",trackListHeaderStuck:"main-trackList-trackListHeaderStuck",headerRowWrapper:"zN5uJXoHaPYcyQUL0fHb",columnToggleButton:"DxgEznYnAMopcCeLv9Tz",trackListRow:"main-trackList-trackListRow",isPreviousRowSelected:"QG4EBrO5IfDeT2JjN9ZQ",isNextRowSelected:"Y5tI0kOsmxcdcipn3RVA",dropTargetBefore:"B8Vman5wYvaxDg4pc1OU",dropTargetAfter:"PQJowUUOfMLl0BzbnRCi",rowHeartButton:"main-trackList-rowHeartButton",curationButton:"main-trackList-curationButton",rowFeedbackButton:"h2UiWIoFN5fXUDD8pzfk",rowMoreButton:"main-trackList-rowMoreButton",disabled:"tH1iuxCV8NexP4pzEBa4",rowPlayPauseButton:"main-trackList-rowImagePlayButton",rowSubTitle:"UudGCx16EmBkuFPllvss",text:"W676nknusnBt8sz19YVV",number:"main-trackList-number",icon:"JqSFL4jZMK1MYKDI8G4R",playingIcon:"main-trackList-playingIcon",selected:"main-trackList-selected",rowMarker:"main-trackList-rowMarker",active:"main-trackList-active",rowTitle:"main-trackList-rowTitle",rowSectionIndex:"main-trackList-rowSectionIndex",showDisabledAsEnabled:"uOmRewhkzJocvvWeWWcF",playsHeader:"main-trackList-playsHeader",column:"main-trackList-column",sortable:"main-trackList-sortable",arrow:"OQc9_giz7hbNqHLZODIx",durationHeader:"main-trackList-durationHeader",actionsHeader:"SLiV_gdSoRxpqv9dgYbw",rowMainContent:"main-trackList-rowMainContent",rowCompactMode:"main-trackList-rowCompactMode",rowMainContentCompact:"main-trackList-rowMainContentCompact",facepile:"t4hXvJdn4nsT3Ub3k5IX",rowBadges:"main-trackList-rowBadges",rowDuration:"main-trackList-rowDuration",nineteen:"Ivj0vCd2s5rj3jsFoYHO",enhanced:"_jJo_XO5bEM6orhffUTw",rowMarkerChartStatus:"main-trackList-rowMarkerChartStatus",statusChangeDown:"main-trackList-statusChangeDown",statusChangeUp:"main-trackList-statusChangeUp",statusChangeNew:"V5ugN_Skngj14FpjqF41",rowImageWithPlay:"main-trackList-rowImageWithPlay",rowImagePlayPauseButton:"main-trackList-rowImagePlayPauseButton",rowPlayCount:"main-trackList-rowPlayCount",ownedBySelf:"main-trackList-ownedBySelf",rowImage:"main-trackList-rowImage",rowImageVideo:"DpagSkj9rm01H_aKy_Dw",rowImageFallback:"main-trackList-rowImageFallback",rowPlayPauseIcon:"main-trackList-rowPlayPauseIcon",placeholder:"T7WHRub8pynnWPXERh8e",placeholderIndex:"teK8wl2D50LT1eQXuxn_",placeholderStart:"jIkZ2Rh9EgRcaDgFo59w",placeholderStartWithCoverImage:"eClbBuaiGMZaigA4bp4e",placeholderEnd:"mfcu2ThWztZhPLI4BmQ7",placeholderVariable:"zhE9ZlvEhcGV1bDmBswy",discTitle:"EWbk59j3MnuB295CqiFg",discRow:"KAmWjX7nGmYCEtoR0EU2",addedBy:"HNrWEnhz87x0iBSI5PCH",facepileAvatar:"CaDisXZP6FboPwLkSkZ4",delayedVisibility:"knVQBhgo7WtejzqNn9SX",eventDate:"FI1uq8ux_Y_ZTzjibtKP",eventVenue:"nmaSdzB7DjwyT2i5C5Ec",eventTicketIcon:"zs8AulJGrH8lvWJ2qUrg",talkIcon:"z412ZWZNa5d7T1QcdK7m",talkSegmentDuration:"_tkrsP9r4Fxm3pP9GaZq",notificationDot:"main-trackList-statusChangeNew",resizeHandle:"I7SbihsVaE4CAUqLMa45",columnResizing:"x15L1JFSJDsSz7tzE69K"}}}]);
//# sourceMappingURL=xpui-routes-recently-played.js.map