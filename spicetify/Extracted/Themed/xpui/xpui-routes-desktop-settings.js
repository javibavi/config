"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2391],{96675:(e,t,s)=>{s.d(t,{C:()=>c});var i=s(97500),n=s.n(i),r=s(62325);const l="main-dropDown-dropDown",a="main-dropDown-isSafari";var o=s(86070);const c=({value:e,id:t,children:s,disabled:i,onSelect:c,className:d,dir:u})=>(0,o.jsx)("span",{className:d,children:(0,o.jsx)("select",{className:n()(l,{[a]:(0,r.n)()}),value:e?.toString(),id:t,disabled:i,onBlur:()=>{},onChange:e=>{c(e.target.value)},dir:u,children:s})})},71587:(e,t,s)=>{s.d(t,{l:()=>u});var i=s(97500),n=s.n(i);const r="x-toggle-wrapper",l="x-toggle-indicator",a="JCFCfOY_6UEZZSOO2xrl",o="x-toggle-indicatorWrapper",c="x-toggle-input";var d=s(86070);const u=({value:e,disabled:t,onSelected:s,id:i,className:u,condensed:h=!1,inputRef:g})=>(0,d.jsxs)("label",{className:n()(r,u),children:[(0,d.jsx)("input",{id:i,className:c,type:"checkbox",disabled:t,checked:e,onChange:e=>{const t=e.target.checked;s(t)},ref:g}),(0,d.jsx)("span",{className:n()(o,{[a]:h}),children:(0,d.jsx)("span",{className:n()(l,{[a]:h})})})]})},5943:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Fi});var i=s(30758),n=s(3118),r=s(21974),l=s(81751),a=s(93492),o=s(13505),c=s(18157),d=s(464),u=s(86070);function h({htmlString:e,children:t,htmlFor:s,semanticColor:n="textSubdued",variant:r="bodySmall",className:l,...a}){const{filter:h}=(0,i.useContext)(d.g);if(!t&&!e)return null;let g=t;return e&&(g=(0,u.jsx)("span",{dangerouslySetInnerHTML:{__html:e}})),(0,u.jsx)(o.E,{as:"label",variant:r,semanticColor:n,htmlFor:s,className:l,"data-testid":a["data-testid"],children:h.length>0?(0,u.jsx)(c.M,{searchWords:[h],textToHighlight:t||e||""}):g})}var g=s(13112);const x=(e,t)=>"string"==typeof e&&"string"==typeof t?!(e.length>0)||null!==(0,g.u)(e,t):"boolean"!=typeof e||e,p=(0,i.createContext)(void 0),m=({children:e})=>{const[t,s]=(0,i.useState)(!1),[n,r]=(0,i.useState)(new Set),l=(0,i.useCallback)(((e,t)=>{r((s=>{if(s.has(e)===t)return s;const i=new Set(s);return t?i.add(e):i.delete(e),i}))}),[]),a=n.size>0,o=(0,i.useMemo)((()=>({sectionMatch:t,setSectionMatch:s,sectionContainsMatch:a,setSectionFilterMatchQueryValue:l})),[a,t,l]);return(0,u.jsx)(p.Provider,{value:o,children:e})},j=()=>{const e=(0,i.useContext)(p);if(void 0===e)throw new Error("useSectionMatchState() must be used within a SectionFilterMatchContextProvider");return e},f="x-settings-row",y=({children:e,filterMatchQuery:t})=>{const{filter:s}=(0,i.useContext)(d.g),{setSectionFilterMatchQueryValue:n,sectionMatch:r}=j(),l=x(s,t);return(0,i.useEffect)((()=>{n(t,l)}),[l,t,n]),r||l?(0,u.jsx)("div",{className:f,children:e}):null},v="x-settings-secondColumn",k=({children:e})=>(0,u.jsx)("div",{className:v,children:e});var w=s(97500),b=s.n(w);const R="x-settings-firstColumn",S=({className:e,children:t})=>(0,u.jsx)("div",{className:b()(R,e),children:t}),C="x-settings-section",M="afyQ2L5zTtlSDtn9WPjd";function F({children:e,filterMatchQuery:t}){const{filter:s}=(0,i.useContext)(d.g),{setSectionMatch:n,sectionContainsMatch:r}=j(),l=x(s,t);(0,i.useEffect)((()=>{n(l)}),[l,n]);const a=!l&&!r;return(0,u.jsx)("div",{className:b()(C,{[M]:a}),children:e})}function N(e){return(0,u.jsx)(m,{children:(0,u.jsx)(F,{...e})})}function A({children:e,className:t,semanticColor:s="textBase"}){const{filter:n}=(0,i.useContext)(d.g);return(0,u.jsx)(o.E,{as:"h2",variant:"bodyMediumBold",semanticColor:s,className:t,children:(0,u.jsx)(c.M,{searchWords:[n],textToHighlight:e})})}var _=s(94910),Q=s(42626);const E="ycD5EZ3ZQ05CuUV5ZMGN",z=()=>{const{openURLWithSessionTransfer:e}=(0,Q.L)();return(0,u.jsxs)(N,{filterMatchQuery:a.Ru.get("web-player.settings.account"),children:[(0,u.jsx)(A,{children:a.Ru.get("web-player.settings.account")}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("web-player.settings.edit-login-methods"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"web-player.settings.edit-login-methods-button",children:a.Ru.get("web-player.settings.edit-login-methods")})}),(0,u.jsx)(k,{children:(0,u.jsx)(r.n,{id:"web-player.settings.edit-login-methods-button",size:"small",className:E,onClick:()=>{e(_.Oo)},iconTrailing:l.H,children:a.Ru.get("web-player.settings.edit-login-methods-button")})})]})]})};var O=s(62411),I=s(85387),T=s(71587),L=s(50107);const D="xpVsqMQfmc20cBLG04zw",P=({dsaModeEnabled:e,setDsaModeEnabled:t})=>{const s=(0,O.wA)(),n=(0,I.zy)(),r=new URLSearchParams(n.search).get("highlight"),l=(0,i.useRef)(null);return(0,i.useEffect)((()=>{r?.includes("dsa")&&l.current&&(l.current.focus(),document.documentElement.classList.remove("no-focus-outline"))}),[r]),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("web-player.settings.personalized-recommendations"),children:[(0,u.jsxs)(S,{className:D,children:[(0,u.jsx)(h,{htmlFor:"settings.dsaMode",children:a.Ru.get("web-player.settings.personalized-recommendations")}),(0,u.jsx)(h,{htmlFor:"settings.dsaMode",variant:"marginal",children:a.Ru.get("web-player.settings.personalized-recommendations-body-text")})]}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"settings.dsaMode",value:!e,onSelected:e=>{e?t(!e):s(L.UU.actions.open({onConfirm:()=>t(!e)}))},inputRef:l})})]})};var B=s(98929),q=s(46710),K=s(46581),U=s(26906);const V=new(s(44947).l)("changeAttributes","mutation","ac50e9d82b3b8303c73512f297140e774a69eb0d6250769b5669e69b4be28886",null);var H=s(48975),W=s(21171),G=(s(79219),s(20841));const Z=["personalizedRecommendations"],Y=()=>{const{getGraphQLLoader:e}=(0,U.mv)(),t=e(),s=(0,B.jE)(),n=((0,W.g)(),(0,O.wA)()),r=!(0,H.n)(),l="1"===(0,G.$)("dsa-mode-enabled"),a="1"===(0,G.$)("dsa-mode-available"),o=(0,i.useCallback)((async e=>{if(r)throw new Error("User has to be online");await async function(e,t){const s=await e(V,{input:{dsaModeEnabled:t,birthdate:null,filterAgeRestrictedContent:null,filterExplicitContent:null,lockFilterExplicitContent:null,optInTrialPremiumOnlyMarket:null}}),{errors:i,data:n}=s||{};if(!n?.changeUserAccountAttributes)throw i&&i.length>0?new Error(`GraphQL error: ${i[0].message}`):new Error("Unknown GraphQL error!");if("ChangeUserAccountAttributesResult"!==n.changeUserAccountAttributes.__typename||"ChangeUserAccountAttributesResult"===n.changeUserAccountAttributes.__typename&&!n.changeUserAccountAttributes.success)throw new Error("Couldn't successfully set new value")}(t,e)}),[r,t]),c=(0,i.useRef)(l);c.current=l;const{data:d}=(0,q.I)({queryKey:Z,queryFn:()=>c.current});return[a??!1,d??!1,(0,K.n)({mutationFn:o,onMutate:async e=>{await s.cancelQueries({queryKey:Z});const t=s.getQueryData(Z);return s.setQueryData(Z,e),{prevState:t,newState:e}},onError:(e,t,i)=>{s.setQueryData(Z,i?.prevState),n(L.bL.actions.open())},onSuccess:()=>{0}}).mutate]},J=({sectionAbove:e})=>{const[t,s,i]=Y();return t||e?(0,u.jsxs)(N,{filterMatchQuery:a.Ru.get("web-player.settings.content-preferences"),children:[(0,u.jsx)(A,{children:a.Ru.get("web-player.settings.content-preferences")}),e,t&&(0,u.jsx)(P,{dsaModeEnabled:s,setDsaModeEnabled:i})]}):null};let $=function(e){return e.LIBRARY_COMPACT_MODE="library-compact-mode",e.NOW_PLAYING_VIEW="now-playing-view",e.CANVAS_VIDEOS="canvas-videos",e}({});var X=s(52598);const ee=e=>{const{spec:t,logger:s}=(0,X.h)();return(0,i.useCallback)((i=>{i?s.logInteraction(t.settingsRowFactory({identifier:e}).hitSettingEnable()):s.logInteraction(t.settingsRowFactory({identifier:e}).hitSettingDisable())}),[e,s,t])};var te=s(40806);const se=()=>{const[e,t]=(0,te.j)(),s=ee($.LIBRARY_COMPACT_MODE),n=(0,i.useCallback)((e=>{s(e),t(e?te.A.COMPACT:te.A.DEFAULT)}),[s,t]);return(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("settings.library.compactMode"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.library.compact-mode",children:a.Ru.get("settings.library.compactMode")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"settings.library.compact-mode",value:e===te.A.COMPACT,onSelected:n})})]})},ie=({children:e})=>(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(N,{filterMatchQuery:a.Ru.get("settings.library"),children:[(0,u.jsx)(A,{children:a.Ru.get("settings.library")}),e]})}),ne="_czgnX6y44Or6X9pI6gc",re=({children:e,outerRef:t})=>(0,u.jsx)(d.s,{uri:"spotify:internal:settings",children:(0,u.jsx)("div",{ref:t,className:ne,"data-testid":"settings-page",children:e})});var le=s(75635),ae=s(26918);const oe="O2vRz41OsAH0O7xVA4La",ce="y4CT4_q630fWtqu7Zggt";function de({containerRef:e}){return(0,u.jsxs)("div",{className:oe,children:[(0,u.jsx)(o.E,{as:"h1",variant:"titleMedium",className:ce,semanticColor:"textBase",paddingBottom:le.CD,children:a.Ru.get("desktop.settings.settings")}),(0,u.jsx)("div",{children:(0,u.jsx)(ae.S,{placeholder:"",alwaysExpanded:!1,clearOnEscapeInElementRef:e,debounceFilterChangeTimeout:0})})]})}const ue=({settings:{values:e},setValue:t})=>navigator&&/^win/i.test(navigator.platform)?(0,u.jsxs)(N,{filterMatchQuery:a.Ru.get("desktop.settings.compatibility"),children:[(0,u.jsx)(A,{children:a.Ru.get("desktop.settings.compatibility")}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.enableHardwareAcceleration"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.enableHardwareAcceleration",children:a.Ru.get("desktop.settings.enableHardwareAcceleration")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"desktop.settings.enableHardwareAcceleration",value:!!e["ui.hardware_acceleration"],onSelected:e=>{t("ui.hardware_acceleration",e)}})})]})]}):null;var he=s(68714),ge=s(40638);function xe(e){return`${e>0?`+${e}`:e}dB`}var pe=s(53376),me=s(33141);function je(){const e=(0,me.G)(),[t,s]=(0,i.useState)(e.getPreset()),n=(0,i.useCallback)((t=>{e.setPreset(t)}),[e]);return(0,i.useEffect)((()=>e.subscribeToPresetChange((e=>{s(e)})))),[t,n]}const fe="x-settings-equalizerPanelWrapper",ye="x-settings-equalizerPanelFilters",ve="x-settings-equalizerPanelFilter",ke="x-settings-equalizerPanelInput",we="x-settings-equalizerPanelLabel",be="x-settings-equalizerPanelGainLabel",Re="x-settings-equalizerPanelGainLabelUp",Se="x-settings-equalizerPanelGainLabelDown",Ce="x-settings-equalizerPanelCanvas";function Me({filter:e,onChange:t}){const s=(0,me.G)(),n=(0,i.useRef)(null),[r]=je();(0,i.useEffect)((()=>{const t=r.filters.find((t=>t.key===e.key));n.current&&t&&(n.current.value=`${t.gain}`)}),[r,e.key]),(0,i.useEffect)((()=>{n.current&&n.current.setAttribute("aria-valuetext",a.Ru.get("equalizer.filterA11yValueText",e.gain))}),[]);const l=(0,ge.YQ)(((e,t)=>{s.setFilterGain(e,t)}),100,{maxWait:200});return(0,u.jsxs)("div",{className:ve,children:[(0,u.jsx)("input",{"aria-label":a.Ru.get("equalizer.filterLabel",e.frequency),ref:n,type:"range",min:-pe.Zs,max:pe.Zs,step:.1,defaultValue:e.gain,className:ke,onChange:s=>{const i=parseFloat(s.target.value);s.target.setAttribute("aria-valuetext",a.Ru.get("equalizer.filterA11yValueText",i)),l(e.key,i),t(i)}}),(0,u.jsx)("label",{className:we,children:(o=e.frequency,o>=1e3?o/1e3+"KHz":`${o}Hz`)})]});var o}function Fe(e,t){e.moveTo(t[0],t[1]);for(let s=2;s<t.length-1;s+=2)e.lineTo(t[s],t[s+1])}function Ne(e){const t=.6,s=[],i=e.reduce(((e,t)=>(e.push(t.x),e.push(t.y),e)),[]);i.unshift(e[0].y),i.unshift(e[0].x),i.push(e[e.length-1].x),i.push(e[e.length-1].y);for(let e=2;e<i.length-4;e+=2)for(let n=0;n<=16;n++){const r=(i[e+2]-i[e-2])*t,l=(i[e+4]-i[e])*t,a=(i[e+3]-i[e-1])*t,o=(i[e+5]-i[e+1])*t,c=n/16,d=2*Math.pow(c,3)-3*Math.pow(c,2)+1,u=-2*Math.pow(c,3)+3*Math.pow(c,2),h=Math.pow(c,3)-2*Math.pow(c,2)+c,g=Math.pow(c,3)-Math.pow(c,2),x=d*i[e]+u*i[e+2]+h*r+g*l,p=d*i[e+1]+u*i[e+3]+h*a+g*o;s.push(x),s.push(p)}return s}var Ae=s(668);function _e(e,t){const s=e.getContext("2d");s&&(s.clearRect(0,0,e.clientWidth,e.clientHeight),function(e,t,s){const i=t.clientWidth,n=t.clientHeight,r=i/s.length/2;e.beginPath();const l=e.createLinearGradient(i/2,0,i/2,n);l.addColorStop(0,"rgba(11%, 73%, 33%, 100%)"),l.addColorStop(1,"rgba(11%, 73%, 33%, 0%)"),e.fillStyle=l,Fe(e,Ne(s)),e.lineTo(i-r,n),e.lineTo(r,n),e.fill()}(s,e,t),function(e,t){e.beginPath(),e.strokeStyle="rgb(11%, 73%, 33%)",e.lineWidth=4,Fe(e,Ne(t)),e.stroke()}(s,t),function(e,t){e.fillStyle=Ae.ONy,t.forEach((t=>{e.beginPath(),e.arc(t.x,t.y,4,0,2*Math.PI),e.fill()}))}(s,t))}function Qe(e,t){const s=t.clientWidth/e.length;return e.map(((e,i)=>({x:i*s+s/2,y:t.clientHeight-(e+pe.Zs+3)/(2*pe.Zs+6)*t.clientHeight})))}var Ee=s(29844);function ze(e){const t=(0,i.useRef)(null),s=(()=>{const[e,t]=(0,i.useState)(window.devicePixelRatio||1);return(0,i.useEffect)((()=>{const e=()=>{matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`).addEventListener("change",(()=>{t(window.devicePixelRatio),e()}),{once:!0})};e()}),[]),e})(),n=(0,i.useCallback)((()=>{if(!t.current)return;const e=s,i=t.current.getBoundingClientRect();t.current.width=i.width*e,t.current.height=i.height*e,t.current.getContext("2d")?.scale(e,e)}),[s]),r=(0,i.useCallback)((()=>{if(!t.current||!e.current)return;const s=Qe(e.current,t.current);_e(t.current,s)}),[e]),l=(0,i.useCallback)((s=>{if(!t.current||!e.current)return;const i=Qe(e.current,t.current),n=Qe(s,t.current);!function(e,t,s){let i=0;const n=JSON.parse(JSON.stringify(t)),r=s.map(((e,s)=>e.y-t[s].y)),l=()=>{if(!(i>=18)){for(let e=0;e<n.length;e++){const l=t[e].y,c=r[e];n[e].y=(s=l,a=c,o=i,(o/=9)<1?a/2*Math.pow(o,3)+s:(o-=2,a/2*(Math.pow(o,3)+2)+s))}var s,a,o;_e(e,n),i++,window.requestAnimationFrame(l)}};window.requestAnimationFrame(l)}(t.current,i,n)}),[e]);return(0,i.useEffect)((()=>{n(),r()}),[n,r]),(0,Ee.w)({refOrElement:t,onResize:()=>{n(),r()}}),{canvasRef:t,drawCanvas:r,animateCanvas:l}}function Oe(){const e=(0,me.G)(),[t,s]=(0,i.useState)(!1),n=(0,i.useCallback)((t=>{e.setEnabledState(t)}),[e]);return(0,i.useEffect)((()=>e.subscribeToEnabledState(s)),[e]),[t,n]}function Ie(){const[e,t]=Oe(),[s,n]=je(),r=(0,i.useRef)(s.filters.map((e=>e.gain))),{canvasRef:l,drawCanvas:o,animateCanvas:c}=ze(r);return(0,i.useEffect)((()=>{const e=s.filters.map((e=>e.gain));"custom"!==s.key&&c(e),r.current=e}),[s,c]),(0,u.jsxs)("div",{className:fe,children:[(0,u.jsx)("canvas",{"aria-label":a.Ru.get("equalizer.equalizer"),role:"img",className:Ce,ref:l}),(0,u.jsx)("label",{className:b()(be,Re),children:xe(pe.Zs)}),(0,u.jsx)("label",{className:b()(be,Se),children:xe(-pe.Zs)}),(0,u.jsx)("div",{className:ye,dir:"ltr",children:s.filters.map(((s,i)=>(0,u.jsx)(Me,{filter:s,onChange:s=>{r.current[i]=s,o(),e||t(!0),n((0,pe.zP)(r.current))}},s.key)))})]})}var Te=s(96675);const Le="x-settings-equalizerPresetsContainer",De="x-settings-equalizerPresetsLabel";function Pe(){const[e,t]=Oe(),[s,i]=je();return(0,u.jsxs)("div",{className:Le,children:[(0,u.jsx)(o.E,{as:"label",variant:"bodySmall",semanticColor:"textSubdued",htmlFor:"desktop.equalizer.preset",className:De,children:a.Ru.get("equalizer.presets")}),(0,u.jsxs)(Te.C,{id:"desktop.equalizer.preset",value:s.key,onSelect:s=>{i(s),e||t(!0)},children:["custom"===s.key&&(0,u.jsx)("option",{value:s.key,children:s.displayName}),Object.entries(pe.fG).map((([e,t])=>(0,u.jsx)("option",{value:e,children:t.displayName},e)))]})]})}function Be(){const[e,t]=Oe(),[,s]=je();return(0,u.jsx)(r.n,{onClick:()=>{s(pe.fG.flat.key),e||t(!0)},size:"small",children:a.Ru.get("equalizer.reset")})}function qe(){const[e,t]=Oe();return(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("equalizer.equalizer"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.equalizer",children:a.Ru.get("equalizer.equalizer")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"settings.equalizer",value:e,onSelected:t})})]})}var Ke=s(64640);const Ue="x-settings-equalizerSection",Ve="x-settings-equalizerWrapper",He="x-settings-equalizerResetButtonWrapper";function We(){const e=(0,me.G)();return(0,n.NC)(Ke.AM,{loadingValue:!1})&&e.isSupported()?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(qe,{}),(0,u.jsx)(y,{filterMatchQuery:a.Ru.get("equalizer.equalizer"),children:(0,u.jsxs)("div",{className:Ue,children:[(0,u.jsx)(Pe,{}),(0,u.jsx)("div",{className:Ve,children:(0,u.jsx)(Ie,{})}),(0,u.jsx)("div",{className:He,children:(0,u.jsx)(Be,{})})]})})]}):null}var Ge=s(90630);const Ze="x-settings-crossFadeContainer",Ye="R4qAisn3_n07n9xPJHIy",Je=12e3,$e=({settings:{values:e},setValue:t})=>{const s=(0,n.NC)(Ge.$GE),r=(0,n.NC)(Ge.UrL),l=(0,n.NC)(Ge.tsC),[c,d]=(0,i.useState)(-1),g=-1===c?Number(e["audio.crossfade.time_v2"]):c,x=`${Math.round(g/1e3)} ${a.Ru.get("desktop.settings.sec")}`;return(0,u.jsxs)(N,{filterMatchQuery:a.Ru.get("desktop.settings.playback"),children:[(0,u.jsx)(A,{children:a.Ru.get("desktop.settings.playback")}),void 0!==e["audio.crossfade_v2"]&&(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.crossfadeTracks"),children:[(0,u.jsxs)(S,{children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.crossfadeTracks",children:a.Ru.get("desktop.settings.crossfadeTracks")}),e["audio.crossfade_v2"]&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:Ze,children:(0,u.jsx)(he.z2,{value:g,max:Je,step:1e3,labelText:a.Ru.get("desktop.settings.crossfadeTracks"),onDragStart:e=>{d(e*Je)},onDragMove:e=>{d(e*Je)},onDragEnd:e=>{const s=Math.floor(e*Je);d(s),t("audio.crossfade.time_v2",s)}})}),(0,u.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",className:Ye,children:x})]})]}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"desktop.settings.crossfadeTracks",value:!!e["audio.crossfade_v2"],onSelected:e=>{t("audio.crossfade_v2",e)}})})]}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.automixInfo"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.automixInfo",children:a.Ru.get("desktop.settings.automixInfo")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"desktop.settings.automixInfo",value:!!e["audio.automix"],onSelected:e=>{t("audio.automix",e)}})})]}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.monoDownmixer"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.monoDownmixer",children:a.Ru.get("desktop.settings.monoDownmixer")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"desktop.settings.monoDownmixer",value:!!e["audio.downmixer_v2"],onSelected:e=>{t("audio.downmixer_v2",e)}})})]}),s&&(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.silenceTrimmer"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.silenceTrimmer",children:a.Ru.get("desktop.settings.silenceTrimmer")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"desktop.settings.silenceTrimmer",value:!!e["audio.silence_trimmer_v2"],onSelected:e=>{t("audio.silence_trimmer_v2",e)}})})]}),r&&(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.dynamicNormalizer"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.dynamicNormalizer",children:a.Ru.get("desktop.settings.dynamicNormalizer")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"desktop.settings.dynamicNormalizer",value:!!e["audio.dynamic_normalizer_v2"],onSelected:e=>{t("audio.dynamic_normalizer_v2",e)}})})]}),l&&(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.otfn"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.otfn",children:a.Ru.get("desktop.settings.otfn")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"desktop.settings.otfn",value:!!e["audio.otfn_v2"],onSelected:e=>{t("audio.otfn_v2",e)}})})]}),(0,u.jsx)(We,{})]})};var Xe=s(81335),et=s(71272),tt=s(32820);const st={get[Xe.WZ.MINIMIZED](){return a.Ru.get("desktop.settings.autostartMinimized")},get[Xe.WZ.NORMAL](){return a.Ru.get("desktop.settings.autostartNormal")},get[Xe.WZ.OFF](){return a.Ru.get("desktop.settings.autostartOff")}},it=(0,et.D)()===tt.f.macOS,nt=({settings:{values:e},setValue:t})=>(0,u.jsxs)(N,{filterMatchQuery:a.Ru.get("desktop.settings.startupAndWindowBehavior"),children:[(0,u.jsx)(A,{children:a.Ru.get("desktop.settings.startupAndWindowBehavior")}),void 0!==e["app.autostart-mode"]&&(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.autostart"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.autostart",children:a.Ru.get("desktop.settings.autostart")})}),(0,u.jsx)(k,{children:(0,u.jsxs)(Te.C,{id:"desktop.settings.autostart",value:e["app.autostart-mode"],onSelect:e=>{t("app.autostart-mode",e)},children:[(0,u.jsx)("option",{value:Xe.WZ.MINIMIZED,children:st[Xe.WZ.MINIMIZED]}),(0,u.jsx)("option",{value:Xe.WZ.NORMAL,children:st[Xe.WZ.NORMAL]}),(0,u.jsx)("option",{value:Xe.WZ.OFF,children:st[Xe.WZ.OFF]})]})})]}),!it&&(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.closeShouldMinimize"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.closeShouldMinimize",children:a.Ru.get("desktop.settings.closeShouldMinimize")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"desktop.settings.closeShouldMinimize",value:!!e["ui.minimize_to_tray"],onSelected:e=>{t("ui.minimize_to_tray",e)}})})]})]}),rt={"auto-detect":{label:()=>a.Ru.get("desktop.settings.proxy.autodetect")},"no-proxy":{label:()=>a.Ru.get("desktop.settings.proxy.noproxy")},http:{label:()=>a.Ru.get("desktop.settings.proxy.http")},socks4:{label:()=>a.Ru.get("desktop.settings.proxy.socks4")},socks5:{label:()=>a.Ru.get("desktop.settings.proxy.socks5")}},lt=[{enumKey:"auto-detect",enumValue:0},{enumKey:"no-proxy",enumValue:1},{enumKey:"http",enumValue:2},{enumKey:"socks4",enumValue:3},{enumKey:"socks5",enumValue:4}];var at=s(60646);const ot="mpdBa62OP4Fr5wvCsa89",ct="x-proxySettings-ProxySettings",dt="x-proxySettings-fullWidth",ut="x-settings-input",ht="x-proxySettings-horizontalPair",gt=({id:e,type:t,placeHolder:s,inputRef:i,handleOnChange:n})=>(0,u.jsx)("input",{type:t||"text",id:e,"data-testid":e,className:ut,placeholder:s,ref:i,onChange:n}),xt=({children:e,label:t})=>(0,u.jsx)(at.g,{label:t,className:ht,children:e}),pt="wjxwX0Alq8DVfoBObi3R";function mt({onClick:e}){return(0,u.jsx)(r.n,{className:pt,onClick:e,children:a.Ru.get("settings.restartApp")})}const jt=(e,t,s)=>{let i=`${e}:${t}`;switch(s){case 2:i+="@http";break;case 3:i+="@socks4";break;case 4:i+="@socks5"}return i},ft=({addr:e,mode:t="0",pass:s,user:n,setValue:r,restartContainer:l,fullWidth:o,onChange:c})=>{const d=(0,i.useRef)(null),h=(0,i.useRef)(null),g=(0,i.useRef)(null),x=(0,i.useRef)(null),p=Number(t),[m,j]=(0,i.useState)(""),[f,y]=(0,i.useState)(""),[v,k]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const[t,s]=e?.split(/[:@]+/)||["",""];j(t),y(s),d.current&&(d.current.value=t),h.current&&(h.current.value=s)}),[e]),(0,i.useEffect)((()=>{x.current&&s&&(x.current.value=s.toString())}),[s]),(0,i.useEffect)((()=>{g.current&&n&&(g.current.value=n.toString())}),[n]);const w=(0,i.useCallback)((({target:e})=>{const t=jt(e.value,f,p);j(e.value),r("network.proxy.addr",t),k(!0)}),[p,f,r]),R=(0,i.useCallback)((({target:e})=>{const t=jt(m,e.value,p);y(e.value),r("network.proxy.addr",t),k(!0)}),[p,m,r]),S=(0,i.useCallback)((({target:e})=>{r("network.proxy.user",e.value),k(!0)}),[r]),C=(0,i.useCallback)((({target:e})=>{r("network.proxy.pass",e.value),k(!0)}),[r]),M=0!==p&&1!==p,F=3!==p;return(0,u.jsxs)(N,{filterMatchQuery:a.Ru.get("desktop.settings.proxy.title"),children:[(0,u.jsx)(A,{children:a.Ru.get("desktop.settings.proxy.title")}),(0,u.jsxs)("div",{className:b()(ct,o?dt:null),children:[(0,u.jsx)(xt,{label:a.Ru.get("desktop.settings.proxy.type"),children:(0,u.jsx)(Te.C,{id:"network.proxy.mode",value:t,onSelect:e=>{const t=parseInt(e,10);r("network.proxy.mode",t),k(!0);const s=lt.find((e=>e.enumValue===t));s&&c?.(s.enumKey)},children:lt.map((({enumKey:e,enumValue:t})=>(0,u.jsx)("option",{value:t,"data-testid":e,children:rt[e]?rt[e].label():""},e)))})}),M?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:ot,children:[(0,u.jsx)(xt,{label:a.Ru.get("desktop.settings.proxy.host"),children:(0,u.jsx)(gt,{id:"network.proxy.host",handleOnChange:w,placeHolder:a.Ru.get("desktop.settings.proxy.host"),inputRef:d})}),(0,u.jsx)(xt,{label:a.Ru.get("desktop.settings.proxy.port"),children:(0,u.jsx)(gt,{id:"network.proxy.port",type:"number",handleOnChange:R,placeHolder:a.Ru.get("desktop.settings.proxy.port"),inputRef:h})})]}),(0,u.jsxs)("div",{className:F?ot:void 0,children:[(0,u.jsx)(xt,{label:a.Ru.get("desktop.settings.proxy.user"),children:(0,u.jsx)(gt,{id:"network.proxy.user",handleOnChange:S,placeHolder:a.Ru.get("desktop.settings.proxy.user"),inputRef:g})}),F?(0,u.jsx)(xt,{label:a.Ru.get("desktop.settings.proxy.pass"),children:(0,u.jsx)(gt,{id:"network.proxy.pass",handleOnChange:C,placeHolder:a.Ru.get("desktop.settings.proxy.pass"),type:"password",inputRef:x})}):null]})]}):null,v&&(0,u.jsx)("div",{children:(0,u.jsx)(mt,{onClick:l})})]})]})};var yt=s(12032),vt=s(70603),kt=s(23076),wt=s(82391);function bt(){const e=(0,wt.B)(),[t,s]=(0,i.useState)(null),[n,r]=(0,i.useState)(!0),[l,a]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const t=window.setInterval((()=>{!async function(){if(null===l){try{const t=await e.getStatistics();s(t)}catch(e){a(e instanceof Error?e:new Error("Error when fetching storage statistics."))}r(!1)}}()}),1500);return()=>clearInterval(t)}),[e,l]),[t,n,l]}const Rt="x-settings-button",St="x-settings-wordBreakAll",Ct=({settings:e,setValue:t})=>{const s=(0,kt.A)(),n=(0,vt.t)(),l=!(0,H.n)(),[o,c]=(0,i.useState)(!1),d=(0,i.useCallback)((()=>{n.applyUpdate()}),[n]),[g,x,p]=bt(),m=(0,O.wA)();let j="",f="",v=0;x?(j=a.Ru.get("page.loading"),f=a.Ru.get("page.loading")):p||null===g?(j=a.Ru.get("error.generic"),f=a.Ru.get("error.generic")):(v=g.currentSizeMB-g.currentLockedSizeMB,j=` ${v} MB`,f=` ${g.currentLockedSizeMB} MB`);const w=e.values["storage.location"];return(0,u.jsxs)(N,{filterMatchQuery:a.Ru.get("desktop.settings.storage"),children:[(0,u.jsx)(A,{children:a.Ru.get("desktop.settings.storage")}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.storage.downloads.heading"),children:[(0,u.jsx)(S,{children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.downloads",semanticColor:"textBase",children:a.Ru.get("desktop.settings.storage.downloads.heading")}),(0,u.jsx)(h,{htmlFor:"desktop.settings.downloads",children:f})]}),(0,u.jsx)(h,{htmlFor:"desktop.settings.downloads",children:a.Ru.get("desktop.settings.storage.downloads.text")})]})}),(0,u.jsx)(k,{children:(0,u.jsx)(r.n,{id:"desktop.settings.downloads",size:"small",onClick:()=>{m((0,yt.KB)())},disabled:l||!g||0===g.currentLockedSizeMB,className:Rt,children:a.Ru.get("desktop.settings.storage.downloads.button")})})]}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.storage.cache.heading"),children:[(0,u.jsx)(S,{children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.cache",semanticColor:"textBase",children:a.Ru.get("desktop.settings.storage.cache.heading")}),(0,u.jsx)(h,{htmlFor:"desktop.settings.cache",children:j})]}),(0,u.jsx)(h,{htmlFor:"desktop.settings.cache",children:a.Ru.get("desktop.settings.storage.cache.text")})]})}),(0,u.jsx)(k,{children:(0,u.jsx)(r.n,{id:"desktop.settings.cache",size:"small",onClick:()=>{m((0,yt.cd)())},disabled:0===v,className:Rt,children:a.Ru.get("desktop.settings.storage.cache.button")})})]}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.offlineStorageLocation"),children:[(0,u.jsx)(S,{children:(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.offline-storage",semanticColor:"textBase",children:a.Ru.get("desktop.settings.offlineStorageLocation")})}),(0,u.jsx)(h,{htmlFor:"desktop.settings.offline-storage",className:St,children:w})]})}),(0,u.jsxs)(k,{children:[(0,u.jsx)(r.n,{id:"desktop.settings.offline-storage",size:"small",onClick:async()=>{const i=await s.browseForFolder();i.path&&(t("storage.location",i.path),i.path!==e.values["storage.location"]&&c(!0))},className:Rt,children:a.Ru.get("desktop.settings.offlineStorageChangeLocation")}),o&&(0,u.jsx)(mt,{onClick:d})]})]})]})},Mt=({settings:e,setValue:t})=>{const s=(0,vt.t)(),n=(0,i.useCallback)((()=>{s.applyUpdate()}),[s]),{values:r}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)($e,{settings:e,setValue:t}),(0,u.jsx)(nt,{settings:e,setValue:t}),(0,u.jsx)(Ct,{settings:e,setValue:t}),(0,u.jsx)(ft,{setValue:t,restartContainer:n,mode:r["network.proxy.mode"],addr:r["network.proxy.addr"],user:r["network.proxy.user"],pass:r["network.proxy.pass"]}),(0,u.jsx)(ue,{settings:e,setValue:t})]})};var Ft=s(56424),Nt=s(77313);const At="H6jjgcz7zPs9Aaaa8YIG",_t=({settings:{values:e}})=>{const t="1"===e["dsa-mode-enabled"],s=(0,Ft.t)(),[{data:i},{mutate:n}]=(0,Nt.K)(s.autoPlay);return(0,u.jsxs)(N,{filterMatchQuery:a.Ru.get("desktop.settings.autoplay"),children:[(0,u.jsx)(A,{className:t?At:void 0,semanticColor:t?"textSubdued":void 0,children:a.Ru.get("desktop.settings.autoplay")}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.autoplayInfo"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"global.settings.autoplayInfo",className:t?At:void 0,children:t?a.Ru.get("web-player.settings.autoplay-dsa-enabled"):a.Ru.get("desktop.settings.autoplayInfo")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"global.settings.autoplayInfo",value:!!i,onSelected:e=>{n(e)},disabled:t})})]})]})};var Qt=s(59857),Et=s(14109),zt=s(75097),Ot=s(70179),It=s(95573);const Tt=()=>{const[e,t]=(0,Ot.J)(),s=(0,It.j)(),n=ee($.CANVAS_VIDEOS),r=(0,i.useCallback)((e=>{n(e),t(e)}),[t,n]);return(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("settings.canvasVideos"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.canvasVideos",children:a.Ru.get("settings.canvasVideos")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"settings.canvasVideos",value:e,onSelected:r,disabled:s})})]})};var Lt=s(4445);const Dt=()=>{const[e,t]=(0,Lt.N)(),s=ee($.NOW_PLAYING_VIEW),n=(0,i.useCallback)((e=>{s(e),t(e)}),[t,s]);return(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("settings.npv"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.npv",children:a.Ru.get("settings.npv")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"settings.npv",value:e,onSelected:n})})]})};var Pt=s(14969);const Bt=()=>{const e=(0,G.$)("catalogue"),t=void 0===e||"string"==typeof e&&"free"===e.toLowerCase(),s=(0,Ft.t)(),[{data:i},{mutate:r}]=(0,Nt.K)(s.display.newReleasesAnnoucements),[{data:l},{mutate:o}]=(0,Nt.K)(s.display.nativeNotificationOnPlayerTransition),[{data:c},{mutate:d}]=(0,Nt.K)(s.display.nativeOverlayOnMediaKeys),g=(0,Pt.d)(),x=(0,n.NC)(Ge.yJ8),p=g?.client_capabilities?.can_show_system_media_controls,m=g?.client_capabilities?.can_show_track_notifications,{isActive:j,panelSend:f}=(0,Qt.AI)(zt.Z.BuddyFeed,zt.Z.BuddyFeedOverlay);return(0,u.jsxs)(N,{filterMatchQuery:a.Ru.get("settings.display"),children:[(0,u.jsx)(A,{children:a.Ru.get("settings.display")}),(0,u.jsx)(Dt,{}),x!==Ge.NtL.CONTROL&&(0,u.jsx)(Tt,{}),!t&&(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("settings.showMusicAnnouncements"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.showMusicAnnouncements",children:a.Ru.get("settings.showMusicAnnouncements")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"settings.showMusicAnnouncements",value:!!i,onSelected:r})})]}),m&&(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("settings.showTrackNotifications"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.trackNotifications",children:a.Ru.get("settings.showTrackNotifications")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"settings.trackNotifications",value:!!l,onSelected:o})})]}),p&&(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.showSystemMediaControls"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.systemMediaControlsEnabled",children:a.Ru.get("desktop.settings.showSystemMediaControls")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"settings.systemMediaControlsEnabled",value:!!c,onSelected:d})})]}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("buddy-feed.see-what-your-friends-are-playing"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.showFriendActivity",children:a.Ru.get("buddy-feed.see-what-your-friends-are-playing")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"settings.showFriendActivity",value:j,onSelected:()=>{f(Et.$S.BUDDY_FEED_BUTTON_CLICK)}})})]})]})};var qt=s(86882),Kt=s(98962),Ut=s(70493);const Vt="m7e5wHq6US9u3BbLQXEX",Ht="ul4DB6lq_3qO_aCiEbcc",Wt=()=>{const e=(0,O.wA)(),{locale:t,user:s,overrides:n}=(0,O.d4)(Kt.Ht),r=(0,i.useRef)(null),l=(0,i.useRef)(null),a=(0,i.useCallback)((t=>{r.current&&r.current.value&&e((0,Ut.Rv)(t?r.current.value:""))}),[e]),c=(0,i.useCallback)((t=>{l.current&&l.current.value&&e((0,Ut.zf)(t?l.current.value:""))}),[e]),d=n?.country||s?.country,h=n?.locale||t;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(y,{filterMatchQuery:d??"",children:[(0,u.jsx)(S,{children:(0,u.jsx)("div",{className:Vt,children:(0,u.jsx)(qt.c,{id:"overrides.country",onChange:e=>{const t=e.target.checked;a(t)},defaultChecked:!!n?.country,children:(0,u.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",children:"Country"})})})}),(0,u.jsx)(k,{children:(0,u.jsx)("input",{type:"text",id:"overrides.country.input",className:Ht,disabled:!n?.country,ref:r,defaultValue:d,onChange:()=>a(!0)})})]}),(0,u.jsxs)(y,{filterMatchQuery:n?.locale??"",children:[(0,u.jsx)(S,{children:(0,u.jsx)("div",{className:Vt,children:(0,u.jsx)(qt.c,{id:"overrides.locale",onChange:e=>{const t=e.target.checked;c(t)},defaultChecked:!!n?.locale,children:(0,u.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",children:"Language"})})})}),(0,u.jsx)(k,{children:(0,u.jsx)("input",{type:"text",id:"overrides.locale.input",className:Ht,disabled:!n?.locale,ref:l,defaultValue:h,onChange:()=>c(!0)})})]})]})},Gt=()=>{const e=(0,Ft.t)(),[{data:t}]=(0,Nt.K)(e.employee.isEmployee),[{data:s},{mutate:n}]=(0,Nt.K)(e.employee.developerMode),[{data:r},{mutate:l}]=(0,Nt.K)(e.employee.showChromeToolbar),o=(0,vt.t)(),[c,d]=(0,i.useState)(!1),g=(0,i.useCallback)((()=>{o.applyUpdate()}),[o]);return t?(0,u.jsxs)(N,{filterMatchQuery:a.Ru.get("settings.employee"),children:[(0,u.jsx)(A,{children:a.Ru.get("settings.employee")}),(0,u.jsx)(y,{filterMatchQuery:a.Ru.get("desktop.settings.language-override"),children:(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"",children:a.Ru.get("desktop.settings.language-override")})})}),(0,u.jsx)(Wt,{}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.enableDeveloperMode"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.developerMode",children:a.Ru.get("desktop.settings.enableDeveloperMode")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"settings.developerMode",value:!!s,onSelected:e=>{n(e),d(!0)}})})]}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.showChromeToolbar"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.chromiumToolbar",children:a.Ru.get("desktop.settings.showChromeToolbar")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"settings.chromiumToolbar",value:!!r,onSelected:e=>{l(e),d(!0)}})})]}),c&&(0,u.jsx)("div",{children:(0,u.jsx)(mt,{onClick:g})})]}):null};var Zt=s(3585),Yt=s(3568);const Jt="okmBgXxrf9ezztZvtLiY",$t="uerTfstdPutfsW80gMpd",Xt="wRdi_8R3iT6u7fZcgrb9",es=()=>{const e=(0,Ft.t)(),[{data:t},{mutate:s}]=(0,Nt.K)(e.contentPreferences.allowExplicitContent),[{data:i}]=(0,Nt.K)(e.contentPreferences.explicitContentForceDisallowed),n=i?a.Ru.get("desktop.settings.explicitContentFilterSettingLocked"):a.Ru.get("desktop.settings.explicitContentFilterSetting");return(0,u.jsxs)(y,{filterMatchQuery:n,children:[(0,u.jsxs)(S,{className:Jt,children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.explicitContentFilter",children:n}),(0,u.jsx)(o.E,{variant:"marginal",children:a.Ru.get("desktop.settings.explicitContentFilterSettingDetails1",(0,u.jsx)(Yt.U,{}))}),(0,u.jsx)(o.E,{variant:"marginal",children:a.Ru.get("desktop.settings.explicitContentFilterSettingDetails2")}),(0,u.jsxs)(o.E,{variant:"marginal",semanticColor:"textBase",className:$t,children:[(0,u.jsx)(Zt.p,{size:"small"}),a.Ru.get("desktop.settings.updateDelayNotice")]})]}),(0,u.jsx)(k,{children:(0,u.jsx)("div",{className:Xt,children:(0,u.jsx)(T.l,{id:"desktop.settings.explicitContentFilter",disabled:i,value:!!t,onSelected:s})})})]})},ts=()=>(0,u.jsxs)(N,{filterMatchQuery:a.Ru.get("desktop.settings.explicitContentFilter"),children:[(0,u.jsx)(A,{children:a.Ru.get("desktop.settings.explicitContentFilter")}),(0,u.jsx)(es,{})]});var ss=s(1038);const is=()=>{const e=(0,vt.t)(),t=(0,Ft.t)(),[{data:s},{mutate:n}]=(0,Nt.K)(t.language),r=(0,i.useCallback)((()=>{e.applyUpdate()}),[e]);return void 0===s?null:(0,u.jsxs)(N,{filterMatchQuery:a.Ru.get("desktop.settings.language"),children:[(0,u.jsx)(A,{children:a.Ru.get("desktop.settings.language")}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.selectLanguage"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.selectLanguage",children:a.Ru.get("desktop.settings.selectLanguage")})}),(0,u.jsx)(k,{children:(0,u.jsx)(Te.C,{dir:"auto",value:s,id:"desktop.settings.selectLanguage",onSelect:n,children:ss.J2.map((e=>(0,u.jsx)("option",{value:e,children:`${ss.IB[e].displayName} (${ss.IB[e].displayNameEn})`},e)))})})]}),a.Ru.getLocaleForTranslation()!==s?(0,u.jsx)(mt,{onClick:r}):null]})};var ns=s(2360);const rs=()=>{const[e,t]=(0,ns.y)();return(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("settings.showLocalFiles"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.showLocalFiles",children:a.Ru.get("settings.showLocalFiles")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"settings.showLocalFiles",value:e,onSelected:e=>{t(e)}})})]})};var ls=s(80600),as=s(2793);const os=e=>void 0!==e.id;function cs(e){let t;if(!os(e))return e.path;switch(e.id){case as.kW.DOWNLOADS:t=a.Ru.get("local-files.source.downloads");break;case as.kW.ITUNES:t=a.Ru.get("local-files.source.itunes");break;case as.kW.MY_MUSIC:t=a.Ru.get("local-files.source.my_music");break;case as.kW.WINDOWS_MUSIC_LIBRARY:t=a.Ru.get("local-files.source.windows_music_library");break;default:t=String(e.id)}return t}const ds=({source:e,onAddOrRemoveSource:t})=>{const[s,n]=(0,i.useState)(!os(e)||e.enabled),r=os(e)?String(e.id):e.path;return(0,u.jsxs)(y,{filterMatchQuery:cs(e),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:`settings.local-files.${r}`,children:cs(e)})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:`settings.local-files.${r}`,value:s,onSelected:s=>{n(s),t(e,s)}})})]})},us=()=>{const[e,t]=(0,i.useState)(),s=(0,kt.A)(),n=(0,ls.i)(),l=(0,i.useCallback)((async()=>t(await s.getSources())),[s]);(0,i.useEffect)((()=>{l()}),[l]);const o=(0,i.useCallback)((async()=>{const{path:e}=await s.browseForFolder();e&&(await s.addFolder({path:e}),l(),n.say(a.Ru.get("settings.localFilesFolderAdded",e)))}),[n,s,l]),c=(0,i.useCallback)(((e,t)=>{e.enabled=t,s.mutateDefaultSource(e)}),[s]),d=(0,i.useCallback)(((e,t)=>{t?s.addFolder(e):s.removeFolder(e)}),[s]);return(0,u.jsxs)(N,{filterMatchQuery:a.Ru.get("settings.showSongsFrom"),children:[(0,u.jsx)(A,{children:a.Ru.get("settings.showSongsFrom")}),e?.defaultSources.map((e=>(0,u.jsx)(ds,{source:e,onAddOrRemoveSource:c},String(e.id)))),e?.folders.map((e=>(0,u.jsx)(ds,{source:e,onAddOrRemoveSource:d},e.path))),(0,u.jsx)("div",{children:(0,u.jsx)(r.n,{size:"small","aria-label":a.Ru.get("settings.addASource"),onClick:()=>{o()},children:a.Ru.get("settings.addASource")})})]})};var hs=s(22915),gs=s(92197);const xs="x-settings-tooltip",ps="x-settings-tooltipIconWrapper",ms="x-settings-tooltipIcon",js=({message:e,placement:t="top",messageClassName:s,iconClassName:i,iconSize:n="small"})=>(0,u.jsx)("div",{className:xs,children:(0,u.jsx)(gs.Zp,{showDelay:0,label:e,placement:t,labelClassName:s,children:(0,u.jsx)("div",{className:b()(ps,i),"aria-label":e,"aria-describedby":gs.WO,tabIndex:0,children:(0,u.jsx)(hs.N,{size:n,className:ms})})})});function fs(){const e=(0,Ft.t)(),[{data:t},{mutate:s}]=(0,Nt.K)(e.quality.autoAdjustQuality);return void 0===t?null:(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.automatic-downgrade.title"),children:[(0,u.jsxs)(S,{children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.automatic-downgrade",children:a.Ru.get("desktop.settings.automatic-downgrade.title")}),(0,u.jsx)(js,{message:a.Ru.get("desktop.settings.automatic-downgrade.info")})]}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"desktop.settings.automatic-downgrade",value:t,onSelected:s})})]})}var ys=s(1326),vs=s(54531);const ks={get[Xe.a1.AUTOMATIC](){return a.Ru.get("desktop.settings.streamingQualityAutomatic")},get[Xe.a1.LOW](){return a.Ru.get("desktop.settings.streamingQualityLow")},get[Xe.a1.MEDIUM](){return a.Ru.get("desktop.settings.streamingQualityNormal")},get[Xe.a1.HIGH](){return a.Ru.get("desktop.settings.streamingQualityHigh")},get[Xe.a1.VERY_HIGH](){return a.Ru.get("desktop.settings.streamingQualityVeryHigh")},get[Xe.a1.LOSSLESS](){return a.Ru.get("web-player.pigeon.audio-quality.lossless")}};function ws({maxQuality:e,formats:t}){const s=e===Xe.Qi.LOSSLESS,i=e>=Xe.Qi.VERY_HIGH;return(0,u.jsx)(u.Fragment,{children:t.filter((({quality:e})=>{switch(e){case Xe.a1.AUTOMATIC:return!s;case Xe.a1.LOW:case Xe.a1.MEDIUM:case Xe.a1.HIGH:return!0;case Xe.a1.VERY_HIGH:return i;case Xe.a1.LOSSLESS:return s;default:return!1}})).map((({quality:e})=>(0,u.jsx)("option",{value:e.toString(),children:ks[e]},e)))})}function bs(){const e=(0,Ft.t)(),[{data:t},{mutate:s}]=(0,Nt.K)(e.quality.downloadAudioQuality),[{data:i}]=(0,Nt.K)(e.quality.maxSupportedQuality),n=(0,ys.x)();return void 0===t||void 0===i||void 0===n?null:(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.downloadQuality.title"),children:[(0,u.jsxs)(S,{children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.downloadQuality",children:a.Ru.get("desktop.settings.downloadQuality.title")}),(0,u.jsx)(js,{message:a.Ru.get("desktop.settings.downloadQuality.info").replace(/(<([^>]+)>)/gi,"")})]}),(0,u.jsx)(k,{children:(0,u.jsx)(Te.C,{id:"desktop.settings.downloadQuality",value:t.toString(),onSelect:e=>{const t=(0,vs.FB)(e);t&&s(t)},children:(0,u.jsx)(ws,{formats:n,maxQuality:i})})})]})}var Rs=s(39092),Ss=s(21328),Cs=s(50210),Ms=s(88946);const Fs=()=>{const e=(0,Cs.N)(),{deviceFilterState:t}=(0,Rs.j)(),[s,n]=(0,i.useState)((()=>e.isNormalizationOverriden())),r=s&&t.isOnboarded;return(0,Ms.G)(Ss.n.NORMALIZATION_OVERRIDE_DISABLED,(()=>{n(!1)})),{isOverriden:r,disableOverride:()=>e.disableNormalizationOverride()}};var Ns=s(45192),As=s(52596);let _s=function(e){return e[e["volume-increase"]=0]="volume-increase",e[e["normalization-turn-off"]=1]="normalization-turn-off",e[e["normalization-turn-on"]=2]="normalization-turn-on",e}({});const Qs=({type:e,onClose:t,onConfirm:s})=>{const{disableOverride:i}=Fs(),n="Normalisation";let r="";switch(e){case _s["volume-increase"]:r="Increasing the volume level while your headphones are optimized may cause occasional distortion.";break;case _s["normalization-turn-off"]:r="Turning off audio normalization while your headphones are optimized may cause audio distortion.";break;case _s["normalization-turn-on"]:r='We\'d recommend changing your volume level to "Quiet" after turning on audio normalization to avoid audio distortion (while your headphones are optimized).';break;default:(0,As.k)(e)}return(0,u.jsx)(Ns.T,{onConfirm:()=>{i(),s(),t()},onClose:t,titleText:n,"aria-label":n,descriptionText:r,cancelText:"Cancel",confirmText:"Confirm"})},Es={get[Xe.KR.QUIET](){return a.Ru.get("desktop.settings.loudnessQuiet")},get[Xe.KR.NORMAL](){return a.Ru.get("desktop.settings.loudnessNormal")},get[Xe.KR.LOUD](){return a.Ru.get("desktop.settings.loudnessLoud")}};function zs(){const e=(0,Ft.t)(),[{data:t},{mutate:s}]=(0,Nt.K)(e.quality.normalizeVolume),[{data:n},{mutate:r}]=(0,Nt.K)(e.quality.volumeLevel),{dialog:l,setNormalizeValue:o,setVolumeLevel:c}=((e,t)=>{const{isOverriden:s}=Fs(),[n,r]=(0,i.useState)(null),l=(0,i.useRef)(null);return{setNormalizeValue:(0,i.useCallback)((t=>{s?(r(t?_s["normalization-turn-on"]:_s["normalization-turn-off"]),l.current=()=>{e(t)}):e(t)}),[s,e]),setVolumeLevel:(0,i.useCallback)((e=>{s&&e!==Xe.KR.QUIET?(r(_s["volume-increase"]),l.current=()=>{t(e)}):t(e)}),[s,t]),dialog:null!==n?(0,u.jsx)(Qs,{type:n,onClose:()=>{r(null)},onConfirm:()=>{l.current?.()}}):null}})(s,r),{isOverriden:d}=Fs();if(void 0===t)return null;const g=d?Xe.KR.QUIET:n;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.normalize"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.normalize",children:a.Ru.get("desktop.settings.normalize")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"desktop.settings.normalize",value:!!t,onSelected:o})})]}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.loudnessEnvironment_with_limiter_details"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.loudnessEnvironment",children:a.Ru.get("desktop.settings.loudnessEnvironment_with_limiter_details")})}),(0,u.jsx)(k,{children:(0,u.jsxs)(Te.C,{id:"desktop.settings.loudnessEnvironment",disabled:!t,value:g,onSelect:e=>{const t=(0,vs.dt)(e);null!==t&&c(t)},children:[(0,u.jsx)("option",{value:Xe.KR.QUIET,children:Es[Xe.KR.QUIET]}),(0,u.jsx)("option",{value:Xe.KR.NORMAL,children:Es[Xe.KR.NORMAL]}),(0,u.jsx)("option",{value:Xe.KR.LOUD,children:Es[Xe.KR.LOUD]})]})})]}),l]})}var Os=s(33125),Is=s(75866),Ts=s(71338);const Ls="teokJIHsNR2G8sc4ne4S";function Ds(){const e=(0,Ft.t)(),{enqueueSnackbar:t}=(0,Ts.d)(),s=(0,Is.K)(Is.X.VeryHighQualityAudio),[{data:n},{mutate:r}]=(0,Nt.K)(e.quality.streamingQuality),[{data:l}]=(0,Nt.K)(e.quality.maxSupportedQuality),o=(0,ys.x)();return(0,i.useEffect)((()=>{s&&t(a.Ru.get("web-player.feature-activation-shelf.audio_quality_toast_message"))}),[s,t]),void 0===n||void 0===l||void 0===o?null:(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.streamingQuality"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.streamingQuality",children:a.Ru.get("desktop.settings.streamingQuality")})}),(0,u.jsxs)(k,{children:[(0,u.jsx)(Te.C,{id:"desktop.settings.streamingQuality",value:n.toString(),onSelect:e=>{const t=(0,vs.FB)(e);t&&r(t)},children:(0,u.jsx)(ws,{formats:o,maxQuality:l})}),s?(0,u.jsx)(Os.Z,{className:Ls}):null]})]})}const Ps=()=>(0,u.jsxs)(N,{filterMatchQuery:a.Ru.get("desktop.settings.musicQuality"),children:[(0,u.jsx)(A,{children:a.Ru.get("desktop.settings.musicQuality")}),(0,u.jsx)(Ds,{}),(0,u.jsx)(bs,{}),(0,u.jsx)(fs,{}),(0,u.jsx)(zs,{})]});var Bs=s(49593),qs=s(68055),Ks=s(43080);const Us=()=>{const[e,t]=(()=>{const e=(0,B.jE)(),{user:t}=(0,O.d4)(Kt.Ht),s=t?.uri??"",{enqueueSnackbar:n}=(0,Ts.d)(),{data:r,queryKey:l}=(0,Ks.Z)(qs.kp,[{uri:s}]),o=(0,i.useCallback)((async({showFollows:e})=>{await(0,qs.gN)(Bs.n.getInstance(),{uri:s,showFollows:e})}),[s]),c=(0,K.n)({mutationFn:o,onMutate:async t=>{await e.cancelQueries({queryKey:l});const s=e.getQueryData(l);return e.setQueryData(l,t),{prevState:s,newState:t}},onError:(t,s,i)=>{e.setQueryData(l,i?.prevState),n(a.Ru.get("error.generic"))},onSettled:()=>{e.invalidateQueries({queryKey:l})}});return[r?.showFollows??!0,c.mutate]})();return(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.showFollows"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.showFollows",children:a.Ru.get("desktop.settings.showFollows")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"desktop.settings.showFollows",value:e,onSelected:e=>t({showFollows:e})})})]})},Vs=()=>{const e=(0,Ft.t)(),[{data:t},{mutate:s}]=(0,Nt.K)(e.social.autoPublishPlaylist),[{data:i},{mutate:n}]=(0,Nt.K)(e.social.shareListeningActivity),[{data:r},{mutate:l}]=(0,Nt.K)(e.social.privateSession),[{data:o},{mutate:c}]=(0,Nt.K)(e.social.showMyTopArtists);return void 0!==t&&void 0!==r?(0,u.jsxs)(N,{filterMatchQuery:a.Ru.get("desktop.settings.social"),children:[(0,u.jsx)(A,{children:a.Ru.get("desktop.settings.social")}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.newPlaylistsPublic"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.newPlaylistsPublic",children:a.Ru.get("desktop.settings.newPlaylistsPublic")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"desktop.settings.newPlaylistsPublic",value:t,onSelected:s})})]}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.privateSession"),children:[(0,u.jsxs)(S,{children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.privateSession",children:a.Ru.get("desktop.settings.privateSession")}),(0,u.jsx)(js,{message:a.Ru.get("desktop.settings.privateSession.tooltip")})]}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"desktop.settings.privateSession",value:r,onSelected:l})})]}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.publishActivity"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.publishActivity",children:a.Ru.get("desktop.settings.publishActivity")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"desktop.settings.publishActivity",disabled:r,value:!r&&!!i,onSelected:n})})]}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.publishTopArtists"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.publishTopArtists",children:a.Ru.get("desktop.settings.publishTopArtists")})}),(0,u.jsx)(k,{children:(0,u.jsx)(T.l,{id:"desktop.settings.publishTopArtists",disabled:r,value:!r&&!!o,onSelected:c})})]}),(0,u.jsx)(Us,{})]}):null};var Hs=s(73197),Ws=s(87150),Gs=s(97106),Zs=s(15162),Ys=s(82068),Js=s(82362);const $s=(e,t)=>{if(((e,t)=>e.includes(t))(e,t))return t;const s=[...e].sort(((e,t)=>e-t));let i=s[0];for(const e of s){if(t<i)return i;if(t>i&&t<e)return t-i<e-t?i:e;t>e&&(i=e)}return i};var Xs=s(58024),ei=s(14995),ti=s(21390);const si=()=>{const e=(0,ei.Z)(),t=(0,Ft.t)(),[{data:s}]=(0,Nt.K)(t.viewportZoom),n=(0,i.useCallback)((t=>{e.setZoomLevel((0,ti.o)(t))}),[e]);return[(0,i.useMemo)((()=>$s(Xs.Gu,(0,ti.I)(s??0))),[s]),n]},ii=({className:e,isSelected:t})=>{const s="currentColor";return(0,u.jsxs)("svg",{className:e,width:"78",height:"59",viewBox:"0 0 76 59",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-selected":t,children:[(0,u.jsx)("g",{filter:"url(#filter0_i_37_26767)",children:(0,u.jsxs)("g",{clipPath:"url(#clip0_37_26767)",children:[(0,u.jsx)("rect",{width:"76",height:"59",rx:"2",fill:"black"}),(0,u.jsx)("rect",{x:"2",y:"2",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"20.5",y:"2",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"39",y:"2",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"57.5",y:"2",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"2",y:"10",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"20.5",y:"10",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"39",y:"10",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"57.5",y:"10",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"2",y:"22",width:"17",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"21",y:"22",width:"16",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"39",y:"22",width:"16",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"57",y:"22",width:"17",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"2",y:"42.3333",width:"17",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"21",y:"42.3333",width:"16",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"39",y:"42.3333",width:"16",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"57",y:"42.3333",width:"17",height:"19",rx:"2",fill:s})]})}),(0,u.jsxs)("defs",{children:[(0,u.jsxs)("filter",{id:"filter0_i_37_26767",x:"0",y:"0",width:"76",height:"59",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,u.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,u.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,u.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,u.jsx)("feOffset",{dy:"-2"}),(0,u.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,u.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),(0,u.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_37_26767"})]}),(0,u.jsx)("clipPath",{id:"clip0_37_26767",children:(0,u.jsx)("rect",{width:"76",height:"59",rx:"2",fill:"white"})})]})]})},ni=({className:e,isSelected:t})=>{const s="currentColor";return(0,u.jsxs)("svg",{className:e,width:"78",height:"59",viewBox:"0 0 74 59",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-selected":t,children:[(0,u.jsx)("g",{filter:"url(#filter0_i_37_26795)",children:(0,u.jsxs)("g",{clipPath:"url(#clip0_37_26795)",children:[(0,u.jsx)("rect",{width:"74",height:"59",rx:"2",fill:"black"}),(0,u.jsx)("rect",{x:"1",y:"2",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"19.25",y:"2",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"37.5",y:"2",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"55.75",y:"2",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"1",y:"7",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"19.25",y:"7",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"37.5",y:"7",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"55.75",y:"7",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"1",y:"13",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"15.6001",y:"13",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"30.2002",y:"13",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"44.7998",y:"13",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"59.3999",y:"13",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"1",y:"26.4",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"15.6001",y:"26.4",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"30.2002",y:"26.4",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"44.7998",y:"26.4",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"59.3999",y:"26.4",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"1",y:"39.8",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"15.6001",y:"39.8",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"30.2002",y:"39.8",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"44.7998",y:"39.8",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"59.3999",y:"39.8",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"1",y:"53.2",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"15.6001",y:"53.2",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"30.2002",y:"53.2",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"44.7998",y:"53.2",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"59.3999",y:"53.2",width:"13.6",height:"12.4",rx:"2",fill:s})]})}),(0,u.jsxs)("defs",{children:[(0,u.jsxs)("filter",{id:"filter0_i_37_26795",x:"0",y:"0",width:"74",height:"59",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,u.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,u.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,u.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,u.jsx)("feOffset",{dy:"-1"}),(0,u.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,u.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),(0,u.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_37_26795"})]}),(0,u.jsx)("clipPath",{id:"clip0_37_26795",children:(0,u.jsx)("rect",{width:"74",height:"59",rx:"2",fill:"white"})})]})]})},ri=({className:e,isSelected:t})=>{const s="currentColor";return(0,u.jsxs)("svg",{className:e,width:"78",height:"59",viewBox:"0 0 78 59",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-selected":t,children:[(0,u.jsx)("g",{filter:"url(#filter0_i_37_26744)",children:(0,u.jsxs)("g",{clipPath:"url(#clip0_37_26744)",children:[(0,u.jsx)("rect",{width:"78",height:"59",rx:"2",fill:"black"}),(0,u.jsx)("rect",{x:"3",y:"3",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"40.479",y:"3",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"3",y:"10.5",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"40.479",y:"10.5",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"3",y:"18",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"40.479",y:"18",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"3",y:"25.5",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"40.479",y:"25.5",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"3",y:"37",width:"22",height:"23",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"28",y:"37",width:"22",height:"23",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"53",y:"37",width:"22",height:"23",rx:"2",fill:s})]})}),(0,u.jsxs)("defs",{children:[(0,u.jsxs)("filter",{id:"filter0_i_37_26744",x:"0",y:"0",width:"78",height:"59",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,u.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,u.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,u.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,u.jsx)("feOffset",{dy:"-3"}),(0,u.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,u.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),(0,u.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_37_26744"})]}),(0,u.jsx)("clipPath",{id:"clip0_37_26744",children:(0,u.jsx)("rect",{width:"78",height:"59",rx:"2",fill:"white"})})]})]})},li="daF_Uu6SkaxFXuW1tXC1",ai="EYnXJxDlzNk5RKfeaA6l",oi="l4pZe9TZNs0_CkdbbHql",ci="bY4mttCZiFb6AXdiyTWl",di="CJ2H1F8hfES_5qDGSRIR",ui="qltNPvInlw2koZA_iXAw",hi="WYdlm2QyNWvODlPu8axP",gi="jCTF4D1f_LLhhvyZGNVe",xi="NsjPzTxR4LC_CYOnhiOA",pi="U0PJm5wLwGsOlehID1n1",mi="C8YxC7zborN_tF5zBizw",ji="KTeqYcBoudbD8TLrozf3",fi="p4RY7s9OaURHFyGHjayV",yi=({isSelected:e,isFocused:t})=>(0,u.jsx)("div",{className:b()(pi,{[mi]:e,[ji]:t})}),vi=({isSelected:e,isFocused:t,percentage:s})=>{const i=Ci(s);return(0,u.jsxs)("div",{className:ci,children:[(0,u.jsx)(yi,{isSelected:!!e,isFocused:!!t}),(0,u.jsx)(o.E,{as:"div",variant:"bodySmall",semanticColor:"textSubdued",children:i})]})},ki=({isSelected:e,label:t,children:s})=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:b()(hi,{[xi]:e}),children:s}),(0,u.jsx)(Mi,{variant:"bodySmall",semanticColor:"textBase",children:t})]}),wi=({onClick:e,children:t})=>(0,u.jsx)("button",{className:ai,onClick:e,tabIndex:-1,children:t}),bi=({value:e,Image:t,label:s,onClick:i})=>{const[n]=si(),r=n===e;return(0,u.jsx)(wi,{onClick:()=>i(e),children:(0,u.jsx)(ki,{isSelected:r,label:s,children:(0,u.jsx)(t,{className:b()(gi,{selected:r}),isSelected:r})})})},Ri=()=>{const[e,t]=si(),{logSelectZoomLevel:s,logReset:n}=(()=>{const{spec:e,logger:t}=(0,Js.r)(Ys.T,{});return{logReset:(0,i.useCallback)((()=>{const s=e.resetButtonFactory().hitSetSettingField();t.logInteraction(s)}),[t,e]),logSelectZoomLevel:(0,i.useCallback)((s=>{const i=e.zoomLevelRadioButtonFactory({identifier:s.toString()}).hitSetSettingField();t.logInteraction(i)}),[t,e])}})(),l=(0,i.useCallback)((e=>{const i=$s(Xs.Gu,"number"==typeof e?e:parseInt(e,10));s(i),t(i)}),[s,t]),c=(0,i.useCallback)((()=>{n(),t(100)}),[n,t]),d=a.Ru.get("web-player.settings.zoom.shortcut-description",(0,u.jsxs)("span",{className:fi,children:[(0,u.jsx)(Zs.U,{children:"mod"}),(0,u.jsx)(Zs.U,{children:"-"})]}),(0,u.jsxs)("span",{className:fi,children:[(0,u.jsx)(Zs.U,{children:"mod"}),(0,u.jsx)(Zs.U,{children:"+"})]}));return(0,u.jsxs)(N,{filterMatchQuery:a.Ru.get("web-player.settings.zoom.title"),children:[(0,u.jsx)(A,{children:a.Ru.get("web-player.settings.zoom.title")}),(0,u.jsx)(y,{filterMatchQuery:a.Ru.get("web-player.settings.zoom.description"),children:(0,u.jsx)(o.E,{semanticColor:"textSubdued",variant:"bodySmall",children:a.Ru.get("web-player.settings.zoom.description")})}),(0,u.jsx)(y,{filterMatchQuery:a.Ru.get("web-player.settings.zoom.shortcut-description"),children:(0,u.jsx)(o.E,{semanticColor:"textSubdued",variant:"bodySmall",children:d})}),(0,u.jsxs)("div",{className:oi,children:[(0,u.jsxs)("div",{className:ui,children:[(0,u.jsx)(bi,{Image:ni,value:70,label:a.Ru.get("web-player.settings.zoom.compact-label"),onClick:l}),(0,u.jsx)(bi,{Image:ii,value:100,label:a.Ru.get("web-player.settings.zoom.balanced-label"),onClick:l}),(0,u.jsx)(bi,{Image:ri,value:130,label:a.Ru.get("web-player.settings.zoom.larger-label"),onClick:l})]}),(0,u.jsx)(Gs.z6,{className:li,orientation:"horizontal",value:e.toString(),onChange:l,"aria-label":a.Ru.get("web-player.settings.zoom.zoom-level-radio-button-label"),children:Xs.Gu.map((t=>(0,u.jsx)(Gs.sx,{className:ci,value:t.toString(),"aria-label":Ci(t),children:({isFocusVisible:s})=>(0,u.jsx)(vi,{percentage:t,isSelected:e===t,isFocused:s})},t)))})]}),(0,u.jsx)("div",{className:di,children:(0,u.jsx)(r.n,{id:"web-player.settings.zoom.reset-button",size:"small",onClick:c,children:a.Ru.get("web-player.settings.zoom.reset-button-label")})})]})},Si=()=>(0,n.NC)(Ge.UuM)?(0,u.jsx)(Ri,{}):null;function Ci(e){return a.Ru.formatNumber(e,{unit:"percent",unitDisplay:"narrow",style:"unit"})}var Mi=(0,Ws.Ay)(o.E).withConfig({displayName:"ZoomLevelSettings___StyledText",componentId:"sc-1mlb5iy-0"})({textAlign:"center"});const Fi=()=>{const{settings:e,setValue:t}=(0,Hs.t0)(),s=(0,i.useRef)(null),[r]=(0,ns.y)(),l=(0,n.NC)(Ge.YSK);return(0,u.jsxs)(re,{outerRef:s,children:[(0,u.jsx)(de,{containerRef:s}),(0,u.jsx)(z,{}),(0,u.jsx)(is,{}),l?(0,u.jsx)(J,{sectionAbove:(0,u.jsx)(es,{})}):(0,u.jsx)(ts,{}),(0,u.jsx)(_t,{settings:e,setValue:t}),(0,u.jsx)(Ps,{}),(0,u.jsxs)(ie,{children:[(0,u.jsx)(se,{}),(0,u.jsx)(rs,{})]}),r?(0,u.jsx)(us,{}):null,(0,u.jsx)(Bt,{}),(0,u.jsx)(Si,{}),(0,u.jsx)(Vs,{}),(0,u.jsx)(Mt,{settings:e,setValue:t}),(0,u.jsx)(Gt,{})]})}},80600:(e,t,s)=>{s.d(t,{i:()=>r});var i=s(30758);class n{constructor(e={}){this.settings={level:e.level||"polite",parent:e.parent||document.body,idPrefix:e.idPrefix||"live-region-",delay:e.delay||0},this.currentRegion=document.createElement("span")}say(e,t=this.settings.delay){this.clearNode(),this.currentRegion=document.createElement("span"),this.currentRegion.id=this.settings.idPrefix+Math.floor(1e4*Math.random());const s="assertive"!==this.settings.level?"status":"alert";this.currentRegion.setAttribute("aria-live",this.settings.level),this.currentRegion.setAttribute("role",s),this.currentRegion.setAttribute("style","clip: rect(1px, 1px, 1px, 1px); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px"),this.settings.parent.appendChild(this.currentRegion),window.setTimeout((()=>{this.currentRegion.textContent=e}),t)}clearNode(){const e=this.settings.parent.querySelector(`[id^="${this.settings.idPrefix}"]`);e&&this.settings.parent.removeChild(e)}}const r=({delay:e,idPrefix:t,level:s,parent:r}={})=>{const l=(0,i.useMemo)((()=>new n({delay:e,idPrefix:t,level:s,parent:r})),[e,t,s,r]);return(0,i.useEffect)((()=>()=>{l.clearNode()}),[l]),l}},75866:(e,t,s)=>{s.d(t,{X:()=>r.X,K:()=>n});var i=s(85387);function n(e){const{search:t}=(0,i.zy)();return new URLSearchParams(t).get("feature-activation")===e}var r=s(66992)},66992:(e,t,s)=>{s.d(t,{X:()=>i});let i=function(e){return e.SmartShuffle="smart-shuffle",e.GroupSessions="group-sessions",e.Blend="blend",e.CollaborativePlaylists="collaborative-playlists",e.Dj="dj",e.VeryHighQualityAudio="very-high-quality-audio",e.LiveEvents="live-events",e}({})},39092:(e,t,s)=>{s.d(t,{j:()=>h});var i=s(30758),n=s(98929),r=s(46710),l=s(13982),a=s(98538),o=s(50210),c=s(21328),d=s(88946);const u={headphoneDevice:null,audioDevice:null,predictedState:null,isOnboarded:!1,currentState:{externalizationEnabled:!1,specificEnabled:!1},contentRestrictions:{specificRestricted:!1,externalizationRestricted:!1,processingCapabilitiesRestricted:!1},toggleTuneHeadphones:null,toggleTuneStudio:null,setFilterState:()=>Promise.resolve()},h=()=>{const e=(0,o.N)(),t=(0,n.jE)(),s=(0,a.l)(),h=(0,i.useMemo)((()=>["puffin-current-device"]),[]),{data:g,isLoading:x,isError:p}=(0,r.I)({queryKey:h,queryFn:async()=>await e.getFilterState(),gcTime:5e3,staleTime:5e3});var m;return m=()=>{t.invalidateQueries({queryKey:h})},(0,d.G)(c.n.UPDATE,m),{deviceFilterState:!s&&g||u,isMaybeHeadphoneDevice:(0,l.lS)(g?.audioDevice),isLoading:x,isError:p}}},1326:(e,t,s)=>{s.d(t,{x:()=>r});var i=s(46710),n=s(56424);function r(){const e=(0,n.t)();return(0,i.I)({queryKey:["settings-formats"],queryFn:()=>e.quality.getFormats(),gcTime:36e5,staleTime:6e5}).data}},40806:(e,t,s)=>{s.d(t,{A:()=>n,j:()=>r});var i=s(72288);let n=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.COMPACT=1]="COMPACT",e}({});const r=()=>(0,i.x)("library-row-mode",n.DEFAULT)},14969:(e,t,s)=>{s.d(t,{d:()=>r});var i=s(30758),n=s(3201);const r=()=>(0,i.useContext)(n.D)},2360:(e,t,s)=>{s.d(t,{y:()=>r});var i=s(30758),n=s(23076);function r(){const e=(0,n.A)(),[t,s]=(0,i.useState)(e.getIsEnabled());(0,i.useEffect)((()=>{const t=e.subscribeIsEnabled(s);return()=>t()}),[e]);return[t,(0,i.useCallback)((t=>e.setIsEnabled(t)),[e])]}},88946:(e,t,s)=>{s.d(t,{G:()=>r});var i=s(30758),n=s(50210);function r(e,t){const s=(0,i.useRef)(t),r=(0,n.N)();s.current=t,(0,i.useEffect)((()=>{const t=r.getFiltersEvents();return t?.addListener(e,(e=>{s.current(e)}))}),[e,r])}}}]);
//# sourceMappingURL=xpui-routes-desktop-settings.js.map