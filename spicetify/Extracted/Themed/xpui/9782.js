"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9782],{39782:(t,n,e)=>{e.d(n,{M:()=>E,t:()=>U});var a=e(30758),o=e(61e3),s=e(93492),i=e(3118),l=e(56266),r=e(90630),c=e(84971),u=e(77612),d=e(6704),f=e(72574);let m=function(t){return t.STAR_WARS="star_wars",t.MANDALORIAN="mandalorian",t}({});const y={[m.STAR_WARS]:[(0,f.Lce)("spotify:playlist:37i9dQZF1DXaUaRhCgtpCo"),(0,f.Lce)("spotify:playlist:69BOXIItwwyxTgdz6flzvU"),(0,f.Lce)("spotify:playlist:37i9dQZF1DWUgUvAPAFxdh")],[m.MANDALORIAN]:[(0,f.Lce)("spotify:album:4xFmHg5dYvaqmn9ZNQpjWL"),(0,f.Lce)("spotify:album:4AOyNiCYswORQsTLxyGYQ4"),(0,f.Lce)("spotify:album:5r9JMvwLPm2HNY5WgBZ8Q7"),(0,f.Lce)("spotify:album:43PIYGro37xm0Y8iXMP5Pc"),(0,f.Lce)("spotify:album:249DL9DzLAZRyxkpOa5w5w"),(0,f.Lce)("spotify:album:71GgO9VtkVN2grqmpZo4Y2"),(0,f.Lce)("spotify:album:4PMsqnolvUGyj1ZRxE1aki"),(0,f.Lce)("spotify:album:4UbdaOH1jy1l9EG9vLFCle"),(0,f.Lce)("spotify:album:2NxNzw1ohPc2Hhjaq2j3tW"),(0,f.Lce)("spotify:album:4xUXCZfINYIV1DdZKomeVx"),(0,f.Lce)("spotify:album:2JtB7K4gMmfC7Ow9Y4pz4b"),(0,f.Lce)("spotify:album:3wuE2JeCx2Vmvk7b1c9fnI"),(0,f.Lce)("spotify:playlist:37i9dQZF1DWTEvftu9yFoF")]};function p(t,n){if(null===n)return null;for(const[e,a]of t)if(a.some((t=>(0,f.B2u)(n,t))))return e;return null}function A(t){const n=Object.entries(y),e=Array.isArray(t)?t:[t];for(const t of e){const e=p(n,t);if(null!==e)return e}return null}var b=e(34668),h=e(75784);function L(){const t=(0,d.q)(),n=(0,b.o)((t=>t?.context.uri??null)),e=(0,b.o)((t=>{const n=t?.item??void 0;return(0,h.v)(n)?n.album.uri:null}));if(null===t)return{surface:null,isViewingVariant:null,isPlayingVariant:null};const{surface:a,uris:o}=t;return{surface:a,isViewingVariant:A(o),isPlayingVariant:A([n,e])}}const g=new(e(57876).fq);function x(t){const n=(0,a.useRef)([]);n.current=Array.isArray(t)?t:[t];return()=>{const t=n.current,e=function(t){return g.create(t,(()=>{const n=new Audio(t);return n.load(),n}))}(t[Math.floor(Math.random()*t.length)]);e.play()}}const _="main-addButton-helmet";var w=e(86070);function C(t,n){return(0,w.jsx)(c._,{src:n?(0,l.b)("images/mando_helmet_felix.png"):(0,l.b)("images/mando_helmet.png"),className:_,width:t,height:t,loading:"lazy"})}function R(t){const{surface:n,isViewingVariant:e,isPlayingVariant:a}=L(),o=(0,i.NC)(r.JKv,{loadingValue:r.WdJ.DISABLED}),s=o!==r.WdJ.DISABLED,c=o===r.WdJ.HELMET_AND_SOUND||o===r.WdJ.FELIX,d=o===r.WdJ.FELIX,f=x(function(t){return t?[(0,l.b)("sounds/mando_this_is_the_way_felix.mp3")]:[(0,l.b)("sounds/mando_this_is_the_way_103.mp3"),(0,l.b)("sounds/mando_this_is_the_way_107.mp3")]}(d));if(n===u.u.ALBUM||n===u.u.TRACK||n===u.u.PLAYLIST){const n=s&&e===m.MANDALORIAN,a=c&&n;return{content:n?C(t,d):null,playSound:a?f:()=>{}}}if(n===u.u.NOW_PLAYING){const n=s&&a===m.MANDALORIAN,e=c&&n;return{content:n?C(t,d):null,playSound:e?f:()=>{}}}return{content:null,playSound:()=>{}}}var N=e(92197),v=e(49567),D=e(58521);let U=function(t){return t.xs="small",t.sm="medium",t.md="large",t}({});const E=a.memo((function({onClick:t,isAdded:n,size:e,disabled:i=!1,isEpisode:l=!1,isMiniPlayer:r=!1,className:c,condensedAll:u,condensed:d,placement:f,showDelayOnHover:m}){const y=n?s.Ru.get("contextmenu.remove-from-your-episodes"):s.Ru.get("web-player.aligned-curation.tooltips.add-to-your-episodes"),p=n?s.Ru.get("remove_from_your_library"):s.Ru.get("save_to_your_library"),A=n?s.Ru.get("web-player.aligned-curation.tooltips.remove-from-liked-songs"):s.Ru.get("web-player.aligned-curation.tooltips.add-to-liked-songs");let b,h=p;switch(l?h=y:r&&(h=A),e){case U.xs:b=16;break;case U.sm:b=24;break;default:b=32}const{setState:L,Icon:g}=(0,D.Q)(n?v.t.CURATED:v.t.UNCURATED,v.A),{content:x,playSound:_}=R(b),C=(0,a.useCallback)((e=>{if(i)return;const{currentTarget:a,detail:o}=e;L(n?v.t.UNCURATED:v.t.CURATED),t(e),n||_(),o>0&&a&&a.blur()}),[i,n,L,t,_]);let E;x&&n&&(E=x);return(0,w.jsx)(N.Zp,{label:h,placement:f,showDelay:m,children:(0,w.jsx)(o.H,{semanticColor:n?"textBrightAccent":"textSubdued",iconOnly:E?()=>E:g,"aria-checked":n,"aria-label":h,onClick:C,"data-testid":"add-button",size:e,className:c,condensedAll:u,condensed:d})})}))},4692:(t,n,e)=>{e.d(n,{o:()=>l});var a=e(30758),o=e(62390),s=e(86070);const i=(0,a.lazy)((async()=>{const{LottieAnimation:t}=await Promise.all([e.e(3638),e.e(7067)]).then(e.bind(e,5379));return{default:t}})),l=(0,a.memo)((function(t){const{data:n}=(0,o.U)({queryKey:["async-lottie-animation",t.path],queryFn:()=>t.path?fetch(t.path).then((t=>t.json())):null,staleTime:6e4,gcTime:6e4,retry:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1});return(0,s.jsx)(i,{...t,animationData:t.animationData??n,path:void 0})}))},58793:(t,n,e)=>{e.d(n,{Q:()=>d});var a=e(30758),o=e(95573),s=e(88308),i=e(4692),l=e(83665),r=e(86070);const c=({size:t="small",animationFilePath:n,className:e,style:a,onLottieAnimationEnd:o})=>{const s=(0,l.k)(t);return(0,r.jsx)("div",{style:{position:"relative",pointerEvents:"none",width:`${s}px`,height:`${s}px`},children:(0,r.jsx)(i.o,{path:n,loop:!1,autoplay:!0,className:e,style:{display:"flex",position:"absolute",...a},onAnimationEnd:o})})};var u=e(77431);function d(t,n){const[e,i]=(0,a.useState)(t),[l,d]=(0,a.useState)(null),f=(0,o.j)(),{[e]:{Icon:m,iconProps:y}}=n;(0,a.useLayoutEffect)((()=>{i(t)}),[t]);const p=(0,a.useCallback)((t=>{if(!l)return null;const{FallbackIcon:n,...e}=l,o=(0,a.useCallback)((()=>{d(null)}),[]);return(0,r.jsx)(u.tH,{fallback:(0,r.jsx)(n,{...t}),onError:()=>d(null),children:(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(n,{...t}),children:(0,r.jsx)(c,{...e,...t,onLottieAnimationEnd:o})})})}),[l]),A=(0,a.useCallback)((t=>(0,r.jsx)(m,{...y,...t})),[m,y]);return{Icon:l?p:A,setState:(0,s.U0)((t=>{i((e=>{const a=n[e].transitions[t];if(a&&!f){const t=n[e].Icon,o=n[e].iconProps;d({...a,FallbackIcon:n=>(0,r.jsx)(t,{...n,...o})})}else d(null);return t}))}),[f,n])}}},6704:(t,n,e)=>{e.d(n,{P:()=>r,q:()=>c});var a=e(30758),o=e(88308),s=e(98628),i=e(86070);const l=(0,a.createContext)(null),r=({children:t,surface:n,uris:e})=>{const a=(0,o.lB)((()=>({surface:n,uris:e?.filter(s.P)??[]})),[n,e]);return(0,i.jsx)(l.Provider,{value:a,children:t})};function c(){return(0,a.useContext)(l)}},49567:(t,n,e)=>{e.d(n,{A:()=>l,t:()=>i});var a=e(30320),o=e(70257),s=e(56266);let i=function(t){return t[t.UNCURATED=0]="UNCURATED",t[t.CURATED=1]="CURATED",t}({});const l={[i.CURATED]:{Icon:a.k,iconProps:{semanticColor:"textBrightAccent"},transitions:{[i.UNCURATED]:{animationFilePath:(0,s.b)("animations/plus-deselected-confetti-white.json"),style:{transform:"scale(2.448)"}}}},[i.UNCURATED]:{Icon:o.P,transitions:{[i.CURATED]:{animationFilePath:(0,s.b)("animations/plus-selected-confetti-white.json"),style:{transform:"scale(2.448)"}}}}}},58521:(t,n,e)=>{e.d(n,{Q:()=>a.Q});var a=e(58793)},77612:(t,n,e)=>{e.d(n,{u:()=>a});let a=function(t){return t.ALBUM="album",t.ARTIST="artist",t.TRACK="track",t.PLAYLIST="playlist",t.NOW_PLAYING="now_playing",t}({})}}]);
//# sourceMappingURL=9782.js.map