"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1408,3838],{74918:(e,t,i)=>{i.d(t,{B:()=>j});var n=i(30758),l=i(1648),s=i(13505),r=i(93492),o=i(92907),a=i(30848),c=i(97194),d=i(47300),u=i(4608),h=i(12367),m=i(26630),p=i(34855),g=i(5119),x=i(46970),f=i(59829),b=i(70777),v=i(86070);const y=(e,t)=>(i,n)=>{n&&e.logInteraction(t.cardLinkFactory({position:0}).hitUiNavigate({destination:n}))},j=({name:e,uri:t,images:i,description:j,authorName:k,authorUri:C,isHero:w=!1,onClick:I=()=>{},testId:N,index:A,requestId:S,color:_,isPlayable:T,variant:F,logCardImpressions:R=!1,leaveTitleVisible:D})=>{let H,U=(0,v.jsx)(m.W,{uri:t}),z=T,E=!1;const L=C||"",M=(0,n.useCallback)((()=>{I?.(L)}),[I,L]);(0,f.c0)(t)&&(z=!0,U=(0,v.jsx)(x.gb,{}),E=!0);const O=D||!("spotify:user:spotify"===C);return H=w?(0,v.jsx)(d.A,{index:A,onClick:I,headerText:e,featureIdentifier:"playlist",uri:t,isDownloadable:!0,playInsteadOfNavigating:E,renderCardImage:()=>(0,v.jsx)(a.M,{isHero:!0,images:i,color:_,FallbackComponent:e=>(0,v.jsx)(l.e,{size:"xxlarge",...e})}),renderSubHeaderContent:(e,t)=>(0,v.jsxs)(c.c,{isHero:!0,children:[(0,v.jsx)(u.t,{children:r.Ru.get("card.tag.playlist")}),j?(0,v.jsx)(b.N,{source:j,LinkComponent:g.N,onLinkClick:y(e,t)}):k&&C&&(0,v.jsx)(h.h,{menu:(0,v.jsx)(p.B,{uri:L}),children:(0,v.jsx)(s.E,{variant:"bodySmall",children:(0,v.jsx)(g.N,{to:L,onClick:M,children:k})})})]}),testId:N,requestId:S,isPlayable:z,logCardImpressions:R}):(0,v.jsx)(o.Z,{variant:F,index:A,onClick:I,headerText:e,featureIdentifier:"playlist",uri:t,isDownloadable:!0,playInsteadOfNavigating:E,renderCardImage:()=>(0,v.jsx)(a.M,{images:i,color:_,FallbackComponent:e=>(0,v.jsx)(l.e,{size:"xxlarge",...e})}),renderSubHeaderContent:(e,t)=>(0,v.jsx)(c.c,{children:j?(0,v.jsx)(b.N,{source:j,LinkComponent:g.N,onLinkClick:y(e,t)}):k&&(0,v.jsx)("span",{children:r.Ru.get("search.playlist-by",k)})}),testId:N,requestId:S,isPlayable:z,logCardImpressions:R,showTitle:O}),(0,v.jsx)(h.h,{menu:U,children:H})}},35393:(e,t,i)=>{i.d(t,{p:()=>d});var n=i(2169),l=i(19549),s=i(15936),r=i(81994),o=i(42262),a=i(39876),c=i(86070);const d=({index:e,logShelfImpressions:t=!1,...i})=>{const{id:d,seeAllUri:u}=i,{onClickShelfTitle:h,onClickShelfSeeAll:m,spec:p}=(0,l.w)({seeAllUri:u,index:e,id:d}),g=(0,a.t)(p),x=(0,s.a)(u),f=(0,r.O)(u);return(0,c.jsx)(o.r,{spec:p,children:(0,c.jsx)(n.$,{...i,elementRef:t?g:void 0,onClickShelfTitle:()=>{h(),x({category:s.w.TitleClicks}),f({category:r.U.TitleClicks})},onClickShelfSeeAll:()=>{m(),x({category:s.w.ShowAll}),f({category:r.U.ShowAll})}})})}},19549:(e,t,i)=>{i.d(t,{w:()=>r});var n=i(30758),l=i(62187),s=i(82362);const r=({seeAllUri:e,index:t,id:i})=>{const{spec:r,logger:o}=(0,s.r)(l.f,{data:{identifier:i,position:t,uri:e??""}}),a=(0,n.useCallback)((()=>{const e=r.swipeUiReveal();o.logInteraction(e)}),[o,r]),c=(0,n.useCallback)((e=>{const t=r.shelfHeaderFactory().shelfCarouselControlsFactory(),i="next"===e?t.shelfCarouselControlsNextFactory():t.shelfCarouselControlsPreviousFactory();o.logInteraction(i.hitUiReveal())}),[o,r]);return{onClickShelfTitle:(0,n.useCallback)((()=>{const t=r.shelfHeaderFactory().shelfHeaderTitleFactory().hitUiNavigate({destination:e??""});o.logInteraction(t)}),[o,e,r]),onClickShelfSeeAll:(0,n.useCallback)((()=>{const t=r.shelfHeaderFactory().shelfHeaderSeeAllFactory().hitUiNavigate({destination:e??""});o.logInteraction(t)}),[o,e,r]),onSwipe:a,onClickCarouselControls:c,spec:r}}},35228:(e,t,i)=>{i.r(t),i.d(t,{REDIRECT_BASE:()=>X,default:()=>ee});var n=i(30758),l=i(97500),s=i.n(l),r=i(43108),o=i(93492),a=i(44451),c=i(64359),d=i(8030),u=i(668),h=i(94201),m=i(4378),p=i(11951),g=i(49022),x=i(26101),f=i(98846),b=i(86070);const v=({image:e,color:t=u.vyq,title:i})=>{const n=void 0===e?h.K.SMALL:h.K.DEFAULT,l=e?.custom?.sizes?.flatMap((e=>e.uri?[{url:e.uri,width:e.width,height:e.height}]:[]))??(e?.uri?[{url:e?.uri}]:[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(h.z,{backgroundImages:l,backgroundColor:t,size:n,children:[(0,b.jsx)(p.h,{children:i?(0,b.jsx)(g.X,{text:i}):null}),(0,b.jsx)(m.Y,{children:i?(0,b.jsx)(x.mm,{children:i}):null})]}),(0,b.jsx)(f.f,{color:t})]})};var y=i(72574),j=i(35393),k=i(50782),C=i(74918);const w=e=>{if("number"==typeof e){return new Date(1e3*e).toISOString()}return null};const I=(e,t,i)=>{if(void 0===e.id)return null;const n=t.map(((e,t)=>function(e,t){const i=e.component?.id,n=e.id;if(void 0===i||void 0===n)return null;const l=e.events?.click?.data?.uri,s=e.images?.main?.uri,r=s?[{url:s}]:[];switch(i){case"culturalmoments:mediumEpisodeCard":case"culturalmoments:episodeCardActionsMedium":return void 0===l?null:(0,b.jsx)(k.U,{uri:l,name:e.text?.title??"",images:r,showImages:r,description:e.text?.description??e.text?.subtitle??"",durationMilliseconds:(o=e.custom?.duration,"number"==typeof o?o:0),releaseDate:w(e.custom?.releaseDate),resume_point:null,isExplicit:!1,is19PlusOnly:!1,sharingInfo:null,index:t},n);case"culturalmoments:playlistCard":case"culturalmoments:playlistCardActionsMedium":return void 0===l?null:(0,b.jsx)(C.B,{uri:l,name:e.text?.title??"",images:r,description:e.text?.description??"",authorName:e.text?.subtitle??"",index:t},n);default:return null}var o}(e,t))).flatMap((e=>e?[e]:[]));if(0===n.length)return null;const l=(0,y.o_h)(e.events?.click?.data?.uri??"")?.toURLPath(!0);return(0,b.jsx)(j.p,{title:e.text?.title??"",total:n.length,seeAllUri:l,index:i,id:e.id,seeAllLabel:e.text?.accessory,children:n},e.id)};var N=i(50154),A=i(13505),S=i(75635),_=i(56266),T=i(5119);const F=["ar","az","bg","cs_CZ","da","de","ee","el","en","es","es_mx","fi","fp","fr","fr_ca","he","hu","id","it","ja","ko","lt","lv","ms","mt","nb","nl","pl","pt","pt_br","ro","ru","sk","sl","sv","th_TH","tr","vi_VN","zh_HANS","zh_HANT"],R=["af","ar","am","az","be","bg","bn","bs","ca","cr","cs_CZ","da","de","el","en","es","es_419","et","eu","fa","fi","fp","fr","fr_ca","gl","gu","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","my","nb","ne","nl","pa","pl","pt","pt_br","ro","ru","si","sk","sl","sq","sr","sv","sw","ta","te","th_TH","tr","ua","ur","uz","vi_VN","zh_HANS","zh_HANT","zh_hk","zu"],D=e=>`images/download-badges/google/${R.includes(e)?e:"int"}.svg`;var H=i(99802),U=i(39876);const z="MT6jAR25XYfoarcSqHDd",E="IYZA3J2VTMydirxq_bdg",L="t6RJK1eND2uPmFYOi32l";var M=function(e){return e.ANDROID="https://play.google.com/store/apps/details?id=com.spotify.music",e.IOS="https://apps.apple.com/app/spotify-music/id324684580",e}(M||{});const O=({spec:e,model:t})=>{const i=o.Ru.getLocaleForTranslation(),n=(0,H.s)(),l=(0,U.t)(e),r=t.text?.title,a=t.text?.subtitle;if(void 0===r&&void 0===a)return null;const c=t=>{if(t===M.ANDROID){const i=e.googleBadgeFactory().hitNavigateToWebviewUri({destination:t});n.logInteraction(i)}else{const i=e.appleBadgeFactory().hitNavigateToWebviewUri({destination:t});n.logInteraction(i)}};return(0,b.jsxs)(N.a,{variant:"tinted",style:{width:600},ref:l,"data-testid":"unsupported-message",children:[(0,b.jsx)(A.E,{as:"p",variant:"bodyMediumBold",style:{marginBottom:S.v4},children:r}),(0,b.jsx)(A.E,{as:"p",variant:"bodySmall",style:{marginBottom:S.CD},children:a}),(0,b.jsxs)("div",{className:s()(L),children:[(0,b.jsx)(T.N,{to:M.IOS,target:"_blank",onClick:()=>c(M.IOS),children:(0,b.jsx)("img",{src:(0,_.b)((d=i,`images/download-badges/apple/${F.includes(d)?d:"int"}.svg`)),alt:o.Ru.get("web-player.cultural-moments.unsupported.appleAppStoreAlt"),className:z})}),(0,b.jsx)(T.N,{to:M.ANDROID,target:"_blank",onClick:()=>c(M.ANDROID),children:(0,b.jsx)("img",{src:(0,_.b)(D(i)),alt:o.Ru.get("web-player.cultural-moments.unsupported.googlePlayStoreAlt"),className:s()(z,E)})})]})]});var d},B=(e,t)=>{const i=(e=>{const t=Array();let i,n=Array();return e.forEach((e=>{"culturalmoments:sectionHeaderWithAction"===e.component?.id?(i&&0!==n.length&&t.push({heading:i,components:n}),i=e,n=Array()):i&&("culturalmoments:carousel"===e.component?.id||"glue2:carousel"===e.component?.id?e.children?.forEach((e=>{n.push(e)})):n.push(e))})),i&&0!==n.length&&t.push({heading:i,components:n}),t})(e),n=(e=>e.find((e=>"culturalmoments:unavailableBanner"===e.component?.id)))(e);return(0,b.jsxs)(b.Fragment,{children:[n?(0,b.jsx)(O,{spec:t,model:n},n.component?.id):null,i.map(((e,t)=>I(e.heading,e.components,t)))]})};var P=i(91621),V=i(44816);const q=(e,t)=>{const i=new Intl.DateTimeFormat;return e.build().withHost(V.LG).withPath("/hub").withQueryParameters({id:t,userHasRiF:!1,clientTimezone:i.resolvedOptions().timeZone??""}).withoutMarket().withEndpointIdentifier("cultural-moment/hub").send()};var Z=i(43080),W=i(82362);const Q="B9Q1L66F7wl4eUMgp4Lg",Y="gtqpWbwIV4PTEp8Q0ZW4",K="edYsLe1QCBdzPglEiROZ",$=({uri:e,id:t})=>{const{data:i,error:l,loading:u}=(0,Z.Z)(q,[t]),{spec:h,UBIFragment:m}=(0,W.r)(r.j,{data:{identifier:e,uri:e}}),p=(0,n.useMemo)((()=>h.shelvesFactory()),[h]),g=(0,n.useMemo)((()=>h.mobilePromptFactory()),[h]),x=i?.body.hubViewData?.body,f=i?.body.hubViewData?.header;if(null===i||void 0===x||void 0===f||u||null!==l)return(0,b.jsx)(d.LoadingPage,{hasError:null!==l,errorMessage:o.Ru.get("error.generic")});const y=i.body.hubViewData?.title,j=f?.text?.title;return(0,b.jsxs)(m,{spec:h,children:[(0,b.jsx)(c.Q,{children:y??""}),j?(0,b.jsx)("div",{className:Q,children:(0,b.jsx)(v,{title:f?.text?.title,image:f.images?.background})}):null,(0,b.jsx)(m,{spec:p,children:(0,b.jsxs)("div",{className:K,children:[j&&(0,b.jsx)(a.K,{}),(0,b.jsx)("div",{className:s()("contentSpacing",Y),children:(0,b.jsx)(P._,{children:x?B(x,g):null})})]})})]})};var J=i(60841);const X="https://accounts.spotify.com/login",G=()=>{const e=window.location.href;return window.location.href=`${X}?continue=${encodeURIComponent(e)}`,null},ee=e=>(0,J.V)()?(0,b.jsx)(G,{}):(0,b.jsx)($,{...e})},91621:(e,t,i)=>{i.d(t,{_:()=>d});var n=i(30758),l=i(75773),s=i(97500),r=i.n(s);const o="eqw9lvuoZHrkWMTdyTpY",a="lb08f71wES9AQnKx6e0R";var c=i(86070);const d=(0,n.memo)((function(e){const{triggerOnInitialLoad:t=!1,onReachBottom:i,showScrollbar:s=!0,horizontalScroll:d=!1,className:u}=e,{ref:h,inView:m}=(0,l.Wx)({initialInView:t});return(0,n.useLayoutEffect)((()=>{m&&i&&i()}),[m,i]),(0,c.jsxs)("div",{className:r()({[a]:!s,[o]:d},u),"data-testid":"infinite-scroll-list",children:[e.children,(0,c.jsx)("div",{ref:h})]})}))},98846:(e,t,i)=>{i.d(t,{f:()=>o,z:()=>r});var n=i(30758),l=i(668),s=i(7180);function r(e,t=l.l0o){const i=(0,s.as)();return(0,n.useEffect)((()=>(e&&i((0,s.Mo)(e)),()=>{i((0,s.Hf)())})),[e,i]),e||t}const o=({color:e,fallbackColor:t})=>(r(e,t),null)}}]);
//# sourceMappingURL=xpui-routes-cultural-moment-hub.js.map