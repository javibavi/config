"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1408,6022],{80918:(e,t,n)=>{n.d(t,{X:()=>C});var r=n(30758),i=n(62411),o=n(49263),s=n(93492),l=n(12032),a=n(56695),u=n(71338),c=n(56116),d=n(48975),m=n(24395),f=n(21053),x=n(49593),S=n(68055),w=n(80687),h=n(86070);const E=({currentUserUri:e,uri:t,name:n,divider:m,onBlock:E})=>{const C=(0,c.W)(),p=!(0,d.n)(),{isBlocked:A,blockUser:g,unblockUser:v}=function(e,t,n,o){const[a,c]=(0,r.useState)(!1),d=(0,i.wA)(),m=(0,f.a)(),h=(0,w.A)(),{enqueueSnackbar:E}=(0,u.d)();return(0,r.useEffect)((()=>{e&&(0,S.zP)(h,{currentUserUri:e,uri:t}).then((e=>{if(m()){if(200!==e.status)throw new Error("Invalid response from socialgraph");c(e.body?.[0]?.is_dismissed||!1)}}))}),[e,t,m,h]),{isBlocked:a,blockUser:()=>{e&&d((0,l.zj)(t,n,o))},unblockUser:async()=>{e&&(await(0,S.kV)(x.n.getInstance(),{currentUserUri:e,uri:t}),E(s.Ru.get("feedback.unblock-user")))}}}(e,t,n,E),k=(0,r.useCallback)((async()=>{C({targetUri:t,intent:A?"unblock":"block",type:"click"}),A?await v():await g()}),[C,t,g,v,A]);if(!e||e===t)return null;const b=A?s.Ru.get("contextmenu.unblock"):s.Ru.get("contextmenu.block");return(0,h.jsx)(a.D,{role:"menuitem",divider:m,disabled:p,onClick:k,leadingIcon:(0,h.jsx)(o.r,{semanticColor:"textSubdued",size:"small"}),children:b})},C=r.memo((function(e){return(0,h.jsx)(m.pZ,{value:"block-user",children:(0,h.jsx)(E,{...e})})}))},34855:(e,t,n)=>{n.d(t,{B:()=>L});var r=n(30758),i=n(62411),o=n(93492),s=n(55669),l=n(80918),a=n(42026),u=n(33650),c=n(56695),d=n(24395),m=n(86070);const f=r.memo((function({onClick:e,divider:t,canEdit:n}){return e&&n?(0,m.jsx)(d.pZ,{value:"edit-profile",children:(0,m.jsx)(c.D,{role:"menuitem",divider:t,onClick:e,leadingIcon:(0,m.jsx)(u.G,{semanticColor:"textSubdued",size:"small"}),children:o.Ru.get("contextmenu.edit-profile")})}):null}));var x=n(27508),S=n(96869),w=n(8950),h=n(56116),E=n(48975),C=n(306),p=n(98962),A=n(82362);const g=()=>{},v=({uri:e,divider:t,onRemoveCallback:n=g})=>{const{spec:s,logger:l}=(0,A.r)(w.F,{data:{uri:e}}),a=(0,h.W)(),u=!(0,E.n)(),d=(0,i.d4)(p.Ht).user,[f,v]=(0,C.Y)(e),k=(0,r.useCallback)((()=>{const t=s.followButtonFactory();a({targetUri:e,intent:f?"unfollow":"follow",type:"click"}),f?(v(!1),l.logInteraction(t.hitUnfollow({itemToBeUnfollowed:e})),n(e)):(v(!0),l.logInteraction(t.hitFollow({itemToBeFollowed:e})))}),[f,l,a,n,v,s,e]);if(d&&d.uri===e)return null;const b=f?o.Ru.get("contextmenu.unfollow"):o.Ru.get("contextmenu.follow");return(0,m.jsx)(c.D,{role:"menuitem",testid:"follow-user-context-menu-item",divider:t,disabled:u,onClick:k,leadingIcon:f?(0,m.jsx)(x.M,{semanticColor:"textBrightAccent",size:"small"}):(0,m.jsx)(S.h,{semanticColor:"textSubdued",size:"small"}),children:b})},k=r.memo((function(e){return(0,m.jsx)(d.pZ,{value:"follow-user",children:(0,m.jsx)(v,{...e})})}));var b=n(97395),D=n(5879),T=n(12032),O=n(90843),U=n(94822),_=n(75788),y=n(33887);function R({userUri:e}){const{currentSession:t}=(0,U.D)(),n=(0,_.d)(),s=(0,i.wA)(),l=(0,r.useCallback)((()=>{const n=(0,y.Bj)(t?.sessionMembers??[],e);n&&s((0,T.A9)(O.EL.REMOVE_PARTICIPANT,void 0,n))}),[t?.sessionMembers,s,e]),a=(0,y.kt)(n,e);return t?.active&&e&&a?(0,m.jsx)(c.D,{role:"menuitem",onClick:l,leadingIcon:(0,m.jsx)(D.f,{semanticColor:"textSubdued",size:"small"}),children:o.Ru.get("web-player.social-connect.kick-users.remove-the-user")}):(0,m.jsx)(m.Fragment,{})}var j=n(68055),I=n(43080),N=n(69611);const L=r.memo((function({uri:e,onEditProfileCallback:t}){const{user:n}=(0,i.d4)(p.Ht),{spec:r}=(0,N.o)(e),{data:u,loading:c}=(0,I.Z)(j.E$,[{uri:e}]);return c?null:u?(0,m.jsx)(d.pZ,{value:"user",children:(0,m.jsxs)(s.W,{children:[(0,m.jsx)(k,{uri:e}),(0,m.jsx)(R,{userUri:e}),(0,m.jsx)(l.X,{uri:u.uri,name:u.name,currentUserUri:n?.uri}),(0,m.jsx)(f,{onClick:t,canEdit:!(e!==n?.uri||u.edit_image_disabled&&u.edit_name_disabled)}),(0,m.jsx)(b.P,{spec:r,uri:e,canReportUser:!u.report_abuse_disabled,currentUserUri:n?.uri}),(0,m.jsx)(a.m,{spec:r,uri:e,displayText:o.Ru.get("contextmenu.share.copy-profile-link")})]})}):null}))},89370:(e,t,n)=>{n.d(t,{p:()=>b});var r=n(30758),i=n(97500),o=n.n(i),s=n(13505),l=n(555),a=n(90591),u=n(42949);const c="(min-width: 0px)",d="(min-width: 0px) and (max-width: 767px)",m="(min-width: 768px)",f="(min-width: 768px) and (max-width: 1023px)",x="(min-width: 1024px)",S="(min-width: 1024px) and (max-width: 1279px)",w="(min-width: 1280px)",h="(min-width: 1280px) and (max-width: 1919px)",E="(min-width: 1920px)",C="FvfvGU3jvHRskUU9v9_8",p="Q9AlbZn2EGzy3MTWXa8X",A="mxmxS0y8LiwSs5nueKPT",g="GXxVAveNFStY3pBI_NO4",v="eHcXC2s97InYP7rMNT0H";var k=n(86070);const b=(0,r.memo)((function(e){const{children:t,message:n,title:r,linkTitle:i,linkTo:b,onClick:D,renderInline:T=!1}=e,{isXSOnly:O,isSMOnly:U}={isXS:(0,u.U)(c),isXSOnly:(0,u.U)(d),isSM:(0,u.U)(m),isSMOnly:(0,u.U)(f),isMD:(0,u.U)(x),isMDOnly:(0,u.U)(S),isLG:(0,u.U)(w),isLGOnly:(0,u.U)(h),isXL:(0,u.U)(E)},_=O||U;return(0,k.jsxs)("section",{className:o()(C,{[p]:T}),children:[t,(0,k.jsx)(s.E,{as:"h1",variant:_?"titleSmall":"titleMedium",className:g,children:r}),(0,k.jsx)(s.E,{variant:_?"bodySmall":"bodyMedium",className:v,children:n}),i&&(b||D)&&(0,k.jsx)(l.$,{colorSet:"invertedLight",className:A,href:b,onClick:D,component:a.v,children:i})]})}))},90637:(e,t,n)=>{n.d(t,{H:()=>s,g:()=>l});var r=n(30758),i=n(86070);const o=(0,r.createContext)(null);function s({children:e,playlist:t,metadataOptions:n,contentsOptions:s}){return(0,i.jsx)(o.Provider,{value:(0,r.useMemo)((()=>({playlist:t,metadataOptions:n,contentsOptions:s})),[s,n,t]),children:e})}function l(){const e=(0,r.useContext)(o);if(null===e)throw new Error("Trying to use 'ListPlatformDataContext' without 'ListPlatformDataProvider'!");return e}},26969:(e,t,n)=>{n.d(t,{d:()=>s,j:()=>l});var r=n(30758),i=n(86070);const o=(0,r.createContext)({setFilterPredicate:()=>{throw new Error("setFilterPredicate must be used within a ListPlatformFilterPredicatesProvider")},filterPredicate:null}),s=(0,r.memo)((function({children:e}){const[t,n]=(0,r.useState)(null),s=(0,r.useMemo)((()=>({filterPredicate:t,setFilterPredicate:n})),[t]);return(0,i.jsx)(o.Provider,{value:s,children:e})}));function l(){return(0,r.useContext)(o)}},80563:(e,t,n)=>{n.d(t,{K:()=>d,l:()=>c});var r=n(30758),i=n(90637),o=n(16026),s=n(27653),l=n(82974),a=n(86070);const u=(0,r.createContext)(null);function c({children:e}){const{playlist:t,contentsOptions:n}=(0,i.g)(),c=(0,s.m)(),d=(0,r.useCallback)((async(e,r)=>await c.getContents(t.metadata.uri,{...n,offset:e,limit:r})),[c,n,t.metadata.uri]),m=(0,o.E)({nrItems:t.contents.totalLength,fetch:d,limit:50,initialItems:t.contents.items});return(0,l.H)(t.metadata.uri,m.invalidateCache),(0,a.jsx)(u.Provider,{value:m,children:e})}function d(){const e=(0,r.useContext)(u);if(null===e)throw new Error("Trying to use 'ListPlatformItemsContext' without 'ListPlatformItemsProvider'!");return e}},53629:(e,t,n)=>{n.d(t,{Z:()=>l,k:()=>a});var r=n(30758),i=n(15218),o=n(86070);const s=(0,r.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a ListPlatformSortProvider")},sortState:null}),l=r.memo((function({uri:e,children:t}){return(0,o.jsx)(i.E,{uri:e,defaultState:null,sortContext:s,children:t})}));function a(){return(0,r.useContext)(s)}},9254:(e,t,n)=>{n.d(t,{W:()=>w});var r=n(30758),i=n(93492),o=n(58708),s=n(8030),l=n(464),a=n(90637),u=n(26969),c=n(80563),d=n(53629);var m=n(10312),f=n(27653),x=n(86070);const S=({children:e,uri:t})=>{const n=(0,f.m)().getCapabilities(),{filter:c}=(0,r.useContext)(l.g),{sortState:S}=(0,d.k)(),{filterPredicate:w}=(0,u.j)(),{metadataOptions:h,contentsOptions:E}=((e,t,n)=>(0,r.useMemo)((()=>({metadataOptions:{decorateFormatListData:!0,withSync:!0,hydrateCollaboratorsWithMembers:!0},contentsOptions:{offset:0,limit:25,filter:e,sort:t??void 0,filterPredicates:n?[n]:[]}})),[e,t,n]))(c,S,w),{data:C,isLoading:p,isError:A}=(0,m.W)(t,h,E);return!C||p?(0,x.jsx)(s.LoadingPage,{hasError:A,errorMessage:i.Ru.get("error.not_found.title.playlist"),loadOffline:n.canModifyOffline}):C.metadata.permissions&&!C.metadata.permissions.canView?(0,x.jsx)(o.Z,{uri:t}):(0,x.jsx)(a.H,{playlist:C,metadataOptions:h,contentsOptions:E,children:e})},w=({children:e,uri:t})=>(0,x.jsx)(l.s,{uri:t,children:(0,x.jsx)(u.d,{children:(0,x.jsx)(d.Z,{uri:t,children:(0,x.jsx)(S,{uri:t,children:(0,x.jsx)(c.l,{children:e})})})})})},306:(e,t,n)=>{n.d(t,{Y:()=>a});var r=n(30758),i=n(72574),o=n(12469),s=n(37395),l=n(9043);const a=e=>{const t=(0,s.f)(),[n,a]=(0,r.useState)(!1);if(!(0,i.APS)(e))throw new Error(`Expected a Spotify uri in format 'spotify:user:***', got "${e}"`);const u=(0,r.useCallback)((r=>r&&!n?t.followUsers([e]):!r&&n?t.unfollowUsers([e]):Promise.resolve()),[t,n,e]);return(0,r.useEffect)((()=>{a(!1),t.isFollowing([e]).then((t=>{a(t[e]??!1)}))}),[t,e]),(0,l.N)(o.mc.OPERATION_COMPLETE,(t=>{t.data.uris.includes(e)&&!t.data.error&&(t.data.operation===o.JK.FOLLOW_USER?a(!0):t.data.operation===o.JK.UNFOLLOW_USER&&a(!1))})),[n,u]}},25983:(e,t,n)=>{n.d(t,{D:()=>a});var r=n(30758);const i="NkWIcfgnWR9AXfikmWai",o="OvmkrxKmI82x4jlgEZG0";var s=n(87732),l=n(86070);const a=r.memo((function({onClick:e,children:t}){return(0,l.jsx)("button",{"data-testid":"clickable-timestamp",className:o,onClick:()=>{const n=u(t),r=1e3*n.split(":").reverse().reduce(((e,t,n)=>e+parseInt(t,10)*Math.pow(60,n)),0);e(r)},children:(0,l.jsx)(s.Z,{className:i,variant:"ballad",children:t})})}));function u(e){let t="";return r.Children.map(e,(e=>{"string"==typeof e||"number"==typeof e?t+=e:r.isValidElement(e)&&e.props.children&&(t+=u(e.props.children))})),t}},16944:(e,t,n)=>{n.d(t,{d:()=>S});var r=n(30758),i=n(32485),o=n(26918),s=n(93492),l=n(28525),a=n(53629),u=n(82619),c=n(27653),d=n(86070);const m=r.memo((function({sortOptions:e,defaultSortField:t,enableViewModeMenu:n}){const i=(0,c.m)(),{canSort:o}=i.getCapabilities(),{sortState:m,setSortState:f}=(0,a.k)(),x=(0,r.useCallback)((e=>{const t=u.nw[e];f((0,u.Wc)(t,m))}),[f,m]),S=e.map((e=>u.kA[e]));"custom-order"===t&&S.unshift({key:"custom-order",value:s.Ru.get("sort.custom-order")});const w=u.kA[m?.field??t];return o?(0,d.jsx)(l.g,{options:S,onSelect:x,selected:w,sortOrder:(0,u.Qi)(m?.order??null),heading:s.Ru.get("drop_down.sort_by"),enableViewModeMenu:n}):null}));var f=n(82362);const x="cRlDGz_DCN_UOCt4Khg1",S=r.memo((function({filterPlaceholder:e,sortOptions:t,defaultSortField:n,enableViewModeMenu:s=!1}){const l=(0,c.m)(),{canSort:a,canFilter:u}=l.getCapabilities(),{spec:S,logger:w}=(0,f.r)(i.E,{}),h=(0,r.useCallback)((()=>{w.logInteraction(S.filterFieldFactory().keyStrokeFilter())}),[w,S]),E=(0,r.useCallback)((()=>{w.logInteraction(S.filterFieldFactory().hitClearFilter())}),[w,S]);return(0,d.jsxs)("div",{className:x,children:[u?(0,d.jsx)(r.Suspense,{fallback:null,children:(0,d.jsx)(o.S,{placeholder:e,onFilter:h,onClear:E})}):null,a?(0,d.jsx)(m,{sortOptions:t,defaultSortField:n,enableViewModeMenu:s}):null]})}))},37723:(e,t,n)=>{n.d(t,{g:()=>r.g});var r=n(90637)},82619:(e,t,n)=>{n.d(t,{Ap:()=>w,Qi:()=>m,Wc:()=>u,g6:()=>S,hK:()=>h,kA:()=>c,nw:()=>d});var r=n(93492),i=n(33279),o=n(28954);const s=[o.nw.ADDED_AT,o.nw.PUBLISH_DATE],l=e=>s.includes(e)?o.xB.DESC:o.xB.ASC,a={[o.xB.ASC]:o.xB.DESC,[o.xB.DESC]:o.xB.ASC},u=(e,t)=>null===e?null:t?.field!==e?{field:e,order:l(e)}:{field:e,order:a[t.order]},c={[o.nw.TITLE]:{key:"title",get value(){return r.Ru.get("sort.title")}},[o.nw.ARTIST]:{key:"artist",get value(){return r.Ru.get("sort.artist")}},[o.nw.ALBUM]:{key:"album",get value(){return r.Ru.get("sort.album")}},[o.nw.ADDED_BY]:{key:"added-by",get value(){return r.Ru.get("sort.added-by")}},[o.nw.ADDED_AT]:{key:"added-at",get value(){return r.Ru.get("collection.sort.recently-added")}},[o.nw.DURATION]:{key:"duration",get value(){return r.Ru.get("sort.duration")}},[o.nw.SHOW_NAME]:{key:"show-name",get value(){return r.Ru.get("collection.sort.creator")}},[o.nw.PUBLISH_DATE]:{key:"publish-date",get value(){return r.Ru.get("tracklist.header.release-date")}},"custom-order":{key:"custom-order",get value(){return r.Ru.get("sort.custom-order")}}},d={title:o.nw.TITLE,artist:o.nw.ARTIST,album:o.nw.ALBUM,"added-by":o.nw.ADDED_BY,"added-at":o.nw.ADDED_AT,duration:o.nw.DURATION,"show-name":o.nw.SHOW_NAME,"publish-date":o.nw.PUBLISH_DATE,"custom-order":null};function m(e){return null===e?i.H.NONE:e===o.xB.ASC?i.H.ASC:i.H.DESC}const f={[i.$.TITLE_AND_ARTIST]:[o.nw.TITLE,o.nw.ARTIST],[i.$.TITLE]:[o.nw.TITLE],[i.$.ADDED_BY]:[o.nw.ADDED_BY],[i.$.ADDED_AT]:[o.nw.ADDED_AT],[i.$.DURATION]:[o.nw.DURATION],[i.$.ARTIST]:[o.nw.ARTIST],[i.$.ALBUM]:[o.nw.ALBUM],[i.$.ALBUM_OR_PODCAST]:[o.nw.ALBUM,o.nw.SHOW_NAME],[i.$.ALBUM_OR_SHOW]:[o.nw.ALBUM,o.nw.SHOW_NAME],[i.$.ACTIONS]:[],[i.$.RELEASE_DATE]:[o.nw.PUBLISH_DATE],[i.$.INDEX]:[],[i.$.PLAYS]:[],[i.$.ADD]:[],[i.$.EVENT_DATE]:[],[i.$.EVENT_INFO]:[],[i.$.CONCERT]:[],[i.$.CONCERT_VENUE]:[],[i.$.TITLE_AND_AUTHOR]:[o.nw.TITLE],[i.$.AUTHOR]:[],[i.$.BPM]:[],[i.$.KEY]:[],[i.$.VIBE]:[]},x={[i.H.NONE]:null,[i.H.DESC]:o.xB.DESC,[i.H.ASC]:o.xB.ASC,[i.H.SECONDARY_DESC]:o.xB.DESC,[i.H.SECONDARY_ASC]:o.xB.ASC},S=e=>e.filter((e=>f[e].length>0)),w=(e,t)=>{const n=e.find((e=>t?.field&&f[e].includes(t.field)));if(!n||!t?.field)return{column:null,order:i.H.ASC};return f[n].indexOf(t.field)>0?{column:n,order:t.order===o.xB.ASC?i.H.SECONDARY_ASC:i.H.SECONDARY_DESC}:{column:n,order:t.order===o.xB.ASC?i.H.ASC:i.H.DESC}},h=(e,t,n)=>{const r=f[e].length>1?5:3;let o=null,s=null;if(e===t.column){let l=(t.order+1)%r;l!==i.H.NONE||n||(l+=1);const a=[i.H.SECONDARY_ASC,i.H.SECONDARY_DESC].includes(l)?1:0;o=f[e][a],s=x[l]}else o=f[e][0],s=x[i.H.ASC];return null===s?null:{field:o,order:s}}},98846:(e,t,n)=>{n.d(t,{f:()=>l,z:()=>s});var r=n(30758),i=n(668),o=n(7180);function s(e,t=i.l0o){const n=(0,o.as)();return(0,r.useEffect)((()=>(e&&n((0,o.Mo)(e)),()=>{n((0,o.Hf)())})),[e,n]),e||t}const l=({color:e,fallbackColor:t})=>(s(e,t),null)},37395:(e,t,n)=>{n.d(t,{f:()=>o});var r=n(68334),i=n(18308);const o=()=>(0,i.N)(r.t)},9043:(e,t,n)=>{n.d(t,{N:()=>o});var r=n(30758),i=n(37395);const o=(e,t)=>{const n=(0,i.f)();(0,r.useEffect)((()=>n.getEvents().addListener(e,t)),[e,n,t])}},26239:(e,t,n)=>{n.d(t,{l:()=>o});var r=n(30758),i=n(36663);function o(e,t){const n=(0,i.f)(),o=(0,r.useRef)(t);(0,r.useLayoutEffect)((()=>{o.current=t})),(0,r.useEffect)((()=>n.getEvents().addListener(e,(e=>o.current(e)))),[e,n])}},33887:(e,t,n)=>{n.d(t,{Bj:()=>i,T4:()=>o,kt:()=>s});var r=n(72574);function i(e,t){if(!t)return null;const n=(0,r.o_h)(t);if(!n||!(0,r.APS)(n))return null;const i=(0,r.XIp)(n.username);return e.find((e=>e.username===i))??null}function o(e){const t=e.getCurrentSession(),n=t?.sessionOwnerId;return n?t.sessionMembers.find((e=>e.id===n))??null:null}function s(e,t){if(!t||!function(e){return e.getCurrentSession()?.isSessionOwner??!1}(e))return!1;const n=e.getCurrentSession(),r=i(n?.sessionMembers??[],t),s=o(e);return!!r&&r?.username!==s?.username}}}]);
//# sourceMappingURL=6022.js.map