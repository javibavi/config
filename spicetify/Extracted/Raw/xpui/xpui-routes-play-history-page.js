"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1460],{19146:(e,i,s)=>{s.d(i,{u:()=>x});var t=s(97500),a=s.n(t),r=s(40638),n=s(78245),l=s(62355),c=s(56116),o=s(22232),d=s(99802),u=s(22810),m=s(86070);const x=({uri:e,src:i,playAriaLabel:s,onClick:t,isPlaying:x,isActive:y,isLocked:p,isEpisode:h,isVideo:g,spec:j})=>{const P=(0,c.W)(),A=(0,d.s)(),b=(0,r.YQ)((i=>{let s;if(P({type:"click",intent:x?"pause":"play"}),j){const i=j.playbackButtonFactory();let t;t=y&&x?i.hitPause({itemToBePaused:e}):y&&!x?i.hitResume({itemToBeResumed:e}):i.hitPlay({itemToBePlayed:e}),s=A.logInteraction(t)}t(i,s)}),o.d,{leading:!0,trailing:!1});return(0,m.jsxs)("div",{className:u.A.rowImageWithPlay,children:[(0,m.jsx)(l.e,{src:i,isEpisode:h,isVideo:g}),(0,m.jsx)(n.x,{className:a()(u.A.rowPlayPauseButton,u.A.rowImagePlayPauseButton),iconClassName:u.A.rowPlayPauseIcon,onClick:b,isPlaying:x,isLocked:p,playAriaLabel:s})]})}},44036:(e,i,s)=>{s.d(i,{H:()=>c});var t=s(17339),a=s(13505),r=s(93492),n=s(60483),l=s(86070);const c=()=>(0,l.jsxs)("div",{className:n.A.emptyContainer,children:[(0,l.jsx)(t.q,{size:"xxlarge","aria-hidden":"true"}),(0,l.jsxs)("div",{className:n.A.titleContainer,children:[(0,l.jsx)(a.E,{as:"h1",variant:"titleMedium",semanticColor:"textBase",children:r.Ru.get("history.empty-title")}),(0,l.jsx)("p",{children:r.Ru.get("history.empty-description")})]})]})},49157:(e,i,s)=>{s.d(i,{M:()=>t.M});var t=s(24122)},84409:(e,i,s)=>{s.r(i),s.d(i,{default:()=>re});var t=s(4937),a=s(13505),r=s(93492),n=s(44036),l=s(30758),c=s(43758),o=s(40997),d=s(33279),u=s(72574),m=s(12367),x=s(36019),y=s(92734),p=s(98955),h=s(71070),g=s(34978),j=s(30368),P=s(76762),A=s(54878),b=s(19146),k=s(22360),v=s(83298),R=s(97998),E=s(1782),C=s(8562),I=s(23602),T=s(61056),U=s(13670),w=s(53458),f=s(49157),B=s(8766),L=s(3568),O=s(57836),M=s(43671),_=s(24395),N=s(21081),q=s(46307),F=s(78172),H=s(89979),S=s(22810),K=s(86070);const D=l.memo((function({uri:e,name:i,duration_ms:s,index:t,imgUrl:a,artists:n,album:l,isExplicit:c,isMOGEFRestricted:o,contextItem:d,type:D}){const{isActive:G,isPlaying:V,triggerPlay:Q,togglePlay:X}=(0,q.P)({uri:e,pages:[{items:[{...d}]}]},{featureIdentifier:"history"}),$=D===F.c.TRACK,z=D===F.c.EPISODE,W=D===F.c.CHAPTER,J=(0,N.T)(e),{isPlayable:Y,isAnyArtistBanned:Z}=(0,B.g)(e,{isPlayable:!0,isLocal:(0,u.PkR)(e),isOutOfMarket:!1,artistUris:n?.map((e=>e.uri))}),{unBanArtists:ee}=(0,f.M)(n.map((e=>e.uri))),{badges:ie,hasBadges:se}=(0,H.b)({downloadAvailability:J,isExplicit:c,isMOGEFRestricted:o}),te=n?.map((e=>e.name)).join(r.Ru.getSeparator())||"";let ae;return z?ae=(0,K.jsx)(y.b,{uri:e,contextUri:e,showUri:l.uri}):W?ae=(0,K.jsx)(x.r,{uri:e}):$&&(0,u.PkR)(e)?ae=(0,K.jsx)(p.A,{uri:e,contextUri:e}):$&&(ae=(0,K.jsx)(h.P,{uri:e,contextUri:e,albumUri:l.uri,artists:n})),(0,K.jsx)(_.pZ,{value:"row",index:t,children:(0,K.jsx)(m.h,{menu:ae,children:(0,K.jsxs)(U.w,{uri:e,contextUri:e,index:t,ariaRowIndex:t,onTriggerPlay:()=>{Q()},isActive:G,isPlayable:Y,isAnyArtistBanned:Z,handleArtistBanUndoClick:ee,ageRestricted:o,dragMetadata:{name:i,createdBy:te},isExplicit:c,children:[(0,K.jsxs)(E.U,{ariaColIndex:0,children:[(0,K.jsx)(b.u,{uri:e,src:a,isPlaying:V,isActive:G,isLocked:!1,onClick:()=>{X()},isEpisode:(0,u.gHQ)(e),playAriaLabel:r.Ru.get("tracklist.a11y.play",i,te)}),(0,K.jsxs)(k.l,{children:[(0,K.jsx)(T.p,{titleText:i,children:i}),se&&(0,K.jsxs)(P.P,{children:[ie.download&&(0,K.jsx)(O._,{}),ie.explicit&&(0,K.jsx)(L.U,{}),ie.nineteen&&(0,K.jsx)(M.q,{className:S.A.nineteen,size:16})]}),(0,K.jsx)(I.p,{children:(0,u.U_m)(e)?(0,K.jsx)(j.l,{artists:n}):n[0]?.name??""})]})]}),(0,K.jsx)(C.o,{ariaColIndex:2,children:(0,K.jsx)(g.g,{nonInteractive:(0,u.PkR)(e),uri:l.uri,name:l.name,creatorUri:n?.[0]?.uri,children:l.name})}),(0,K.jsxs)(R.l,{ariaColIndex:1,children:[!W&&(0,K.jsx)(w.d,{uri:e,type:D}),(0,K.jsx)(A.P,{duration:s}),(0,K.jsx)(v.Y,{menu:ae,label:r.Ru.get("more.label.track",i,te)})]})]})})})}),((e,i)=>e.uri===i.uri));var G=s(82261),V=s(82414),Q=s(56226),X=s(23046),$=s(75784),z=s(24320),W=s(52596),J=s(95717);const Y=l.memo((function({items:e}){const i=(0,l.useCallback)(((e,i)=>{const s=(0,J.g)(e.images??[],{desiredSize:40});return(0,$.v)(e)?(0,K.jsx)(D,{index:i,uri:e.isLocal?e.uri:(0,G.a)(e),name:e.name,duration_ms:e.duration.milliseconds,imgUrl:s?.url||"",album:e.album,artists:e.artists,isExplicit:e.isExplicit??!1,isMOGEFRestricted:e.is19PlusOnly??!1,contextItem:e,type:F.c.TRACK},i+e.uri):(0,X.p)(e)?(0,K.jsx)(D,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:s?.url||"",album:e.show,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:F.c.EPISODE},i+e.uri):(0,Q.d)(e)?(0,K.jsx)(D,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:s?.url||"",album:e.book,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:F.c.CHAPTER},i+e.uri):((0,V.N)(e)||(0,z.v)(e)||(0,W.k)(e),(0,K.jsx)(c.qq,{height:`${o.FL}px`}))}),[]),s=(0,l.useMemo)((()=>[d.$.TITLE_AND_ARTIST,d.$.ALBUM_OR_PODCAST,d.$.DURATION]),[]),t=(0,l.useCallback)((e=>({uri:e.uri})),[]);return(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(_.pZ,{value:"play-history-tracklist",children:(0,K.jsx)(o.S4,{ariaLabel:"play-history",hasHeaderRow:!0,columns:s,renderRow:i,resolveItem:t,tracks:e,nrTracks:e.length,rowPlaceholder:c.qq,limit:50,columnPersistenceKey:"play-history-tracklist"})})})}));var Z=s(88853);const ee="j0idwRGPXbi0ampiGHUF",ie="V6Kms48prL8QhkQxTJ2d",se=()=>{const{isLoading:e,data:i}=(0,Z.a)();return e?null:i?.items.length?(0,K.jsxs)("div",{className:ee,children:[(0,K.jsx)(a.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",className:ie,children:r.Ru.get("view.recently-played")}),(0,K.jsx)(Y,{items:i.items})]}):(0,K.jsx)(n.H,{})};var te=s(60775),ae=s(98336);const re=()=>(0,ae.y)()?(0,K.jsx)(te.U,{children:(0,K.jsx)(se,{})}):(0,K.jsx)(t.$,{to:"/"})},88853:(e,i,s)=>{s.d(i,{a:()=>o});var t=s(98929),a=s(46710),r=s(2240),n=s(7646),l=s(30758);const c=["play-history-contents"];function o(){const e=(0,n.q)(),i=(0,t.jE)();return function(e,i){const s=(0,n.q)();(0,l.useEffect)((()=>s.getEvents().addListener(e,i)),[e,i,s])}(r.X.UPDATE,(e=>i.setQueryData(c,e.data))),(0,a.I)({queryKey:c,queryFn:()=>e.getContents(),gcTime:3e5,staleTime:0})}},60483:(e,i,s)=>{s.d(i,{A:()=>t});const t={emptyContainer:"BP2Fv3OX_ZYbjdA4lovg",large:"Mxz3x1XNHpH4SvqEVkt0",titleContainer:"Olk6uKV_CIIVtWRrdRJc",icon:"AIW16bVmugXaJ42KBNKQ"}}}]);
//# sourceMappingURL=xpui-routes-play-history-page.js.map