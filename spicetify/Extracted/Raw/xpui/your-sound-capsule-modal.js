"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[4574],{7122:(e,o,s)=>{s.d(o,{YourSoundCapsuleModal:()=>j});var l=s(30758),u=s(62411),t=s(60749),n=s(74728),a=s(87732),r=s(53248),i=s(33167),d=s(3118),c=s(61514),p=s(26906),m=s(85387),y=s(61e3),b=s(555),_=s(93492),f=s(76252);const w=()=>{const e=["IN","BR","ID"],o=(0,u.d4)(f.JJ);return e.includes(o?.toUpperCase())};var g=s(60841),P=s(98962);let x=function(e){return e.NOT_AVAILABLE="not-available",e.PREMIUM="premium",e.OPEN_APP="open-app",e}({});const h=()=>{const e=w(),o=(0,u.d4)(P.Yb),s=(0,g.V)();return e?o||s?x.PREMIUM:x.OPEN_APP:x.NOT_AVAILABLE};var C=s(87511),v=s(50107);const k="BGbkTNBgT3ZySaYM4ufS";var E=s(86070);const R=({isPremium:e,onDismiss:o})=>{const s=(0,C.k)(),{url:l,isExternal:n}=s,a=(0,m.Zp)(),d=(0,u.wA)(),c=h(),f=(0,g.V)(),w=(0,p.vh)(),P=(e,o)=>{const s={category:"your_sound_capsule_modal",action:"click",label:e,destination_url:o},l=f?(0,i.Z)(s):(0,r.Q)(s);w.send(l)};return(0,E.jsxs)("div",{className:k,children:[(0,E.jsx)(y.H,{condensed:!0,size:"small",onClick:()=>{P(`${c}-dismiss`),o(),d(v.XL.actions.close())},children:_.Ru.get("web-player.your-sound-capsule-modal.dismiss")}),e&&(0,E.jsx)(b.$,{size:"small",onClick:()=>{P(`${c}-get-premium`,`${l}?ref=your_sound_capsule_modal`),!1===n?a({pathname:"/premium",search:(0,t.PI)({ref:"your_sound_capsule_modal"}).toString()}):window.open(`${l}?ref=your_sound_capsule_modal`,"_blank")},children:_.Ru.get("web-player.your-sound-capsule-modal.get-premium")})]})},A=()=>{switch(h()){case x.PREMIUM:return{title:_.Ru.get("web-player.your-sound-capsule-modal.premium-title"),text:_.Ru.get("web-player.your-sound-capsule-modal.premium-text")};case x.OPEN_APP:return{title:_.Ru.get("web-player.your-sound-capsule-modal.open-app-title"),text:_.Ru.get("web-player.your-sound-capsule-modal.open-app-text")};default:return{title:_.Ru.get("web-player.your-sound-capsule-modal.not-available-title"),text:_.Ru.get("web-player.your-sound-capsule-modal.not-available-text")}}};var M=s(90630),I=s(45022),N=s(98176);const O=({onClose:e})=>{const o=(0,u.d4)(I.fl),s=(0,d.NC)(M.oFY),t=h(),{title:m,text:y}=A(),b=(0,p.vh)(),_=(0,g.V)();return(0,l.useEffect)((()=>{if(!o||!s)return;const e={category:"your_sound_capsule_modal",action:"view",label:`${t}-view`},l=_?(0,i.Z)(e):(0,r.Q)(e);b.send(l)}),[o,s,_,b,t]),s?(0,E.jsx)(c.A,{isOpen:o,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:(0,E.jsx)(n.Q,{id:"your-sound-capsule-modal",dialogTitle:m,body:(0,E.jsx)(a.Z,{children:y}),footer:(0,E.jsx)(R,{isPremium:t===x.PREMIUM,onDismiss:e})})}):null},j=()=>{const e=(0,u.wA)(),[o,s]=(0,t.ok)(),n="1"===o.get(N.P.YourSoundCapsule);(0,l.useEffect)((()=>{n&&e(v.XL.actions.open())}),[e,n]);const a=(0,l.useCallback)((()=>{s((e=>(e.delete(N.P.YourSoundCapsule),e)))}),[s]);return(0,E.jsx)(O,{onClose:a})}}}]);
//# sourceMappingURL=your-sound-capsule-modal.js.map